const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeaderBar-rIrgWXYz.js","assets/myimage-_KGIiRdm.js","assets/user-uhWbiDO7.js","assets/palette-_SZg1LcK.js","assets/AboutUs-321yWhgy.js","assets/4-CWsi-qAi.js","assets/Education-PmpkKpjG.js","assets/external-link-BEk-d1qF.js","assets/SkillsData-C7DTK5zS.js","assets/proxy-YnRA3VEq.js","assets/index-QErOytvo.js","assets/boxes-Dx8-8nwx.js","assets/ProjectsData-B3GeYrVG.js","assets/ProjectsData-CSRAChdu.css","assets/designpage-BxGwgHob.js","assets/Testimonials-CuuASNNX.js","assets/Copyright-OO81IRax.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Xk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $u={exports:{}},ps={},Gu={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function ry(){if(kp)return he;kp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=_&&I[_]||I["@@iterator"],typeof I=="function"?I:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,F={};function V(I,b,J){this.props=I,this.context=b,this.refs=F,this.updater=J||N}V.prototype.isReactComponent={},V.prototype.setState=function(I,b){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,b,"setState")},V.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function _e(){}_e.prototype=V.prototype;function Ie(I,b,J){this.props=I,this.context=b,this.refs=F,this.updater=J||N}var ee=Ie.prototype=new _e;ee.constructor=Ie,R(ee,V.prototype),ee.isPureReactComponent=!0;var ye=Array.isArray,Fe=Object.prototype.hasOwnProperty,ge={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function K(I,b,J){var Z,ae={},ue=null,le=null;if(b!=null)for(Z in b.ref!==void 0&&(le=b.ref),b.key!==void 0&&(ue=""+b.key),b)Fe.call(b,Z)&&!oe.hasOwnProperty(Z)&&(ae[Z]=b[Z]);var te=arguments.length-2;if(te===1)ae.children=J;else if(1<te){for(var de=Array(te),He=0;He<te;He++)de[He]=arguments[He+2];ae.children=de}if(I&&I.defaultProps)for(Z in te=I.defaultProps,te)ae[Z]===void 0&&(ae[Z]=te[Z]);return{$$typeof:i,type:I,key:ue,ref:le,props:ae,_owner:ge.current}}function De(I,b){return{$$typeof:i,type:I.type,key:b,ref:I.ref,props:I.props,_owner:I._owner}}function Ve(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function $(I){var b={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(J){return b[J]})}var j=/\/+/g;function se(I,b){return typeof I=="object"&&I!==null&&I.key!=null?$(""+I.key):b.toString(36)}function Q(I,b,J,Z,ae){var ue=typeof I;(ue==="undefined"||ue==="boolean")&&(I=null);var le=!1;if(I===null)le=!0;else switch(ue){case"string":case"number":le=!0;break;case"object":switch(I.$$typeof){case i:case e:le=!0}}if(le)return le=I,ae=ae(le),I=Z===""?"."+se(le,0):Z,ye(ae)?(J="",I!=null&&(J=I.replace(j,"$&/")+"/"),Q(ae,b,J,"",function(He){return He})):ae!=null&&(Ve(ae)&&(ae=De(ae,J+(!ae.key||le&&le.key===ae.key?"":(""+ae.key).replace(j,"$&/")+"/")+I)),b.push(ae)),1;if(le=0,Z=Z===""?".":Z+":",ye(I))for(var te=0;te<I.length;te++){ue=I[te];var de=Z+se(ue,te);le+=Q(ue,b,J,de,ae)}else if(de=w(I),typeof de=="function")for(I=de.call(I),te=0;!(ue=I.next()).done;)ue=ue.value,de=Z+se(ue,te++),le+=Q(ue,b,J,de,ae);else if(ue==="object")throw b=String(I),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return le}function be(I,b,J){if(I==null)return I;var Z=[],ae=0;return Q(I,Z,"","",function(ue){return b.call(J,ue,ae++)}),Z}function Re(I){if(I._status===-1){var b=I._result;b=b(),b.then(function(J){(I._status===0||I._status===-1)&&(I._status=1,I._result=J)},function(J){(I._status===0||I._status===-1)&&(I._status=2,I._result=J)}),I._status===-1&&(I._status=0,I._result=b)}if(I._status===1)return I._result.default;throw I._result}var Se={current:null},L={transition:null},q={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:L,ReactCurrentOwner:ge};function U(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:be,forEach:function(I,b,J){be(I,function(){b.apply(this,arguments)},J)},count:function(I){var b=0;return be(I,function(){b++}),b},toArray:function(I){return be(I,function(b){return b})||[]},only:function(I){if(!Ve(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},he.Component=V,he.Fragment=n,he.Profiler=l,he.PureComponent=Ie,he.StrictMode=s,he.Suspense=p,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,he.act=U,he.cloneElement=function(I,b,J){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var Z=R({},I.props),ae=I.key,ue=I.ref,le=I._owner;if(b!=null){if(b.ref!==void 0&&(ue=b.ref,le=ge.current),b.key!==void 0&&(ae=""+b.key),I.type&&I.type.defaultProps)var te=I.type.defaultProps;for(de in b)Fe.call(b,de)&&!oe.hasOwnProperty(de)&&(Z[de]=b[de]===void 0&&te!==void 0?te[de]:b[de])}var de=arguments.length-2;if(de===1)Z.children=J;else if(1<de){te=Array(de);for(var He=0;He<de;He++)te[He]=arguments[He+2];Z.children=te}return{$$typeof:i,type:I.type,key:ae,ref:ue,props:Z,_owner:le}},he.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:u,_context:I},I.Consumer=I},he.createElement=K,he.createFactory=function(I){var b=K.bind(null,I);return b.type=I,b},he.createRef=function(){return{current:null}},he.forwardRef=function(I){return{$$typeof:f,render:I}},he.isValidElement=Ve,he.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:Re}},he.memo=function(I,b){return{$$typeof:g,type:I,compare:b===void 0?null:b}},he.startTransition=function(I){var b=L.transition;L.transition={};try{I()}finally{L.transition=b}},he.unstable_act=U,he.useCallback=function(I,b){return Se.current.useCallback(I,b)},he.useContext=function(I){return Se.current.useContext(I)},he.useDebugValue=function(){},he.useDeferredValue=function(I){return Se.current.useDeferredValue(I)},he.useEffect=function(I,b){return Se.current.useEffect(I,b)},he.useId=function(){return Se.current.useId()},he.useImperativeHandle=function(I,b,J){return Se.current.useImperativeHandle(I,b,J)},he.useInsertionEffect=function(I,b){return Se.current.useInsertionEffect(I,b)},he.useLayoutEffect=function(I,b){return Se.current.useLayoutEffect(I,b)},he.useMemo=function(I,b){return Se.current.useMemo(I,b)},he.useReducer=function(I,b,J){return Se.current.useReducer(I,b,J)},he.useRef=function(I){return Se.current.useRef(I)},he.useState=function(I){return Se.current.useState(I)},he.useSyncExternalStore=function(I,b,J){return Se.current.useSyncExternalStore(I,b,J)},he.useTransition=function(){return Se.current.useTransition()},he.version="18.3.1",he}var Tp;function Ac(){return Tp||(Tp=1,Gu.exports=ry()),Gu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function iy(){if(xp)return ps;xp=1;var i=Ac(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,g){var y,_={},w=null,N=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(N=p.ref);for(y in p)s.call(p,y)&&!u.hasOwnProperty(y)&&(_[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)_[y]===void 0&&(_[y]=p[y]);return{$$typeof:e,type:f,key:w,ref:N,props:_,_owner:l.current}}return ps.Fragment=n,ps.jsx=d,ps.jsxs=d,ps}var Np;function sy(){return Np||(Np=1,$u.exports=iy()),$u.exports}var C=sy(),ce=Ac();const Sr=Jm(ce);var tl={},Ku={exports:{}},St={},qu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function oy(){return bp||(bp=1,function(i){function e(L,q){var U=L.length;L.push(q);e:for(;0<U;){var I=U-1>>>1,b=L[I];if(0<l(b,q))L[I]=q,L[U]=b,U=I;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var q=L[0],U=L.pop();if(U!==q){L[0]=U;e:for(var I=0,b=L.length,J=b>>>1;I<J;){var Z=2*(I+1)-1,ae=L[Z],ue=Z+1,le=L[ue];if(0>l(ae,U))ue<b&&0>l(le,ae)?(L[I]=le,L[ue]=U,I=ue):(L[I]=ae,L[Z]=U,I=Z);else if(ue<b&&0>l(le,U))L[I]=le,L[ue]=U,I=ue;else break e}}return q}function l(L,q){var U=L.sortIndex-q.sortIndex;return U!==0?U:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,_=null,w=3,N=!1,R=!1,F=!1,V=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(L){for(var q=n(g);q!==null;){if(q.callback===null)s(g);else if(q.startTime<=L)s(g),q.sortIndex=q.expirationTime,e(p,q);else break;q=n(g)}}function ye(L){if(F=!1,ee(L),!R)if(n(p)!==null)R=!0,Re(Fe);else{var q=n(g);q!==null&&Se(ye,q.startTime-L)}}function Fe(L,q){R=!1,F&&(F=!1,_e(K),K=-1),N=!0;var U=w;try{for(ee(q),_=n(p);_!==null&&(!(_.expirationTime>q)||L&&!$());){var I=_.callback;if(typeof I=="function"){_.callback=null,w=_.priorityLevel;var b=I(_.expirationTime<=q);q=i.unstable_now(),typeof b=="function"?_.callback=b:_===n(p)&&s(p),ee(q)}else s(p);_=n(p)}if(_!==null)var J=!0;else{var Z=n(g);Z!==null&&Se(ye,Z.startTime-q),J=!1}return J}finally{_=null,w=U,N=!1}}var ge=!1,oe=null,K=-1,De=5,Ve=-1;function $(){return!(i.unstable_now()-Ve<De)}function j(){if(oe!==null){var L=i.unstable_now();Ve=L;var q=!0;try{q=oe(!0,L)}finally{q?se():(ge=!1,oe=null)}}else ge=!1}var se;if(typeof Ie=="function")se=function(){Ie(j)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,be=Q.port2;Q.port1.onmessage=j,se=function(){be.postMessage(null)}}else se=function(){V(j,0)};function Re(L){oe=L,ge||(ge=!0,se())}function Se(L,q){K=V(function(){L(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){R||N||(R=!0,Re(Fe))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(L){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var U=w;w=q;try{return L()}finally{w=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=w;w=L;try{return q()}finally{w=U}},i.unstable_scheduleCallback=function(L,q,U){var I=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,L){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=U+b,L={id:y++,callback:q,priorityLevel:L,startTime:U,expirationTime:b,sortIndex:-1},U>I?(L.sortIndex=U,e(g,L),n(p)===null&&L===n(g)&&(F?(_e(K),K=-1):F=!0,Se(ye,U-I))):(L.sortIndex=b,e(p,L),R||N||(R=!0,Re(Fe))),L},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(L){var q=w;return function(){var U=w;w=q;try{return L.apply(this,arguments)}finally{w=U}}}}(Qu)),Qu}var Rp;function ly(){return Rp||(Rp=1,qu.exports=oy()),qu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function ay(){if(Pp)return St;Pp=1;var i=Ac(),e=ly();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function w(t){return p.call(_,t)?!0:p.call(y,t)?!1:g.test(t)?_[t]=!0:(y[t]=!0,!1)}function N(t,r,o,a){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R(t,r,o,a){if(r===null||typeof r>"u"||N(t,r,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function F(t,r,o,a,c,h,m){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=h,this.removeEmptyString=m}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){V[t]=new F(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];V[r]=new F(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){V[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){V[t]=new F(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){V[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){V[t]=new F(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){V[t]=new F(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){V[t]=new F(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){V[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)});var _e=/[\-:]([a-z])/g;function Ie(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(_e,Ie);V[r]=new F(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(_e,Ie);V[r]=new F(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(_e,Ie);V[r]=new F(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){V[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)}),V.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){V[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)});function ee(t,r,o,a){var c=V.hasOwnProperty(r)?V[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(R(r,o,c,a)&&(o=null),a||c===null?w(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(r=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(r):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,r,o):t.setAttribute(r,o))))}var ye=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),ge=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Ve=Symbol.for("react.provider"),$=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),L=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var U=Object.assign,I;function b(t){if(I===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);I=r&&r[1]||""}return`
`+I+t}var J=!1;function Z(t,r){if(!t||J)return"";J=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(x){var a=x}Reflect.construct(t,[],r)}else{try{r.call()}catch(x){a=x}t.call(r.prototype)}else{try{throw Error()}catch(x){a=x}t()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),h=a.stack.split(`
`),m=c.length-1,v=h.length-1;1<=m&&0<=v&&c[m]!==h[v];)v--;for(;1<=m&&0<=v;m--,v--)if(c[m]!==h[v]){if(m!==1||v!==1)do if(m--,v--,0>v||c[m]!==h[v]){var E=`
`+c[m].replace(" at new "," at ");return t.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",t.displayName)),E}while(1<=m&&0<=v);break}}}finally{J=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function ae(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=Z(t.type,!1),t;case 11:return t=Z(t.type.render,!1),t;case 1:return t=Z(t.type,!0),t;default:return""}}function ue(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case ge:return"Portal";case De:return"Profiler";case K:return"StrictMode";case se:return"Suspense";case Q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $:return(t.displayName||"Context")+".Consumer";case Ve:return(t._context.displayName||"Context")+".Provider";case j:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case be:return r=t.displayName||null,r!==null?r:ue(t.type)||"Memo";case Re:r=t._payload,t=t._init;try{return ue(t(r))}catch{}}return null}function le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(r);case 8:return r===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function te(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function de(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function He(t){var r=de(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,h=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,h.call(this,m)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function kt(t){t._valueTracker||(t._valueTracker=He(t))}function Pt(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),a="";return t&&(a=de(t)?t.checked?"true":"false":t.value),t=a,t!==o?(r.setValue(t),!0):!1}function Te(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function we(t,r){var o=r.checked;return U({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function it(t,r){var o=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;o=te(r.value!=null?r.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function zt(t,r){r=r.checked,r!=null&&ee(t,"checked",r,!1)}function Dr(t,r){zt(t,r);var o=te(r.value),a=r.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ea(t,r.type,o):r.hasOwnProperty("defaultValue")&&ea(t,r.type,te(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ad(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ea(t,r,o){(r!=="number"||Te(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var bi=Array.isArray;function Mr(t,r,o,a){if(t=t.options,r){r={};for(var c=0;c<o.length;c++)r["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=r.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+te(o),r=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function ta(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(bi(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:te(o)}}function Md(t,r){var o=te(r.value),a=te(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function Ld(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function jd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?jd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gs,Fd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(r,o,a,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Gs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ri(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},av=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(t){av.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Pi[r]=Pi[t]})});function Ud(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Pi.hasOwnProperty(t)&&Pi[t]?(""+r).trim():r+"px"}function zd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=Ud(o,r[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var uv=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(t,r){if(r){if(uv[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ia(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,Lr=null,jr=null;function Vd(t){if(t=Zi(t)){if(typeof la!="function")throw Error(n(280));var r=t.stateNode;r&&(r=go(r),la(t.stateNode,t.type,r))}}function Hd(t){Lr?jr?jr.push(t):jr=[t]:Lr=t}function Wd(){if(Lr){var t=Lr,r=jr;if(jr=Lr=null,Vd(t),r)for(t=0;t<r.length;t++)Vd(r[t])}}function Bd(t,r){return t(r)}function $d(){}var aa=!1;function Gd(t,r,o){if(aa)return t(r,o);aa=!0;try{return Bd(t,r,o)}finally{aa=!1,(Lr!==null||jr!==null)&&($d(),Wd())}}function Oi(t,r){var o=t.stateNode;if(o===null)return null;var a=go(o);if(a===null)return null;o=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ua=!1;if(f)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{ua=!1}function cv(t,r,o,a,c,h,m,v,E){var x=Array.prototype.slice.call(arguments,3);try{r.apply(o,x)}catch(O){this.onError(O)}}var Di=!1,Ks=null,qs=!1,ca=null,dv={onError:function(t){Di=!0,Ks=t}};function hv(t,r,o,a,c,h,m,v,E){Di=!1,Ks=null,cv.apply(dv,arguments)}function fv(t,r,o,a,c,h,m,v,E){if(hv.apply(this,arguments),Di){if(Di){var x=Ks;Di=!1,Ks=null}else throw Error(n(198));qs||(qs=!0,ca=x)}}function sr(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Kd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function qd(t){if(sr(t)!==t)throw Error(n(188))}function pv(t){var r=t.alternate;if(!r){if(r=sr(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,a=r;;){var c=o.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===o)return qd(c),t;if(h===a)return qd(c),r;h=h.sibling}throw Error(n(188))}if(o.return!==a.return)o=c,a=h;else{for(var m=!1,v=c.child;v;){if(v===o){m=!0,o=c,a=h;break}if(v===a){m=!0,a=c,o=h;break}v=v.sibling}if(!m){for(v=h.child;v;){if(v===o){m=!0,o=h,a=c;break}if(v===a){m=!0,a=h,o=c;break}v=v.sibling}if(!m)throw Error(n(189))}}if(o.alternate!==a)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Qd(t){return t=pv(t),t!==null?Yd(t):null}function Yd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Yd(t);if(r!==null)return r;t=t.sibling}return null}var Xd=e.unstable_scheduleCallback,Jd=e.unstable_cancelCallback,mv=e.unstable_shouldYield,gv=e.unstable_requestPaint,Ge=e.unstable_now,vv=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,Zd=e.unstable_UserBlockingPriority,Qs=e.unstable_NormalPriority,_v=e.unstable_LowPriority,eh=e.unstable_IdlePriority,Ys=null,en=null;function yv(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ys,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Sv,wv=Math.log,Ev=Math.LN2;function Sv(t){return t>>>=0,t===0?32:31-(wv(t)/Ev|0)|0}var Xs=64,Js=4194304;function Mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zs(t,r){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,h=t.pingedLanes,m=o&268435455;if(m!==0){var v=m&~c;v!==0?a=Mi(v):(h&=m,h!==0&&(a=Mi(h)))}else m=o&~c,m!==0?a=Mi(m):h!==0&&(a=Mi(h));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,h=r&-r,c>=h||c===16&&(h&4194240)!==0))return r;if(a&4&&(a|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)o=31-Vt(r),c=1<<o,a|=t[o],r&=~c;return a}function Cv(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iv(t,r){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes;0<h;){var m=31-Vt(h),v=1<<m,E=c[m];E===-1?(!(v&o)||v&a)&&(c[m]=Cv(v,r)):E<=r&&(t.expiredLanes|=v),h&=~v}}function ha(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function th(){var t=Xs;return Xs<<=1,!(Xs&4194240)&&(Xs=64),t}function fa(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Li(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Vt(r),t[r]=o}function kv(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-Vt(o),h=1<<c;r[c]=0,a[c]=-1,t[c]=-1,o&=~h}}function pa(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var a=31-Vt(o),c=1<<a;c&r|t[a]&r&&(t[a]|=r),o&=~c}}var ke=0;function nh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rh,ma,ih,sh,oh,ga=!1,eo=[],xn=null,Nn=null,bn=null,ji=new Map,Fi=new Map,Rn=[],Tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(t,r){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":ji.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(r.pointerId)}}function Ui(t,r,o,a,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:o,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},r!==null&&(r=Zi(r),r!==null&&ma(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function xv(t,r,o,a,c){switch(r){case"focusin":return xn=Ui(xn,t,r,o,a,c),!0;case"dragenter":return Nn=Ui(Nn,t,r,o,a,c),!0;case"mouseover":return bn=Ui(bn,t,r,o,a,c),!0;case"pointerover":var h=c.pointerId;return ji.set(h,Ui(ji.get(h)||null,t,r,o,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Fi.set(h,Ui(Fi.get(h)||null,t,r,o,a,c)),!0}return!1}function ah(t){var r=or(t.target);if(r!==null){var o=sr(r);if(o!==null){if(r=o.tag,r===13){if(r=Kd(o),r!==null){t.blockedOn=r,oh(t.priority,function(){ih(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function to(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=_a(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);sa=a,o.target.dispatchEvent(a),sa=null}else return r=Zi(o),r!==null&&ma(r),t.blockedOn=o,!1;r.shift()}return!0}function uh(t,r,o){to(t)&&o.delete(r)}function Nv(){ga=!1,xn!==null&&to(xn)&&(xn=null),Nn!==null&&to(Nn)&&(Nn=null),bn!==null&&to(bn)&&(bn=null),ji.forEach(uh),Fi.forEach(uh)}function zi(t,r){t.blockedOn===r&&(t.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nv)))}function Vi(t){function r(c){return zi(c,t)}if(0<eo.length){zi(eo[0],t);for(var o=1;o<eo.length;o++){var a=eo[o];a.blockedOn===t&&(a.blockedOn=null)}}for(xn!==null&&zi(xn,t),Nn!==null&&zi(Nn,t),bn!==null&&zi(bn,t),ji.forEach(r),Fi.forEach(r),o=0;o<Rn.length;o++)a=Rn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Rn.length&&(o=Rn[0],o.blockedOn===null);)ah(o),o.blockedOn===null&&Rn.shift()}var Fr=ye.ReactCurrentBatchConfig,no=!0;function bv(t,r,o,a){var c=ke,h=Fr.transition;Fr.transition=null;try{ke=1,va(t,r,o,a)}finally{ke=c,Fr.transition=h}}function Rv(t,r,o,a){var c=ke,h=Fr.transition;Fr.transition=null;try{ke=4,va(t,r,o,a)}finally{ke=c,Fr.transition=h}}function va(t,r,o,a){if(no){var c=_a(t,r,o,a);if(c===null)Ma(t,r,a,ro,o),lh(t,a);else if(xv(c,t,r,o,a))a.stopPropagation();else if(lh(t,a),r&4&&-1<Tv.indexOf(t)){for(;c!==null;){var h=Zi(c);if(h!==null&&rh(h),h=_a(t,r,o,a),h===null&&Ma(t,r,a,ro,o),h===c)break;c=h}c!==null&&a.stopPropagation()}else Ma(t,r,a,null,o)}}var ro=null;function _a(t,r,o,a){if(ro=null,t=oa(a),t=or(t),t!==null)if(r=sr(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Kd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ro=t,null}function ch(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vv()){case da:return 1;case Zd:return 4;case Qs:case _v:return 16;case eh:return 536870912;default:return 16}default:return 16}}var Pn=null,ya=null,io=null;function dh(){if(io)return io;var t,r=ya,o=r.length,a,c="value"in Pn?Pn.value:Pn.textContent,h=c.length;for(t=0;t<o&&r[t]===c[t];t++);var m=o-t;for(a=1;a<=m&&r[o-a]===c[h-a];a++);return io=c.slice(t,1<a?1-a:void 0)}function so(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function oo(){return!0}function hh(){return!1}function Tt(t){function r(o,a,c,h,m){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(o=t[v],this[v]=o?o(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?oo:hh,this.isPropagationStopped=hh,this}return U(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),r}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Tt(Ur),Hi=U({},Ur,{view:0,detail:0}),Pv=Tt(Hi),Ea,Sa,Wi,lo=U({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(Ea=t.screenX-Wi.screenX,Sa=t.screenY-Wi.screenY):Sa=Ea=0,Wi=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),fh=Tt(lo),Ov=U({},lo,{dataTransfer:0}),Av=Tt(Ov),Dv=U({},Hi,{relatedTarget:0}),Ca=Tt(Dv),Mv=U({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Lv=Tt(Mv),jv=U({},Ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fv=Tt(jv),Uv=U({},Ur,{data:0}),ph=Tt(Uv),zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hv[t])?!!r[t]:!1}function Ia(){return Wv}var Bv=U({},Hi,{key:function(t){if(t.key){var r=zv[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=so(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?so(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?so(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$v=Tt(Bv),Gv=U({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=Tt(Gv),Kv=U({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),qv=Tt(Kv),Qv=U({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yv=Tt(Qv),Xv=U({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jv=Tt(Xv),Zv=[9,13,27,32],ka=f&&"CompositionEvent"in window,Bi=null;f&&"documentMode"in document&&(Bi=document.documentMode);var e_=f&&"TextEvent"in window&&!Bi,gh=f&&(!ka||Bi&&8<Bi&&11>=Bi),vh=" ",_h=!1;function yh(t,r){switch(t){case"keyup":return Zv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function t_(t,r){switch(t){case"compositionend":return wh(r);case"keypress":return r.which!==32?null:(_h=!0,vh);case"textInput":return t=r.data,t===vh&&_h?null:t;default:return null}}function n_(t,r){if(zr)return t==="compositionend"||!ka&&yh(t,r)?(t=dh(),io=ya=Pn=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gh&&r.locale!=="ko"?null:r.data;default:return null}}var r_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!r_[t.type]:r==="textarea"}function Sh(t,r,o,a){Hd(a),r=fo(r,"onChange"),0<r.length&&(o=new wa("onChange","change",null,o,a),t.push({event:o,listeners:r}))}var $i=null,Gi=null;function i_(t){zh(t,0)}function ao(t){var r=$r(t);if(Pt(r))return t}function s_(t,r){if(t==="change")return r}var Ch=!1;if(f){var Ta;if(f){var xa="oninput"in document;if(!xa){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),xa=typeof Ih.oninput=="function"}Ta=xa}else Ta=!1;Ch=Ta&&(!document.documentMode||9<document.documentMode)}function kh(){$i&&($i.detachEvent("onpropertychange",Th),Gi=$i=null)}function Th(t){if(t.propertyName==="value"&&ao(Gi)){var r=[];Sh(r,Gi,t,oa(t)),Gd(i_,r)}}function o_(t,r,o){t==="focusin"?(kh(),$i=r,Gi=o,$i.attachEvent("onpropertychange",Th)):t==="focusout"&&kh()}function l_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ao(Gi)}function a_(t,r){if(t==="click")return ao(r)}function u_(t,r){if(t==="input"||t==="change")return ao(r)}function c_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ht=typeof Object.is=="function"?Object.is:c_;function Ki(t,r){if(Ht(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!p.call(r,c)||!Ht(t[c],r[c]))return!1}return!0}function xh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nh(t,r){var o=xh(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=r&&a>=r)return{node:o,offset:r-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xh(o)}}function bh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?bh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Rh(){for(var t=window,r=Te();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Te(t.document)}return r}function Na(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function d_(t){var r=Rh(),o=t.focusedElem,a=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&bh(o.ownerDocument.documentElement,o)){if(a!==null&&Na(o)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!t.extend&&h>a&&(c=a,a=h,h=c),c=Nh(o,h);var m=Nh(o,a);c&&m&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),h>a?(t.addRange(r),t.extend(m.node,m.offset)):(r.setEnd(m.node,m.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h_=f&&"documentMode"in document&&11>=document.documentMode,Vr=null,ba=null,qi=null,Ra=!1;function Ph(t,r,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ra||Vr==null||Vr!==Te(a)||(a=Vr,"selectionStart"in a&&Na(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qi&&Ki(qi,a)||(qi=a,a=fo(ba,"onSelect"),0<a.length&&(r=new wa("onSelect","select",null,r,o),t.push({event:r,listeners:a}),r.target=Vr)))}function uo(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Hr={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},Pa={},Oh={};f&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function co(t){if(Pa[t])return Pa[t];if(!Hr[t])return t;var r=Hr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Oh)return Pa[t]=r[o];return t}var Ah=co("animationend"),Dh=co("animationiteration"),Mh=co("animationstart"),Lh=co("transitionend"),jh=new Map,Fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(t,r){jh.set(t,r),u(r,[t])}for(var Oa=0;Oa<Fh.length;Oa++){var Aa=Fh[Oa],f_=Aa.toLowerCase(),p_=Aa[0].toUpperCase()+Aa.slice(1);On(f_,"on"+p_)}On(Ah,"onAnimationEnd"),On(Dh,"onAnimationIteration"),On(Mh,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Lh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Uh(t,r,o){var a=t.type||"unknown-event";t.currentTarget=o,fv(a,r,void 0,t),t.currentTarget=null}function zh(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var h=void 0;if(r)for(var m=a.length-1;0<=m;m--){var v=a[m],E=v.instance,x=v.currentTarget;if(v=v.listener,E!==h&&c.isPropagationStopped())break e;Uh(c,v,x),h=E}else for(m=0;m<a.length;m++){if(v=a[m],E=v.instance,x=v.currentTarget,v=v.listener,E!==h&&c.isPropagationStopped())break e;Uh(c,v,x),h=E}}}if(qs)throw t=ca,qs=!1,ca=null,t}function Me(t,r){var o=r[Va];o===void 0&&(o=r[Va]=new Set);var a=t+"__bubble";o.has(a)||(Vh(r,t,2,!1),o.add(a))}function Da(t,r,o){var a=0;r&&(a|=4),Vh(o,t,a,r)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Yi(t){if(!t[ho]){t[ho]=!0,s.forEach(function(o){o!=="selectionchange"&&(m_.has(o)||Da(o,!1,t),Da(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ho]||(r[ho]=!0,Da("selectionchange",!1,r))}}function Vh(t,r,o,a){switch(ch(r)){case 1:var c=bv;break;case 4:c=Rv;break;default:c=va}o=c.bind(null,r,o,t),c=void 0,!ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(r,o,{capture:!0,passive:c}):t.addEventListener(r,o,!0):c!==void 0?t.addEventListener(r,o,{passive:c}):t.addEventListener(r,o,!1)}function Ma(t,r,o,a,c){var h=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;m=m.return}for(;v!==null;){if(m=or(v),m===null)return;if(E=m.tag,E===5||E===6){a=h=m;continue e}v=v.parentNode}}a=a.return}Gd(function(){var x=h,O=oa(o),A=[];e:{var P=jh.get(t);if(P!==void 0){var z=wa,W=t;switch(t){case"keypress":if(so(o)===0)break e;case"keydown":case"keyup":z=$v;break;case"focusin":W="focus",z=Ca;break;case"focusout":W="blur",z=Ca;break;case"beforeblur":case"afterblur":z=Ca;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=qv;break;case Ah:case Dh:case Mh:z=Lv;break;case Lh:z=Yv;break;case"scroll":z=Pv;break;case"wheel":z=Jv;break;case"copy":case"cut":case"paste":z=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=mh}var B=(r&4)!==0,Ke=!B&&t==="scroll",k=B?P!==null?P+"Capture":null:P;B=[];for(var S=x,T;S!==null;){T=S;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,k!==null&&(D=Oi(S,k),D!=null&&B.push(Xi(S,D,T)))),Ke)break;S=S.return}0<B.length&&(P=new z(P,W,null,o,O),A.push({event:P,listeners:B}))}}if(!(r&7)){e:{if(P=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",P&&o!==sa&&(W=o.relatedTarget||o.fromElement)&&(or(W)||W[cn]))break e;if((z||P)&&(P=O.window===O?O:(P=O.ownerDocument)?P.defaultView||P.parentWindow:window,z?(W=o.relatedTarget||o.toElement,z=x,W=W?or(W):null,W!==null&&(Ke=sr(W),W!==Ke||W.tag!==5&&W.tag!==6)&&(W=null)):(z=null,W=x),z!==W)){if(B=fh,D="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(B=mh,D="onPointerLeave",k="onPointerEnter",S="pointer"),Ke=z==null?P:$r(z),T=W==null?P:$r(W),P=new B(D,S+"leave",z,o,O),P.target=Ke,P.relatedTarget=T,D=null,or(O)===x&&(B=new B(k,S+"enter",W,o,O),B.target=T,B.relatedTarget=Ke,D=B),Ke=D,z&&W)t:{for(B=z,k=W,S=0,T=B;T;T=Wr(T))S++;for(T=0,D=k;D;D=Wr(D))T++;for(;0<S-T;)B=Wr(B),S--;for(;0<T-S;)k=Wr(k),T--;for(;S--;){if(B===k||k!==null&&B===k.alternate)break t;B=Wr(B),k=Wr(k)}B=null}else B=null;z!==null&&Hh(A,P,z,B,!1),W!==null&&Ke!==null&&Hh(A,Ke,W,B,!0)}}e:{if(P=x?$r(x):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var G=s_;else if(Eh(P))if(Ch)G=u_;else{G=l_;var Y=o_}else(z=P.nodeName)&&z.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(G=a_);if(G&&(G=G(t,x))){Sh(A,G,o,O);break e}Y&&Y(t,P,x),t==="focusout"&&(Y=P._wrapperState)&&Y.controlled&&P.type==="number"&&ea(P,"number",P.value)}switch(Y=x?$r(x):window,t){case"focusin":(Eh(Y)||Y.contentEditable==="true")&&(Vr=Y,ba=x,qi=null);break;case"focusout":qi=ba=Vr=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,Ph(A,o,O);break;case"selectionchange":if(h_)break;case"keydown":case"keyup":Ph(A,o,O)}var X;if(ka)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else zr?yh(t,o)&&(re="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(re="onCompositionStart");re&&(gh&&o.locale!=="ko"&&(zr||re!=="onCompositionStart"?re==="onCompositionEnd"&&zr&&(X=dh()):(Pn=O,ya="value"in Pn?Pn.value:Pn.textContent,zr=!0)),Y=fo(x,re),0<Y.length&&(re=new ph(re,t,null,o,O),A.push({event:re,listeners:Y}),X?re.data=X:(X=wh(o),X!==null&&(re.data=X)))),(X=e_?t_(t,o):n_(t,o))&&(x=fo(x,"onBeforeInput"),0<x.length&&(O=new ph("onBeforeInput","beforeinput",null,o,O),A.push({event:O,listeners:x}),O.data=X))}zh(A,r)})}function Xi(t,r,o){return{instance:t,listener:r,currentTarget:o}}function fo(t,r){for(var o=r+"Capture",a=[];t!==null;){var c=t,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Oi(t,o),h!=null&&a.unshift(Xi(t,h,c)),h=Oi(t,r),h!=null&&a.push(Xi(t,h,c))),t=t.return}return a}function Wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hh(t,r,o,a,c){for(var h=r._reactName,m=[];o!==null&&o!==a;){var v=o,E=v.alternate,x=v.stateNode;if(E!==null&&E===a)break;v.tag===5&&x!==null&&(v=x,c?(E=Oi(o,h),E!=null&&m.unshift(Xi(o,E,v))):c||(E=Oi(o,h),E!=null&&m.push(Xi(o,E,v)))),o=o.return}m.length!==0&&t.push({event:r,listeners:m})}var g_=/\r\n?/g,v_=/\u0000|\uFFFD/g;function Wh(t){return(typeof t=="string"?t:""+t).replace(g_,`
`).replace(v_,"")}function po(t,r,o){if(r=Wh(r),Wh(t)!==r&&o)throw Error(n(425))}function mo(){}var La=null,ja=null;function Fa(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ua=typeof setTimeout=="function"?setTimeout:void 0,__=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(t){return Bh.resolve(null).then(t).catch(w_)}:Ua;function w_(t){setTimeout(function(){throw t})}function za(t,r){var o=r,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),Vi(r);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Vi(r)}function An(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function $h(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Br=Math.random().toString(36).slice(2),tn="__reactFiber$"+Br,Ji="__reactProps$"+Br,cn="__reactContainer$"+Br,Va="__reactEvents$"+Br,E_="__reactListeners$"+Br,S_="__reactHandles$"+Br;function or(t){var r=t[tn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cn]||o[tn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=$h(t);t!==null;){if(o=t[tn])return o;t=$h(t)}return r}t=o,o=t.parentNode}return null}function Zi(t){return t=t[tn]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function go(t){return t[Ji]||null}var Ha=[],Gr=-1;function Dn(t){return{current:t}}function Le(t){0>Gr||(t.current=Ha[Gr],Ha[Gr]=null,Gr--)}function Pe(t,r){Gr++,Ha[Gr]=t.current,t.current=r}var Mn={},ut=Dn(Mn),vt=Dn(!1),lr=Mn;function Kr(t,r){var o=t.type.contextTypes;if(!o)return Mn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in o)c[h]=r[h];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function _t(t){return t=t.childContextTypes,t!=null}function vo(){Le(vt),Le(ut)}function Gh(t,r,o){if(ut.current!==Mn)throw Error(n(168));Pe(ut,r),Pe(vt,o)}function Kh(t,r,o){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(n(108,le(t)||"Unknown",c));return U({},o,a)}function _o(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,lr=ut.current,Pe(ut,t),Pe(vt,vt.current),!0}function qh(t,r,o){var a=t.stateNode;if(!a)throw Error(n(169));o?(t=Kh(t,r,lr),a.__reactInternalMemoizedMergedChildContext=t,Le(vt),Le(ut),Pe(ut,t)):Le(vt),Pe(vt,o)}var dn=null,yo=!1,Wa=!1;function Qh(t){dn===null?dn=[t]:dn.push(t)}function C_(t){yo=!0,Qh(t)}function Ln(){if(!Wa&&dn!==null){Wa=!0;var t=0,r=ke;try{var o=dn;for(ke=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}dn=null,yo=!1}catch(c){throw dn!==null&&(dn=dn.slice(t+1)),Xd(da,Ln),c}finally{ke=r,Wa=!1}}return null}var qr=[],Qr=0,wo=null,Eo=0,Ot=[],At=0,ar=null,hn=1,fn="";function ur(t,r){qr[Qr++]=Eo,qr[Qr++]=wo,wo=t,Eo=r}function Yh(t,r,o){Ot[At++]=hn,Ot[At++]=fn,Ot[At++]=ar,ar=t;var a=hn;t=fn;var c=32-Vt(a)-1;a&=~(1<<c),o+=1;var h=32-Vt(r)+c;if(30<h){var m=c-c%5;h=(a&(1<<m)-1).toString(32),a>>=m,c-=m,hn=1<<32-Vt(r)+c|o<<c|a,fn=h+t}else hn=1<<h|o<<c|a,fn=t}function Ba(t){t.return!==null&&(ur(t,1),Yh(t,1,0))}function $a(t){for(;t===wo;)wo=qr[--Qr],qr[Qr]=null,Eo=qr[--Qr],qr[Qr]=null;for(;t===ar;)ar=Ot[--At],Ot[At]=null,fn=Ot[--At],Ot[At]=null,hn=Ot[--At],Ot[At]=null}var xt=null,Nt=null,je=!1,Wt=null;function Xh(t,r){var o=jt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Jh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,xt=t,Nt=An(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,xt=t,Nt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=ar!==null?{id:hn,overflow:fn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=jt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,xt=t,Nt=null,!0):!1;default:return!1}}function Ga(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ka(t){if(je){var r=Nt;if(r){var o=r;if(!Jh(t,r)){if(Ga(t))throw Error(n(418));r=An(o.nextSibling);var a=xt;r&&Jh(t,r)?Xh(a,o):(t.flags=t.flags&-4097|2,je=!1,xt=t)}}else{if(Ga(t))throw Error(n(418));t.flags=t.flags&-4097|2,je=!1,xt=t}}}function Zh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function So(t){if(t!==xt)return!1;if(!je)return Zh(t),je=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Fa(t.type,t.memoizedProps)),r&&(r=Nt)){if(Ga(t))throw ef(),Error(n(418));for(;r;)Xh(t,r),r=An(r.nextSibling)}if(Zh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Nt=An(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Nt=null}}else Nt=xt?An(t.stateNode.nextSibling):null;return!0}function ef(){for(var t=Nt;t;)t=An(t.nextSibling)}function Yr(){Nt=xt=null,je=!1}function qa(t){Wt===null?Wt=[t]:Wt.push(t)}var I_=ye.ReactCurrentBatchConfig;function es(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var a=o.stateNode}if(!a)throw Error(n(147,t));var c=a,h=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(m){var v=c.refs;m===null?delete v[h]:v[h]=m},r._stringRef=h,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Co(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function tf(t){var r=t._init;return r(t._payload)}function nf(t){function r(k,S){if(t){var T=k.deletions;T===null?(k.deletions=[S],k.flags|=16):T.push(S)}}function o(k,S){if(!t)return null;for(;S!==null;)r(k,S),S=S.sibling;return null}function a(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function c(k,S){return k=Bn(k,S),k.index=0,k.sibling=null,k}function h(k,S,T){return k.index=T,t?(T=k.alternate,T!==null?(T=T.index,T<S?(k.flags|=2,S):T):(k.flags|=2,S)):(k.flags|=1048576,S)}function m(k){return t&&k.alternate===null&&(k.flags|=2),k}function v(k,S,T,D){return S===null||S.tag!==6?(S=Uu(T,k.mode,D),S.return=k,S):(S=c(S,T),S.return=k,S)}function E(k,S,T,D){var G=T.type;return G===oe?O(k,S,T.props.children,D,T.key):S!==null&&(S.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Re&&tf(G)===S.type)?(D=c(S,T.props),D.ref=es(k,S,T),D.return=k,D):(D=Ko(T.type,T.key,T.props,null,k.mode,D),D.ref=es(k,S,T),D.return=k,D)}function x(k,S,T,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=zu(T,k.mode,D),S.return=k,S):(S=c(S,T.children||[]),S.return=k,S)}function O(k,S,T,D,G){return S===null||S.tag!==7?(S=vr(T,k.mode,D,G),S.return=k,S):(S=c(S,T),S.return=k,S)}function A(k,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Uu(""+S,k.mode,T),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fe:return T=Ko(S.type,S.key,S.props,null,k.mode,T),T.ref=es(k,null,S),T.return=k,T;case ge:return S=zu(S,k.mode,T),S.return=k,S;case Re:var D=S._init;return A(k,D(S._payload),T)}if(bi(S)||q(S))return S=vr(S,k.mode,T,null),S.return=k,S;Co(k,S)}return null}function P(k,S,T,D){var G=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return G!==null?null:v(k,S,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fe:return T.key===G?E(k,S,T,D):null;case ge:return T.key===G?x(k,S,T,D):null;case Re:return G=T._init,P(k,S,G(T._payload),D)}if(bi(T)||q(T))return G!==null?null:O(k,S,T,D,null);Co(k,T)}return null}function z(k,S,T,D,G){if(typeof D=="string"&&D!==""||typeof D=="number")return k=k.get(T)||null,v(S,k,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Fe:return k=k.get(D.key===null?T:D.key)||null,E(S,k,D,G);case ge:return k=k.get(D.key===null?T:D.key)||null,x(S,k,D,G);case Re:var Y=D._init;return z(k,S,T,Y(D._payload),G)}if(bi(D)||q(D))return k=k.get(T)||null,O(S,k,D,G,null);Co(S,D)}return null}function W(k,S,T,D){for(var G=null,Y=null,X=S,re=S=0,Ze=null;X!==null&&re<T.length;re++){X.index>re?(Ze=X,X=null):Ze=X.sibling;var Ee=P(k,X,T[re],D);if(Ee===null){X===null&&(X=Ze);break}t&&X&&Ee.alternate===null&&r(k,X),S=h(Ee,S,re),Y===null?G=Ee:Y.sibling=Ee,Y=Ee,X=Ze}if(re===T.length)return o(k,X),je&&ur(k,re),G;if(X===null){for(;re<T.length;re++)X=A(k,T[re],D),X!==null&&(S=h(X,S,re),Y===null?G=X:Y.sibling=X,Y=X);return je&&ur(k,re),G}for(X=a(k,X);re<T.length;re++)Ze=z(X,k,re,T[re],D),Ze!==null&&(t&&Ze.alternate!==null&&X.delete(Ze.key===null?re:Ze.key),S=h(Ze,S,re),Y===null?G=Ze:Y.sibling=Ze,Y=Ze);return t&&X.forEach(function($n){return r(k,$n)}),je&&ur(k,re),G}function B(k,S,T,D){var G=q(T);if(typeof G!="function")throw Error(n(150));if(T=G.call(T),T==null)throw Error(n(151));for(var Y=G=null,X=S,re=S=0,Ze=null,Ee=T.next();X!==null&&!Ee.done;re++,Ee=T.next()){X.index>re?(Ze=X,X=null):Ze=X.sibling;var $n=P(k,X,Ee.value,D);if($n===null){X===null&&(X=Ze);break}t&&X&&$n.alternate===null&&r(k,X),S=h($n,S,re),Y===null?G=$n:Y.sibling=$n,Y=$n,X=Ze}if(Ee.done)return o(k,X),je&&ur(k,re),G;if(X===null){for(;!Ee.done;re++,Ee=T.next())Ee=A(k,Ee.value,D),Ee!==null&&(S=h(Ee,S,re),Y===null?G=Ee:Y.sibling=Ee,Y=Ee);return je&&ur(k,re),G}for(X=a(k,X);!Ee.done;re++,Ee=T.next())Ee=z(X,k,re,Ee.value,D),Ee!==null&&(t&&Ee.alternate!==null&&X.delete(Ee.key===null?re:Ee.key),S=h(Ee,S,re),Y===null?G=Ee:Y.sibling=Ee,Y=Ee);return t&&X.forEach(function(ny){return r(k,ny)}),je&&ur(k,re),G}function Ke(k,S,T,D){if(typeof T=="object"&&T!==null&&T.type===oe&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Fe:e:{for(var G=T.key,Y=S;Y!==null;){if(Y.key===G){if(G=T.type,G===oe){if(Y.tag===7){o(k,Y.sibling),S=c(Y,T.props.children),S.return=k,k=S;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Re&&tf(G)===Y.type){o(k,Y.sibling),S=c(Y,T.props),S.ref=es(k,Y,T),S.return=k,k=S;break e}o(k,Y);break}else r(k,Y);Y=Y.sibling}T.type===oe?(S=vr(T.props.children,k.mode,D,T.key),S.return=k,k=S):(D=Ko(T.type,T.key,T.props,null,k.mode,D),D.ref=es(k,S,T),D.return=k,k=D)}return m(k);case ge:e:{for(Y=T.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){o(k,S.sibling),S=c(S,T.children||[]),S.return=k,k=S;break e}else{o(k,S);break}else r(k,S);S=S.sibling}S=zu(T,k.mode,D),S.return=k,k=S}return m(k);case Re:return Y=T._init,Ke(k,S,Y(T._payload),D)}if(bi(T))return W(k,S,T,D);if(q(T))return B(k,S,T,D);Co(k,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(o(k,S.sibling),S=c(S,T),S.return=k,k=S):(o(k,S),S=Uu(T,k.mode,D),S.return=k,k=S),m(k)):o(k,S)}return Ke}var Xr=nf(!0),rf=nf(!1),Io=Dn(null),ko=null,Jr=null,Qa=null;function Ya(){Qa=Jr=ko=null}function Xa(t){var r=Io.current;Le(Io),t._currentValue=r}function Ja(t,r,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===o)break;t=t.return}}function Zr(t,r){ko=t,Qa=Jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(yt=!0),t.firstContext=null)}function Dt(t){var r=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:r,next:null},Jr===null){if(ko===null)throw Error(n(308));Jr=t,ko.dependencies={lanes:0,firstContext:t}}else Jr=Jr.next=t;return r}var cr=null;function Za(t){cr===null?cr=[t]:cr.push(t)}function sf(t,r,o,a){var c=r.interleaved;return c===null?(o.next=o,Za(r)):(o.next=c.next,c.next=o),r.interleaved=o,pn(t,a)}function pn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var jn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fn(t,r,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,ve&2){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,pn(t,o)}return c=a.interleaved,c===null?(r.next=r,Za(a)):(r.next=c.next,c.next=r),a.interleaved=r,pn(t,o)}function To(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,pa(t,o)}}function lf(t,r){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var m={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?c=h=m:h=h.next=m,o=o.next}while(o!==null);h===null?c=h=r:h=h.next=r}else c=h=r;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function xo(t,r,o,a){var c=t.updateQueue;jn=!1;var h=c.firstBaseUpdate,m=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var E=v,x=E.next;E.next=null,m===null?h=x:m.next=x,m=E;var O=t.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==m&&(v===null?O.firstBaseUpdate=x:v.next=x,O.lastBaseUpdate=E))}if(h!==null){var A=c.baseState;m=0,O=x=E=null,v=h;do{var P=v.lane,z=v.eventTime;if((a&P)===P){O!==null&&(O=O.next={eventTime:z,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var W=t,B=v;switch(P=r,z=o,B.tag){case 1:if(W=B.payload,typeof W=="function"){A=W.call(z,A,P);break e}A=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=B.payload,P=typeof W=="function"?W.call(z,A,P):W,P==null)break e;A=U({},A,P);break e;case 2:jn=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,P=c.effects,P===null?c.effects=[v]:P.push(v))}else z={eventTime:z,lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(x=O=z,E=A):O=O.next=z,m|=P;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;P=v,v=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);if(O===null&&(E=A),c.baseState=E,c.firstBaseUpdate=x,c.lastBaseUpdate=O,r=c.shared.interleaved,r!==null){c=r;do m|=c.lane,c=c.next;while(c!==r)}else h===null&&(c.shared.lanes=0);fr|=m,t.lanes=m,t.memoizedState=A}}function af(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var ts={},nn=Dn(ts),ns=Dn(ts),rs=Dn(ts);function dr(t){if(t===ts)throw Error(n(174));return t}function tu(t,r){switch(Pe(rs,r),Pe(ns,t),Pe(nn,ts),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:na(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=na(r,t)}Le(nn),Pe(nn,r)}function ei(){Le(nn),Le(ns),Le(rs)}function uf(t){dr(rs.current);var r=dr(nn.current),o=na(r,t.type);r!==o&&(Pe(ns,t),Pe(nn,o))}function nu(t){ns.current===t&&(Le(nn),Le(ns))}var Ue=Dn(0);function No(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ru=[];function iu(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var bo=ye.ReactCurrentDispatcher,su=ye.ReactCurrentBatchConfig,hr=0,ze=null,Qe=null,Xe=null,Ro=!1,is=!1,ss=0,k_=0;function ct(){throw Error(n(321))}function ou(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Ht(t[o],r[o]))return!1;return!0}function lu(t,r,o,a,c,h){if(hr=h,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,bo.current=t===null||t.memoizedState===null?b_:R_,t=o(a,c),is){h=0;do{if(is=!1,ss=0,25<=h)throw Error(n(301));h+=1,Xe=Qe=null,r.updateQueue=null,bo.current=P_,t=o(a,c)}while(is)}if(bo.current=Ao,r=Qe!==null&&Qe.next!==null,hr=0,Xe=Qe=ze=null,Ro=!1,r)throw Error(n(300));return t}function au(){var t=ss!==0;return ss=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ze.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Mt(){if(Qe===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=Xe===null?ze.memoizedState:Xe.next;if(r!==null)Xe=r,Qe=t;else{if(t===null)throw Error(n(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Xe===null?ze.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function os(t,r){return typeof r=="function"?r(t):r}function uu(t){var r=Mt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=Qe,c=a.baseQueue,h=o.pending;if(h!==null){if(c!==null){var m=c.next;c.next=h.next,h.next=m}a.baseQueue=c=h,o.pending=null}if(c!==null){h=c.next,a=a.baseState;var v=m=null,E=null,x=h;do{var O=x.lane;if((hr&O)===O)E!==null&&(E=E.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:t(a,x.action);else{var A={lane:O,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};E===null?(v=E=A,m=a):E=E.next=A,ze.lanes|=O,fr|=O}x=x.next}while(x!==null&&x!==h);E===null?m=a:E.next=v,Ht(a,r.memoizedState)||(yt=!0),r.memoizedState=a,r.baseState=m,r.baseQueue=E,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do h=c.lane,ze.lanes|=h,fr|=h,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function cu(t){var r=Mt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,h=r.memoizedState;if(c!==null){o.pending=null;var m=c=c.next;do h=t(h,m.action),m=m.next;while(m!==c);Ht(h,r.memoizedState)||(yt=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),o.lastRenderedState=h}return[h,a]}function cf(){}function df(t,r){var o=ze,a=Mt(),c=r(),h=!Ht(a.memoizedState,c);if(h&&(a.memoizedState=c,yt=!0),a=a.queue,du(pf.bind(null,o,a,t),[t]),a.getSnapshot!==r||h||Xe!==null&&Xe.memoizedState.tag&1){if(o.flags|=2048,ls(9,ff.bind(null,o,a,c,r),void 0,null),Je===null)throw Error(n(349));hr&30||hf(o,r,c)}return c}function hf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r={lastEffect:null,stores:null},ze.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function ff(t,r,o,a){r.value=o,r.getSnapshot=a,mf(r)&&gf(t)}function pf(t,r,o){return o(function(){mf(r)&&gf(t)})}function mf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Ht(t,o)}catch{return!0}}function gf(t){var r=pn(t,1);r!==null&&Kt(r,t,1,-1)}function vf(t){var r=rn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},r.queue=t,t=t.dispatch=N_.bind(null,ze,t),[r.memoizedState,t]}function ls(t,r,o,a){return t={tag:t,create:r,destroy:o,deps:a,next:null},r=ze.updateQueue,r===null?(r={lastEffect:null,stores:null},ze.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,r.lastEffect=t)),t}function _f(){return Mt().memoizedState}function Po(t,r,o,a){var c=rn();ze.flags|=t,c.memoizedState=ls(1|r,o,void 0,a===void 0?null:a)}function Oo(t,r,o,a){var c=Mt();a=a===void 0?null:a;var h=void 0;if(Qe!==null){var m=Qe.memoizedState;if(h=m.destroy,a!==null&&ou(a,m.deps)){c.memoizedState=ls(r,o,h,a);return}}ze.flags|=t,c.memoizedState=ls(1|r,o,h,a)}function yf(t,r){return Po(8390656,8,t,r)}function du(t,r){return Oo(2048,8,t,r)}function wf(t,r){return Oo(4,2,t,r)}function Ef(t,r){return Oo(4,4,t,r)}function Sf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cf(t,r,o){return o=o!=null?o.concat([t]):null,Oo(4,4,Sf.bind(null,r,t),o)}function hu(){}function If(t,r){var o=Mt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&ou(r,a[1])?a[0]:(o.memoizedState=[t,r],t)}function kf(t,r){var o=Mt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&ou(r,a[1])?a[0]:(t=t(),o.memoizedState=[t,r],t)}function Tf(t,r,o){return hr&21?(Ht(o,r)||(o=th(),ze.lanes|=o,fr|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=o)}function T_(t,r){var o=ke;ke=o!==0&&4>o?o:4,t(!0);var a=su.transition;su.transition={};try{t(!1),r()}finally{ke=o,su.transition=a}}function xf(){return Mt().memoizedState}function x_(t,r,o){var a=Hn(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Nf(t))bf(r,o);else if(o=sf(t,r,o,a),o!==null){var c=pt();Kt(o,t,a,c),Rf(o,r,a)}}function N_(t,r,o){var a=Hn(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nf(t))bf(r,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var m=r.lastRenderedState,v=h(m,o);if(c.hasEagerState=!0,c.eagerState=v,Ht(v,m)){var E=r.interleaved;E===null?(c.next=c,Za(r)):(c.next=E.next,E.next=c),r.interleaved=c;return}}catch{}finally{}o=sf(t,r,c,a),o!==null&&(c=pt(),Kt(o,t,a,c),Rf(o,r,a))}}function Nf(t){var r=t.alternate;return t===ze||r!==null&&r===ze}function bf(t,r){is=Ro=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Rf(t,r,o){if(o&4194240){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,pa(t,o)}}var Ao={readContext:Dt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},b_={readContext:Dt,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Dt,useEffect:yf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Po(4194308,4,Sf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Po(4194308,4,t,r)},useInsertionEffect:function(t,r){return Po(4,2,t,r)},useMemo:function(t,r){var o=rn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var a=rn();return r=o!==void 0?o(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=x_.bind(null,ze,t),[a.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:vf,useDebugValue:hu,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=vf(!1),r=t[0];return t=T_.bind(null,t[1]),rn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var a=ze,c=rn();if(je){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Je===null)throw Error(n(349));hr&30||hf(a,r,o)}c.memoizedState=o;var h={value:o,getSnapshot:r};return c.queue=h,yf(pf.bind(null,a,h,t),[t]),a.flags|=2048,ls(9,ff.bind(null,a,h,o,r),void 0,null),o},useId:function(){var t=rn(),r=Je.identifierPrefix;if(je){var o=fn,a=hn;o=(a&~(1<<32-Vt(a)-1)).toString(32)+o,r=":"+r+"R"+o,o=ss++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=k_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},R_={readContext:Dt,useCallback:If,useContext:Dt,useEffect:du,useImperativeHandle:Cf,useInsertionEffect:wf,useLayoutEffect:Ef,useMemo:kf,useReducer:uu,useRef:_f,useState:function(){return uu(os)},useDebugValue:hu,useDeferredValue:function(t){var r=Mt();return Tf(r,Qe.memoizedState,t)},useTransition:function(){var t=uu(os)[0],r=Mt().memoizedState;return[t,r]},useMutableSource:cf,useSyncExternalStore:df,useId:xf,unstable_isNewReconciler:!1},P_={readContext:Dt,useCallback:If,useContext:Dt,useEffect:du,useImperativeHandle:Cf,useInsertionEffect:wf,useLayoutEffect:Ef,useMemo:kf,useReducer:cu,useRef:_f,useState:function(){return cu(os)},useDebugValue:hu,useDeferredValue:function(t){var r=Mt();return Qe===null?r.memoizedState=t:Tf(r,Qe.memoizedState,t)},useTransition:function(){var t=cu(os)[0],r=Mt().memoizedState;return[t,r]},useMutableSource:cf,useSyncExternalStore:df,useId:xf,unstable_isNewReconciler:!1};function Bt(t,r){if(t&&t.defaultProps){r=U({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function fu(t,r,o,a){r=t.memoizedState,o=o(a,r),o=o==null?r:U({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Do={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var a=pt(),c=Hn(t),h=mn(a,c);h.payload=r,o!=null&&(h.callback=o),r=Fn(t,h,c),r!==null&&(Kt(r,t,c,a),To(r,t,c))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var a=pt(),c=Hn(t),h=mn(a,c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=Fn(t,h,c),r!==null&&(Kt(r,t,c,a),To(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=pt(),a=Hn(t),c=mn(o,a);c.tag=2,r!=null&&(c.callback=r),r=Fn(t,c,a),r!==null&&(Kt(r,t,a,o),To(r,t,a))}};function Pf(t,r,o,a,c,h,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,h,m):r.prototype&&r.prototype.isPureReactComponent?!Ki(o,a)||!Ki(c,h):!0}function Of(t,r,o){var a=!1,c=Mn,h=r.contextType;return typeof h=="object"&&h!==null?h=Dt(h):(c=_t(r)?lr:ut.current,a=r.contextTypes,h=(a=a!=null)?Kr(t,c):Mn),r=new r(o,h),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Do,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=h),r}function Af(t,r,o,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,a),r.state!==t&&Do.enqueueReplaceState(r,r.state,null)}function pu(t,r,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},eu(t);var h=r.contextType;typeof h=="object"&&h!==null?c.context=Dt(h):(h=_t(r)?lr:ut.current,c.context=Kr(t,h)),c.state=t.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(fu(t,r,h,o),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&Do.enqueueReplaceState(c,c.state,null),xo(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function ti(t,r){try{var o="",a=r;do o+=ae(a),a=a.return;while(a);var c=o}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:r,stack:c,digest:null}}function mu(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function gu(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var O_=typeof WeakMap=="function"?WeakMap:Map;function Df(t,r,o){o=mn(-1,o),o.tag=3,o.payload={element:null};var a=r.value;return o.callback=function(){Vo||(Vo=!0,Pu=a),gu(t,r)},o}function Mf(t,r,o){o=mn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;o.payload=function(){return a(c)},o.callback=function(){gu(t,r)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){gu(t,r),typeof a!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})}),o}function Lf(t,r,o){var a=t.pingCache;if(a===null){a=t.pingCache=new O_;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(o)||(c.add(o),t=G_.bind(null,t,r,o),r.then(t,t))}function jf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Ff(t,r,o,a,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=mn(-1,1),r.tag=2,Fn(o,r,1))),o.lanes|=1),t)}var A_=ye.ReactCurrentOwner,yt=!1;function ft(t,r,o,a){r.child=t===null?rf(r,null,o,a):Xr(r,t.child,o,a)}function Uf(t,r,o,a,c){o=o.render;var h=r.ref;return Zr(r,c),a=lu(t,r,o,a,h,c),o=au(),t!==null&&!yt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,gn(t,r,c)):(je&&o&&Ba(r),r.flags|=1,ft(t,r,a,c),r.child)}function zf(t,r,o,a,c){if(t===null){var h=o.type;return typeof h=="function"&&!Fu(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=h,Vf(t,r,h,a,c)):(t=Ko(o.type,null,a,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!(t.lanes&c)){var m=h.memoizedProps;if(o=o.compare,o=o!==null?o:Ki,o(m,a)&&t.ref===r.ref)return gn(t,r,c)}return r.flags|=1,t=Bn(h,a),t.ref=r.ref,t.return=r,r.child=t}function Vf(t,r,o,a,c){if(t!==null){var h=t.memoizedProps;if(Ki(h,a)&&t.ref===r.ref)if(yt=!1,r.pendingProps=a=h,(t.lanes&c)!==0)t.flags&131072&&(yt=!0);else return r.lanes=t.lanes,gn(t,r,c)}return vu(t,r,o,a,c)}function Hf(t,r,o){var a=r.pendingProps,c=a.children,h=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ri,bt),bt|=o;else{if(!(o&1073741824))return t=h!==null?h.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Pe(ri,bt),bt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:o,Pe(ri,bt),bt|=a}else h!==null?(a=h.baseLanes|o,r.memoizedState=null):a=o,Pe(ri,bt),bt|=a;return ft(t,r,c,o),r.child}function Wf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function vu(t,r,o,a,c){var h=_t(o)?lr:ut.current;return h=Kr(r,h),Zr(r,c),o=lu(t,r,o,a,h,c),a=au(),t!==null&&!yt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,gn(t,r,c)):(je&&a&&Ba(r),r.flags|=1,ft(t,r,o,c),r.child)}function Bf(t,r,o,a,c){if(_t(o)){var h=!0;_o(r)}else h=!1;if(Zr(r,c),r.stateNode===null)Lo(t,r),Of(r,o,a),pu(r,o,a,c),a=!0;else if(t===null){var m=r.stateNode,v=r.memoizedProps;m.props=v;var E=m.context,x=o.contextType;typeof x=="object"&&x!==null?x=Dt(x):(x=_t(o)?lr:ut.current,x=Kr(r,x));var O=o.getDerivedStateFromProps,A=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function";A||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==a||E!==x)&&Af(r,m,a,x),jn=!1;var P=r.memoizedState;m.state=P,xo(r,a,m,c),E=r.memoizedState,v!==a||P!==E||vt.current||jn?(typeof O=="function"&&(fu(r,o,O,a),E=r.memoizedState),(v=jn||Pf(r,o,v,a,P,E,x))?(A||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=E),m.props=a,m.state=E,m.context=x,a=v):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{m=r.stateNode,of(t,r),v=r.memoizedProps,x=r.type===r.elementType?v:Bt(r.type,v),m.props=x,A=r.pendingProps,P=m.context,E=o.contextType,typeof E=="object"&&E!==null?E=Dt(E):(E=_t(o)?lr:ut.current,E=Kr(r,E));var z=o.getDerivedStateFromProps;(O=typeof z=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==A||P!==E)&&Af(r,m,a,E),jn=!1,P=r.memoizedState,m.state=P,xo(r,a,m,c);var W=r.memoizedState;v!==A||P!==W||vt.current||jn?(typeof z=="function"&&(fu(r,o,z,a),W=r.memoizedState),(x=jn||Pf(r,o,x,a,P,W,E)||!1)?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,W,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,W,E)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=W),m.props=a,m.state=W,m.context=E,a=x):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(r.flags|=1024),a=!1)}return _u(t,r,o,a,h,c)}function _u(t,r,o,a,c,h){Wf(t,r);var m=(r.flags&128)!==0;if(!a&&!m)return c&&qh(r,o,!1),gn(t,r,h);a=r.stateNode,A_.current=r;var v=m&&typeof o.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&m?(r.child=Xr(r,t.child,null,h),r.child=Xr(r,null,v,h)):ft(t,r,v,h),r.memoizedState=a.state,c&&qh(r,o,!0),r.child}function $f(t){var r=t.stateNode;r.pendingContext?Gh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Gh(t,r.context,!1),tu(t,r.containerInfo)}function Gf(t,r,o,a,c){return Yr(),qa(c),r.flags|=256,ft(t,r,o,a),r.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function wu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kf(t,r,o){var a=r.pendingProps,c=Ue.current,h=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(c&2)!==0),v?(h=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Pe(Ue,c&1),t===null)return Ka(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(m=a.children,t=a.fallback,h?(a=r.mode,h=r.child,m={mode:"hidden",children:m},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=m):h=qo(m,a,0,null),t=vr(t,a,o,null),h.return=r,t.return=r,h.sibling=t,r.child=h,r.child.memoizedState=wu(o),r.memoizedState=yu,t):Eu(r,m));if(c=t.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return D_(t,r,m,a,v,c,o);if(h){h=a.fallback,m=r.mode,c=t.child,v=c.sibling;var E={mode:"hidden",children:a.children};return!(m&1)&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=E,r.deletions=null):(a=Bn(c,E),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?h=Bn(v,h):(h=vr(h,m,o,null),h.flags|=2),h.return=r,a.return=r,a.sibling=h,r.child=a,a=h,h=r.child,m=t.child.memoizedState,m=m===null?wu(o):{baseLanes:m.baseLanes|o,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=t.childLanes&~o,r.memoizedState=yu,a}return h=t.child,t=h.sibling,a=Bn(h,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=o),a.return=r,a.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=a,r.memoizedState=null,a}function Eu(t,r){return r=qo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Mo(t,r,o,a){return a!==null&&qa(a),Xr(r,t.child,null,o),t=Eu(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function D_(t,r,o,a,c,h,m){if(o)return r.flags&256?(r.flags&=-257,a=mu(Error(n(422))),Mo(t,r,m,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(h=a.fallback,c=r.mode,a=qo({mode:"visible",children:a.children},c,0,null),h=vr(h,c,m,null),h.flags|=2,a.return=r,h.return=r,a.sibling=h,r.child=a,r.mode&1&&Xr(r,t.child,null,m),r.child.memoizedState=wu(m),r.memoizedState=yu,h);if(!(r.mode&1))return Mo(t,r,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,h=Error(n(419)),a=mu(h,a,void 0),Mo(t,r,m,a)}if(v=(m&t.childLanes)!==0,yt||v){if(a=Je,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,pn(t,c),Kt(a,t,c,-1))}return ju(),a=mu(Error(n(421))),Mo(t,r,m,a)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=K_.bind(null,t),c._reactRetry=r,null):(t=h.treeContext,Nt=An(c.nextSibling),xt=r,je=!0,Wt=null,t!==null&&(Ot[At++]=hn,Ot[At++]=fn,Ot[At++]=ar,hn=t.id,fn=t.overflow,ar=r),r=Eu(r,a.children),r.flags|=4096,r)}function qf(t,r,o){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),Ja(t.return,r,o)}function Su(t,r,o,a,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=o,h.tailMode=c)}function Qf(t,r,o){var a=r.pendingProps,c=a.revealOrder,h=a.tail;if(ft(t,r,a.children,o),a=Ue.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qf(t,o,r);else if(t.tag===19)qf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Pe(Ue,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(o=r.child,c=null;o!==null;)t=o.alternate,t!==null&&No(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=r.child,r.child=null):(c=o.sibling,o.sibling=null),Su(r,!1,c,o,h);break;case"backwards":for(o=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&No(t)===null){r.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}Su(r,!0,o,null,h);break;case"together":Su(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lo(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),fr|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Bn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Bn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function M_(t,r,o){switch(r.tag){case 3:$f(r),Yr();break;case 5:uf(r);break;case 1:_t(r.type)&&_o(r);break;case 4:tu(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;Pe(Io,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Pe(Ue,Ue.current&1),r.flags|=128,null):o&r.child.childLanes?Kf(t,r,o):(Pe(Ue,Ue.current&1),t=gn(t,r,o),t!==null?t.sibling:null);Pe(Ue,Ue.current&1);break;case 19:if(a=(o&r.childLanes)!==0,t.flags&128){if(a)return Qf(t,r,o);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Pe(Ue,Ue.current),a)break;return null;case 22:case 23:return r.lanes=0,Hf(t,r,o)}return gn(t,r,o)}var Yf,Cu,Xf,Jf;Yf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Cu=function(){},Xf=function(t,r,o,a){var c=t.memoizedProps;if(c!==a){t=r.stateNode,dr(nn.current);var h=null;switch(o){case"input":c=we(t,c),a=we(t,a),h=[];break;case"select":c=U({},c,{value:void 0}),a=U({},a,{value:void 0}),h=[];break;case"textarea":c=ta(t,c),a=ta(t,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=mo)}ra(o,a);var m;o=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var v=c[x];for(m in v)v.hasOwnProperty(m)&&(o||(o={}),o[m]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(l.hasOwnProperty(x)?h||(h=[]):(h=h||[]).push(x,null));for(x in a){var E=a[x];if(v=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&E!==v&&(E!=null||v!=null))if(x==="style")if(v){for(m in v)!v.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(o||(o={}),o[m]="");for(m in E)E.hasOwnProperty(m)&&v[m]!==E[m]&&(o||(o={}),o[m]=E[m])}else o||(h||(h=[]),h.push(x,o)),o=E;else x==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(h=h||[]).push(x,E)):x==="children"?typeof E!="string"&&typeof E!="number"||(h=h||[]).push(x,""+E):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(l.hasOwnProperty(x)?(E!=null&&x==="onScroll"&&Me("scroll",t),h||v===E||(h=[])):(h=h||[]).push(x,E))}o&&(h=h||[]).push("style",o);var x=h;(r.updateQueue=x)&&(r.flags|=4)}},Jf=function(t,r,o,a){o!==a&&(r.flags|=4)};function as(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(r)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,r}function L_(t,r,o){var a=r.pendingProps;switch($a(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return _t(r.type)&&vo(),dt(r),null;case 3:return a=r.stateNode,ei(),Le(vt),Le(ut),iu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(So(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Wt!==null&&(Du(Wt),Wt=null))),Cu(t,r),dt(r),null;case 5:nu(r);var c=dr(rs.current);if(o=r.type,t!==null&&r.stateNode!=null)Xf(t,r,o,a,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(n(166));return dt(r),null}if(t=dr(nn.current),So(r)){a=r.stateNode,o=r.type;var h=r.memoizedProps;switch(a[tn]=r,a[Ji]=h,t=(r.mode&1)!==0,o){case"dialog":Me("cancel",a),Me("close",a);break;case"iframe":case"object":case"embed":Me("load",a);break;case"video":case"audio":for(c=0;c<Qi.length;c++)Me(Qi[c],a);break;case"source":Me("error",a);break;case"img":case"image":case"link":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"input":it(a,h),Me("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},Me("invalid",a);break;case"textarea":Dd(a,h),Me("invalid",a)}ra(o,h),c=null;for(var m in h)if(h.hasOwnProperty(m)){var v=h[m];m==="children"?typeof v=="string"?a.textContent!==v&&(h.suppressHydrationWarning!==!0&&po(a.textContent,v,t),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&po(a.textContent,v,t),c=["children",""+v]):l.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Me("scroll",a)}switch(o){case"input":kt(a),Ad(a,h,!0);break;case"textarea":kt(a),Ld(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=mo)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=m.createElement(o,{is:a.is}):(t=m.createElement(o),o==="select"&&(m=t,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):t=m.createElementNS(t,o),t[tn]=r,t[Ji]=a,Yf(t,r,!1,!1),r.stateNode=t;e:{switch(m=ia(o,a),o){case"dialog":Me("cancel",t),Me("close",t),c=a;break;case"iframe":case"object":case"embed":Me("load",t),c=a;break;case"video":case"audio":for(c=0;c<Qi.length;c++)Me(Qi[c],t);c=a;break;case"source":Me("error",t),c=a;break;case"img":case"image":case"link":Me("error",t),Me("load",t),c=a;break;case"details":Me("toggle",t),c=a;break;case"input":it(t,a),c=we(t,a),Me("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=U({},a,{value:void 0}),Me("invalid",t);break;case"textarea":Dd(t,a),c=ta(t,a),Me("invalid",t);break;default:c=a}ra(o,c),v=c;for(h in v)if(v.hasOwnProperty(h)){var E=v[h];h==="style"?zd(t,E):h==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Fd(t,E)):h==="children"?typeof E=="string"?(o!=="textarea"||E!=="")&&Ri(t,E):typeof E=="number"&&Ri(t,""+E):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?E!=null&&h==="onScroll"&&Me("scroll",t):E!=null&&ee(t,h,E,m))}switch(o){case"input":kt(t),Ad(t,a,!1);break;case"textarea":kt(t),Ld(t);break;case"option":a.value!=null&&t.setAttribute("value",""+te(a.value));break;case"select":t.multiple=!!a.multiple,h=a.value,h!=null?Mr(t,!!a.multiple,h,!1):a.defaultValue!=null&&Mr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=mo)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return dt(r),null;case 6:if(t&&r.stateNode!=null)Jf(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(n(166));if(o=dr(rs.current),dr(nn.current),So(r)){if(a=r.stateNode,o=r.memoizedProps,a[tn]=r,(h=a.nodeValue!==o)&&(t=xt,t!==null))switch(t.tag){case 3:po(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&po(a.nodeValue,o,(t.mode&1)!==0)}h&&(r.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[tn]=r,r.stateNode=a}return dt(r),null;case 13:if(Le(Ue),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Nt!==null&&r.mode&1&&!(r.flags&128))ef(),Yr(),r.flags|=98560,h=!1;else if(h=So(r),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(n(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[tn]=r}else Yr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;dt(r),h=!1}else Wt!==null&&(Du(Wt),Wt=null),h=!0;if(!h)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Ue.current&1?Ye===0&&(Ye=3):ju())),r.updateQueue!==null&&(r.flags|=4),dt(r),null);case 4:return ei(),Cu(t,r),t===null&&Yi(r.stateNode.containerInfo),dt(r),null;case 10:return Xa(r.type._context),dt(r),null;case 17:return _t(r.type)&&vo(),dt(r),null;case 19:if(Le(Ue),h=r.memoizedState,h===null)return dt(r),null;if(a=(r.flags&128)!==0,m=h.rendering,m===null)if(a)as(h,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(m=No(t),m!==null){for(r.flags|=128,as(h,!1),a=m.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=o,o=r.child;o!==null;)h=o,t=a,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,t=m.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Pe(Ue,Ue.current&1|2),r.child}t=t.sibling}h.tail!==null&&Ge()>ii&&(r.flags|=128,a=!0,as(h,!1),r.lanes=4194304)}else{if(!a)if(t=No(m),t!==null){if(r.flags|=128,a=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),as(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!je)return dt(r),null}else 2*Ge()-h.renderingStartTime>ii&&o!==1073741824&&(r.flags|=128,a=!0,as(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(o=h.last,o!==null?o.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Ge(),r.sibling=null,o=Ue.current,Pe(Ue,a?o&1|2:o&1),r):(dt(r),null);case 22:case 23:return Lu(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?bt&1073741824&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function j_(t,r){switch($a(r),r.tag){case 1:return _t(r.type)&&vo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ei(),Le(vt),Le(ut),iu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return nu(r),null;case 13:if(Le(Ue),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Yr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Le(Ue),null;case 4:return ei(),null;case 10:return Xa(r.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var jo=!1,ht=!1,F_=typeof WeakSet=="function"?WeakSet:Set,H=null;function ni(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){We(t,r,a)}else o.current=null}function Iu(t,r,o){try{o()}catch(a){We(t,r,a)}}var Zf=!1;function U_(t,r){if(La=no,t=Rh(),Na(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var m=0,v=-1,E=-1,x=0,O=0,A=t,P=null;t:for(;;){for(var z;A!==o||c!==0&&A.nodeType!==3||(v=m+c),A!==h||a!==0&&A.nodeType!==3||(E=m+a),A.nodeType===3&&(m+=A.nodeValue.length),(z=A.firstChild)!==null;)P=A,A=z;for(;;){if(A===t)break t;if(P===o&&++x===c&&(v=m),P===h&&++O===a&&(E=m),(z=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=z}o=v===-1||E===-1?null:{start:v,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(ja={focusedElem:t,selectionRange:o},no=!1,H=r;H!==null;)if(r=H,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,H=t;else for(;H!==null;){r=H;try{var W=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var B=W.memoizedProps,Ke=W.memoizedState,k=r.stateNode,S=k.getSnapshotBeforeUpdate(r.elementType===r.type?B:Bt(r.type,B),Ke);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=r.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(D){We(r,r.return,D)}if(t=r.sibling,t!==null){t.return=r.return,H=t;break}H=r.return}return W=Zf,Zf=!1,W}function us(t,r,o){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var h=c.destroy;c.destroy=void 0,h!==void 0&&Iu(r,o,h)}c=c.next}while(c!==a)}}function Fo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==r)}}function ku(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function ep(t){var r=t.alternate;r!==null&&(t.alternate=null,ep(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[tn],delete r[Ji],delete r[Va],delete r[E_],delete r[S_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tp(t){return t.tag===5||t.tag===3||t.tag===4}function np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tu(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=mo));else if(a!==4&&(t=t.child,t!==null))for(Tu(t,r,o),t=t.sibling;t!==null;)Tu(t,r,o),t=t.sibling}function xu(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(xu(t,r,o),t=t.sibling;t!==null;)xu(t,r,o),t=t.sibling}var st=null,$t=!1;function Un(t,r,o){for(o=o.child;o!==null;)rp(t,r,o),o=o.sibling}function rp(t,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ys,o)}catch{}switch(o.tag){case 5:ht||ni(o,r);case 6:var a=st,c=$t;st=null,Un(t,r,o),st=a,$t=c,st!==null&&($t?(t=st,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):st.removeChild(o.stateNode));break;case 18:st!==null&&($t?(t=st,o=o.stateNode,t.nodeType===8?za(t.parentNode,o):t.nodeType===1&&za(t,o),Vi(t)):za(st,o.stateNode));break;case 4:a=st,c=$t,st=o.stateNode.containerInfo,$t=!0,Un(t,r,o),st=a,$t=c;break;case 0:case 11:case 14:case 15:if(!ht&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,m=h.destroy;h=h.tag,m!==void 0&&(h&2||h&4)&&Iu(o,r,m),c=c.next}while(c!==a)}Un(t,r,o);break;case 1:if(!ht&&(ni(o,r),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(v){We(o,r,v)}Un(t,r,o);break;case 21:Un(t,r,o);break;case 22:o.mode&1?(ht=(a=ht)||o.memoizedState!==null,Un(t,r,o),ht=a):Un(t,r,o);break;default:Un(t,r,o)}}function ip(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new F_),r.forEach(function(a){var c=q_.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function Gt(t,r){var o=r.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var h=t,m=r,v=m;e:for(;v!==null;){switch(v.tag){case 5:st=v.stateNode,$t=!1;break e;case 3:st=v.stateNode.containerInfo,$t=!0;break e;case 4:st=v.stateNode.containerInfo,$t=!0;break e}v=v.return}if(st===null)throw Error(n(160));rp(h,m,c),st=null,$t=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(x){We(c,r,x)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sp(r,t),r=r.sibling}function sp(t,r){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(r,t),sn(t),a&4){try{us(3,t,t.return),Fo(3,t)}catch(B){We(t,t.return,B)}try{us(5,t,t.return)}catch(B){We(t,t.return,B)}}break;case 1:Gt(r,t),sn(t),a&512&&o!==null&&ni(o,o.return);break;case 5:if(Gt(r,t),sn(t),a&512&&o!==null&&ni(o,o.return),t.flags&32){var c=t.stateNode;try{Ri(c,"")}catch(B){We(t,t.return,B)}}if(a&4&&(c=t.stateNode,c!=null)){var h=t.memoizedProps,m=o!==null?o.memoizedProps:h,v=t.type,E=t.updateQueue;if(t.updateQueue=null,E!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&zt(c,h),ia(v,m);var x=ia(v,h);for(m=0;m<E.length;m+=2){var O=E[m],A=E[m+1];O==="style"?zd(c,A):O==="dangerouslySetInnerHTML"?Fd(c,A):O==="children"?Ri(c,A):ee(c,O,A,x)}switch(v){case"input":Dr(c,h);break;case"textarea":Md(c,h);break;case"select":var P=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var z=h.value;z!=null?Mr(c,!!h.multiple,z,!1):P!==!!h.multiple&&(h.defaultValue!=null?Mr(c,!!h.multiple,h.defaultValue,!0):Mr(c,!!h.multiple,h.multiple?[]:"",!1))}c[Ji]=h}catch(B){We(t,t.return,B)}}break;case 6:if(Gt(r,t),sn(t),a&4){if(t.stateNode===null)throw Error(n(162));c=t.stateNode,h=t.memoizedProps;try{c.nodeValue=h}catch(B){We(t,t.return,B)}}break;case 3:if(Gt(r,t),sn(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Vi(r.containerInfo)}catch(B){We(t,t.return,B)}break;case 4:Gt(r,t),sn(t);break;case 13:Gt(r,t),sn(t),c=t.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Ru=Ge())),a&4&&ip(t);break;case 22:if(O=o!==null&&o.memoizedState!==null,t.mode&1?(ht=(x=ht)||O,Gt(r,t),ht=x):Gt(r,t),sn(t),a&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!O&&t.mode&1)for(H=t,O=t.child;O!==null;){for(A=H=O;H!==null;){switch(P=H,z=P.child,P.tag){case 0:case 11:case 14:case 15:us(4,P,P.return);break;case 1:ni(P,P.return);var W=P.stateNode;if(typeof W.componentWillUnmount=="function"){a=P,o=P.return;try{r=a,W.props=r.memoizedProps,W.state=r.memoizedState,W.componentWillUnmount()}catch(B){We(a,o,B)}}break;case 5:ni(P,P.return);break;case 22:if(P.memoizedState!==null){ap(A);continue}}z!==null?(z.return=P,H=z):ap(A)}O=O.sibling}e:for(O=null,A=t;;){if(A.tag===5){if(O===null){O=A;try{c=A.stateNode,x?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=A.stateNode,E=A.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=Ud("display",m))}catch(B){We(t,t.return,B)}}}else if(A.tag===6){if(O===null)try{A.stateNode.nodeValue=x?"":A.memoizedProps}catch(B){We(t,t.return,B)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;O===A&&(O=null),A=A.return}O===A&&(O=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Gt(r,t),sn(t),a&4&&ip(t);break;case 21:break;default:Gt(r,t),sn(t)}}function sn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(tp(o)){var a=o;break e}o=o.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ri(c,""),a.flags&=-33);var h=np(t);xu(t,h,c);break;case 3:case 4:var m=a.stateNode.containerInfo,v=np(t);Tu(t,v,m);break;default:throw Error(n(161))}}catch(E){We(t,t.return,E)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function z_(t,r,o){H=t,op(t)}function op(t,r,o){for(var a=(t.mode&1)!==0;H!==null;){var c=H,h=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||jo;if(!m){var v=c.alternate,E=v!==null&&v.memoizedState!==null||ht;v=jo;var x=ht;if(jo=m,(ht=E)&&!x)for(H=c;H!==null;)m=H,E=m.child,m.tag===22&&m.memoizedState!==null?up(c):E!==null?(E.return=m,H=E):up(c);for(;h!==null;)H=h,op(h),h=h.sibling;H=c,jo=v,ht=x}lp(t)}else c.subtreeFlags&8772&&h!==null?(h.return=c,H=h):lp(t)}}function lp(t){for(;H!==null;){var r=H;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ht||Fo(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!ht)if(o===null)a.componentDidMount();else{var c=r.elementType===r.type?o.memoizedProps:Bt(r.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&af(r,h,a);break;case 3:var m=r.updateQueue;if(m!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}af(r,m,o)}break;case 5:var v=r.stateNode;if(o===null&&r.flags&4){o=v;var E=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&o.focus();break;case"img":E.src&&(o.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var x=r.alternate;if(x!==null){var O=x.memoizedState;if(O!==null){var A=O.dehydrated;A!==null&&Vi(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ht||r.flags&512&&ku(r)}catch(P){We(r,r.return,P)}}if(r===t){H=null;break}if(o=r.sibling,o!==null){o.return=r.return,H=o;break}H=r.return}}function ap(t){for(;H!==null;){var r=H;if(r===t){H=null;break}var o=r.sibling;if(o!==null){o.return=r.return,H=o;break}H=r.return}}function up(t){for(;H!==null;){var r=H;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Fo(4,r)}catch(E){We(r,o,E)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(E){We(r,c,E)}}var h=r.return;try{ku(r)}catch(E){We(r,h,E)}break;case 5:var m=r.return;try{ku(r)}catch(E){We(r,m,E)}}}catch(E){We(r,r.return,E)}if(r===t){H=null;break}var v=r.sibling;if(v!==null){v.return=r.return,H=v;break}H=r.return}}var V_=Math.ceil,Uo=ye.ReactCurrentDispatcher,Nu=ye.ReactCurrentOwner,Lt=ye.ReactCurrentBatchConfig,ve=0,Je=null,qe=null,ot=0,bt=0,ri=Dn(0),Ye=0,cs=null,fr=0,zo=0,bu=0,ds=null,wt=null,Ru=0,ii=1/0,vn=null,Vo=!1,Pu=null,zn=null,Ho=!1,Vn=null,Wo=0,hs=0,Ou=null,Bo=-1,$o=0;function pt(){return ve&6?Ge():Bo!==-1?Bo:Bo=Ge()}function Hn(t){return t.mode&1?ve&2&&ot!==0?ot&-ot:I_.transition!==null?($o===0&&($o=th()),$o):(t=ke,t!==0||(t=window.event,t=t===void 0?16:ch(t.type)),t):1}function Kt(t,r,o,a){if(50<hs)throw hs=0,Ou=null,Error(n(185));Li(t,o,a),(!(ve&2)||t!==Je)&&(t===Je&&(!(ve&2)&&(zo|=o),Ye===4&&Wn(t,ot)),Et(t,a),o===1&&ve===0&&!(r.mode&1)&&(ii=Ge()+500,yo&&Ln()))}function Et(t,r){var o=t.callbackNode;Iv(t,r);var a=Zs(t,t===Je?ot:0);if(a===0)o!==null&&Jd(o),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(o!=null&&Jd(o),r===1)t.tag===0?C_(dp.bind(null,t)):Qh(dp.bind(null,t)),y_(function(){!(ve&6)&&Ln()}),o=null;else{switch(nh(a)){case 1:o=da;break;case 4:o=Zd;break;case 16:o=Qs;break;case 536870912:o=eh;break;default:o=Qs}o=yp(o,cp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function cp(t,r){if(Bo=-1,$o=0,ve&6)throw Error(n(327));var o=t.callbackNode;if(si()&&t.callbackNode!==o)return null;var a=Zs(t,t===Je?ot:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=Go(t,a);else{r=a;var c=ve;ve|=2;var h=fp();(Je!==t||ot!==r)&&(vn=null,ii=Ge()+500,mr(t,r));do try{B_();break}catch(v){hp(t,v)}while(!0);Ya(),Uo.current=h,ve=c,qe!==null?r=0:(Je=null,ot=0,r=Ye)}if(r!==0){if(r===2&&(c=ha(t),c!==0&&(a=c,r=Au(t,c))),r===1)throw o=cs,mr(t,0),Wn(t,a),Et(t,Ge()),o;if(r===6)Wn(t,a);else{if(c=t.current.alternate,!(a&30)&&!H_(c)&&(r=Go(t,a),r===2&&(h=ha(t),h!==0&&(a=h,r=Au(t,h))),r===1))throw o=cs,mr(t,0),Wn(t,a),Et(t,Ge()),o;switch(t.finishedWork=c,t.finishedLanes=a,r){case 0:case 1:throw Error(n(345));case 2:gr(t,wt,vn);break;case 3:if(Wn(t,a),(a&130023424)===a&&(r=Ru+500-Ge(),10<r)){if(Zs(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){pt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=Ua(gr.bind(null,t,wt,vn),r);break}gr(t,wt,vn);break;case 4:if(Wn(t,a),(a&4194240)===a)break;for(r=t.eventTimes,c=-1;0<a;){var m=31-Vt(a);h=1<<m,m=r[m],m>c&&(c=m),a&=~h}if(a=c,a=Ge()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*V_(a/1960))-a,10<a){t.timeoutHandle=Ua(gr.bind(null,t,wt,vn),a);break}gr(t,wt,vn);break;case 5:gr(t,wt,vn);break;default:throw Error(n(329))}}}return Et(t,Ge()),t.callbackNode===o?cp.bind(null,t):null}function Au(t,r){var o=ds;return t.current.memoizedState.isDehydrated&&(mr(t,r).flags|=256),t=Go(t,r),t!==2&&(r=wt,wt=o,r!==null&&Du(r)),t}function Du(t){wt===null?wt=t:wt.push.apply(wt,t)}function H_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],h=c.getSnapshot;c=c.value;try{if(!Ht(h(),c))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wn(t,r){for(r&=~bu,r&=~zo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Vt(r),a=1<<o;t[o]=-1,r&=~a}}function dp(t){if(ve&6)throw Error(n(327));si();var r=Zs(t,0);if(!(r&1))return Et(t,Ge()),null;var o=Go(t,r);if(t.tag!==0&&o===2){var a=ha(t);a!==0&&(r=a,o=Au(t,a))}if(o===1)throw o=cs,mr(t,0),Wn(t,r),Et(t,Ge()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,gr(t,wt,vn),Et(t,Ge()),null}function Mu(t,r){var o=ve;ve|=1;try{return t(r)}finally{ve=o,ve===0&&(ii=Ge()+500,yo&&Ln())}}function pr(t){Vn!==null&&Vn.tag===0&&!(ve&6)&&si();var r=ve;ve|=1;var o=Lt.transition,a=ke;try{if(Lt.transition=null,ke=1,t)return t()}finally{ke=a,Lt.transition=o,ve=r,!(ve&6)&&Ln()}}function Lu(){bt=ri.current,Le(ri)}function mr(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,__(o)),qe!==null)for(o=qe.return;o!==null;){var a=o;switch($a(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&vo();break;case 3:ei(),Le(vt),Le(ut),iu();break;case 5:nu(a);break;case 4:ei();break;case 13:Le(Ue);break;case 19:Le(Ue);break;case 10:Xa(a.type._context);break;case 22:case 23:Lu()}o=o.return}if(Je=t,qe=t=Bn(t.current,null),ot=bt=r,Ye=0,cs=null,bu=zo=fr=0,wt=ds=null,cr!==null){for(r=0;r<cr.length;r++)if(o=cr[r],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,h=o.pending;if(h!==null){var m=h.next;h.next=c,a.next=m}o.pending=a}cr=null}return t}function hp(t,r){do{var o=qe;try{if(Ya(),bo.current=Ao,Ro){for(var a=ze.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ro=!1}if(hr=0,Xe=Qe=ze=null,is=!1,ss=0,Nu.current=null,o===null||o.return===null){Ye=1,cs=r,qe=null;break}e:{var h=t,m=o.return,v=o,E=r;if(r=ot,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var x=E,O=v,A=O.tag;if(!(O.mode&1)&&(A===0||A===11||A===15)){var P=O.alternate;P?(O.updateQueue=P.updateQueue,O.memoizedState=P.memoizedState,O.lanes=P.lanes):(O.updateQueue=null,O.memoizedState=null)}var z=jf(m);if(z!==null){z.flags&=-257,Ff(z,m,v,h,r),z.mode&1&&Lf(h,x,r),r=z,E=x;var W=r.updateQueue;if(W===null){var B=new Set;B.add(E),r.updateQueue=B}else W.add(E);break e}else{if(!(r&1)){Lf(h,x,r),ju();break e}E=Error(n(426))}}else if(je&&v.mode&1){var Ke=jf(m);if(Ke!==null){!(Ke.flags&65536)&&(Ke.flags|=256),Ff(Ke,m,v,h,r),qa(ti(E,v));break e}}h=E=ti(E,v),Ye!==4&&(Ye=2),ds===null?ds=[h]:ds.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var k=Df(h,E,r);lf(h,k);break e;case 1:v=E;var S=h.type,T=h.stateNode;if(!(h.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(zn===null||!zn.has(T)))){h.flags|=65536,r&=-r,h.lanes|=r;var D=Mf(h,v,r);lf(h,D);break e}}h=h.return}while(h!==null)}mp(o)}catch(G){r=G,qe===o&&o!==null&&(qe=o=o.return);continue}break}while(!0)}function fp(){var t=Uo.current;return Uo.current=Ao,t===null?Ao:t}function ju(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||!(fr&268435455)&&!(zo&268435455)||Wn(Je,ot)}function Go(t,r){var o=ve;ve|=2;var a=fp();(Je!==t||ot!==r)&&(vn=null,mr(t,r));do try{W_();break}catch(c){hp(t,c)}while(!0);if(Ya(),ve=o,Uo.current=a,qe!==null)throw Error(n(261));return Je=null,ot=0,Ye}function W_(){for(;qe!==null;)pp(qe)}function B_(){for(;qe!==null&&!mv();)pp(qe)}function pp(t){var r=_p(t.alternate,t,bt);t.memoizedProps=t.pendingProps,r===null?mp(t):qe=r,Nu.current=null}function mp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=j_(o,r),o!==null){o.flags&=32767,qe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,qe=null;return}}else if(o=L_(o,r,bt),o!==null){qe=o;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=t}while(r!==null);Ye===0&&(Ye=5)}function gr(t,r,o){var a=ke,c=Lt.transition;try{Lt.transition=null,ke=1,$_(t,r,o,a)}finally{Lt.transition=c,ke=a}return null}function $_(t,r,o,a){do si();while(Vn!==null);if(ve&6)throw Error(n(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var h=o.lanes|o.childLanes;if(kv(t,h),t===Je&&(qe=Je=null,ot=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Ho||(Ho=!0,yp(Qs,function(){return si(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=Lt.transition,Lt.transition=null;var m=ke;ke=1;var v=ve;ve|=4,Nu.current=null,U_(t,o),sp(o,t),d_(ja),no=!!La,ja=La=null,t.current=o,z_(o),gv(),ve=v,ke=m,Lt.transition=h}else t.current=o;if(Ho&&(Ho=!1,Vn=t,Wo=c),h=t.pendingLanes,h===0&&(zn=null),yv(o.stateNode),Et(t,Ge()),r!==null)for(a=t.onRecoverableError,o=0;o<r.length;o++)c=r[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Vo)throw Vo=!1,t=Pu,Pu=null,t;return Wo&1&&t.tag!==0&&si(),h=t.pendingLanes,h&1?t===Ou?hs++:(hs=0,Ou=t):hs=0,Ln(),null}function si(){if(Vn!==null){var t=nh(Wo),r=Lt.transition,o=ke;try{if(Lt.transition=null,ke=16>t?16:t,Vn===null)var a=!1;else{if(t=Vn,Vn=null,Wo=0,ve&6)throw Error(n(331));var c=ve;for(ve|=4,H=t.current;H!==null;){var h=H,m=h.child;if(H.flags&16){var v=h.deletions;if(v!==null){for(var E=0;E<v.length;E++){var x=v[E];for(H=x;H!==null;){var O=H;switch(O.tag){case 0:case 11:case 15:us(8,O,h)}var A=O.child;if(A!==null)A.return=O,H=A;else for(;H!==null;){O=H;var P=O.sibling,z=O.return;if(ep(O),O===x){H=null;break}if(P!==null){P.return=z,H=P;break}H=z}}}var W=h.alternate;if(W!==null){var B=W.child;if(B!==null){W.child=null;do{var Ke=B.sibling;B.sibling=null,B=Ke}while(B!==null)}}H=h}}if(h.subtreeFlags&2064&&m!==null)m.return=h,H=m;else e:for(;H!==null;){if(h=H,h.flags&2048)switch(h.tag){case 0:case 11:case 15:us(9,h,h.return)}var k=h.sibling;if(k!==null){k.return=h.return,H=k;break e}H=h.return}}var S=t.current;for(H=S;H!==null;){m=H;var T=m.child;if(m.subtreeFlags&2064&&T!==null)T.return=m,H=T;else e:for(m=S;H!==null;){if(v=H,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Fo(9,v)}}catch(G){We(v,v.return,G)}if(v===m){H=null;break e}var D=v.sibling;if(D!==null){D.return=v.return,H=D;break e}H=v.return}}if(ve=c,Ln(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ys,t)}catch{}a=!0}return a}finally{ke=o,Lt.transition=r}}return!1}function gp(t,r,o){r=ti(o,r),r=Df(t,r,1),t=Fn(t,r,1),r=pt(),t!==null&&(Li(t,1,r),Et(t,r))}function We(t,r,o){if(t.tag===3)gp(t,t,o);else for(;r!==null;){if(r.tag===3){gp(r,t,o);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(zn===null||!zn.has(a))){t=ti(o,t),t=Mf(r,t,1),r=Fn(r,t,1),t=pt(),r!==null&&(Li(r,1,t),Et(r,t));break}}r=r.return}}function G_(t,r,o){var a=t.pingCache;a!==null&&a.delete(r),r=pt(),t.pingedLanes|=t.suspendedLanes&o,Je===t&&(ot&o)===o&&(Ye===4||Ye===3&&(ot&130023424)===ot&&500>Ge()-Ru?mr(t,0):bu|=o),Et(t,r)}function vp(t,r){r===0&&(t.mode&1?(r=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):r=1);var o=pt();t=pn(t,r),t!==null&&(Li(t,r,o),Et(t,o))}function K_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),vp(t,o)}function q_(t,r){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(r),vp(t,o)}var _p;_p=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||vt.current)yt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return yt=!1,M_(t,r,o);yt=!!(t.flags&131072)}else yt=!1,je&&r.flags&1048576&&Yh(r,Eo,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Lo(t,r),t=r.pendingProps;var c=Kr(r,ut.current);Zr(r,o),c=lu(null,r,a,t,c,o);var h=au();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_t(a)?(h=!0,_o(r)):h=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,eu(r),c.updater=Do,r.stateNode=c,c._reactInternals=r,pu(r,a,t,o),r=_u(null,r,a,!0,h,o)):(r.tag=0,je&&h&&Ba(r),ft(null,r,c,o),r=r.child),r;case 16:a=r.elementType;e:{switch(Lo(t,r),t=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=Y_(a),t=Bt(a,t),c){case 0:r=vu(null,r,a,t,o);break e;case 1:r=Bf(null,r,a,t,o);break e;case 11:r=Uf(null,r,a,t,o);break e;case 14:r=zf(null,r,a,Bt(a.type,t),o);break e}throw Error(n(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Bt(a,c),vu(t,r,a,c,o);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Bt(a,c),Bf(t,r,a,c,o);case 3:e:{if($f(r),t===null)throw Error(n(387));a=r.pendingProps,h=r.memoizedState,c=h.element,of(t,r),xo(r,a,null,o);var m=r.memoizedState;if(a=m.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){c=ti(Error(n(423)),r),r=Gf(t,r,a,o,c);break e}else if(a!==c){c=ti(Error(n(424)),r),r=Gf(t,r,a,o,c);break e}else for(Nt=An(r.stateNode.containerInfo.firstChild),xt=r,je=!0,Wt=null,o=rf(r,null,a,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Yr(),a===c){r=gn(t,r,o);break e}ft(t,r,a,o)}r=r.child}return r;case 5:return uf(r),t===null&&Ka(r),a=r.type,c=r.pendingProps,h=t!==null?t.memoizedProps:null,m=c.children,Fa(a,c)?m=null:h!==null&&Fa(a,h)&&(r.flags|=32),Wf(t,r),ft(t,r,m,o),r.child;case 6:return t===null&&Ka(r),null;case 13:return Kf(t,r,o);case 4:return tu(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=Xr(r,null,a,o):ft(t,r,a,o),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Bt(a,c),Uf(t,r,a,c,o);case 7:return ft(t,r,r.pendingProps,o),r.child;case 8:return ft(t,r,r.pendingProps.children,o),r.child;case 12:return ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,h=r.memoizedProps,m=c.value,Pe(Io,a._currentValue),a._currentValue=m,h!==null)if(Ht(h.value,m)){if(h.children===c.children&&!vt.current){r=gn(t,r,o);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var v=h.dependencies;if(v!==null){m=h.child;for(var E=v.firstContext;E!==null;){if(E.context===a){if(h.tag===1){E=mn(-1,o&-o),E.tag=2;var x=h.updateQueue;if(x!==null){x=x.shared;var O=x.pending;O===null?E.next=E:(E.next=O.next,O.next=E),x.pending=E}}h.lanes|=o,E=h.alternate,E!==null&&(E.lanes|=o),Ja(h.return,o,r),v.lanes|=o;break}E=E.next}}else if(h.tag===10)m=h.type===r.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(n(341));m.lanes|=o,v=m.alternate,v!==null&&(v.lanes|=o),Ja(m,o,r),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===r){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}ft(t,r,c.children,o),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,Zr(r,o),c=Dt(c),a=a(c),r.flags|=1,ft(t,r,a,o),r.child;case 14:return a=r.type,c=Bt(a,r.pendingProps),c=Bt(a.type,c),zf(t,r,a,c,o);case 15:return Vf(t,r,r.type,r.pendingProps,o);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Bt(a,c),Lo(t,r),r.tag=1,_t(a)?(t=!0,_o(r)):t=!1,Zr(r,o),Of(r,a,c),pu(r,a,c,o),_u(null,r,a,!0,t,o);case 19:return Qf(t,r,o);case 22:return Hf(t,r,o)}throw Error(n(156,r.tag))};function yp(t,r){return Xd(t,r)}function Q_(t,r,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,r,o,a){return new Q_(t,r,o,a)}function Fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y_(t){if(typeof t=="function")return Fu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j)return 11;if(t===be)return 14}return 2}function Bn(t,r){var o=t.alternate;return o===null?(o=jt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Ko(t,r,o,a,c,h){var m=2;if(a=t,typeof t=="function")Fu(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case oe:return vr(o.children,c,h,r);case K:m=8,c|=8;break;case De:return t=jt(12,o,r,c|2),t.elementType=De,t.lanes=h,t;case se:return t=jt(13,o,r,c),t.elementType=se,t.lanes=h,t;case Q:return t=jt(19,o,r,c),t.elementType=Q,t.lanes=h,t;case Se:return qo(o,c,h,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ve:m=10;break e;case $:m=9;break e;case j:m=11;break e;case be:m=14;break e;case Re:m=16,a=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=jt(m,o,r,c),r.elementType=t,r.type=a,r.lanes=h,r}function vr(t,r,o,a){return t=jt(7,t,a,r),t.lanes=o,t}function qo(t,r,o,a){return t=jt(22,t,a,r),t.elementType=Se,t.lanes=o,t.stateNode={isHidden:!1},t}function Uu(t,r,o){return t=jt(6,t,null,r),t.lanes=o,t}function zu(t,r,o){return r=jt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function X_(t,r,o,a,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Vu(t,r,o,a,c,h,m,v,E){return t=new X_(t,r,o,v,E),r===1?(r=1,h===!0&&(r|=8)):r=0,h=jt(3,null,null,r),t.current=h,h.stateNode=t,h.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(h),t}function J_(t,r,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:a==null?null:""+a,children:t,containerInfo:r,implementation:o}}function wp(t){if(!t)return Mn;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(_t(o))return Kh(t,o,r)}return r}function Ep(t,r,o,a,c,h,m,v,E){return t=Vu(o,a,!0,t,c,h,m,v,E),t.context=wp(null),o=t.current,a=pt(),c=Hn(o),h=mn(a,c),h.callback=r??null,Fn(o,h,c),t.current.lanes=c,Li(t,c,a),Et(t,a),t}function Qo(t,r,o,a){var c=r.current,h=pt(),m=Hn(c);return o=wp(o),r.context===null?r.context=o:r.pendingContext=o,r=mn(h,m),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=Fn(c,r,m),t!==null&&(Kt(t,c,m,h),To(t,c,m)),m}function Yo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Hu(t,r){Sp(t,r),(t=t.alternate)&&Sp(t,r)}var Cp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}Xo.prototype.render=Wu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Qo(t,r,null,null)},Xo.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;pr(function(){Qo(null,t,null,null)}),r[cn]=null}};function Xo(t){this._internalRoot=t}Xo.prototype.unstable_scheduleHydration=function(t){if(t){var r=sh();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Rn.length&&r!==0&&r<Rn[o].priority;o++);Rn.splice(o,0,t),o===0&&ah(t)}};function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ip(){}function Z_(t,r,o,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var x=Yo(m);h.call(x)}}var m=Ep(r,a,t,0,null,!1,!1,"",Ip);return t._reactRootContainer=m,t[cn]=m.current,Yi(t.nodeType===8?t.parentNode:t),pr(),m}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var x=Yo(E);v.call(x)}}var E=Vu(t,0,!1,null,null,!1,!1,"",Ip);return t._reactRootContainer=E,t[cn]=E.current,Yi(t.nodeType===8?t.parentNode:t),pr(function(){Qo(r,E,o,a)}),E}function Zo(t,r,o,a,c){var h=o._reactRootContainer;if(h){var m=h;if(typeof c=="function"){var v=c;c=function(){var E=Yo(m);v.call(E)}}Qo(r,m,t,c)}else m=Z_(o,r,t,c,a);return Yo(m)}rh=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Mi(r.pendingLanes);o!==0&&(pa(r,o|1),Et(r,Ge()),!(ve&6)&&(ii=Ge()+500,Ln()))}break;case 13:pr(function(){var a=pn(t,1);if(a!==null){var c=pt();Kt(a,t,1,c)}}),Hu(t,1)}},ma=function(t){if(t.tag===13){var r=pn(t,134217728);if(r!==null){var o=pt();Kt(r,t,134217728,o)}Hu(t,134217728)}},ih=function(t){if(t.tag===13){var r=Hn(t),o=pn(t,r);if(o!==null){var a=pt();Kt(o,t,r,a)}Hu(t,r)}},sh=function(){return ke},oh=function(t,r){var o=ke;try{return ke=t,r()}finally{ke=o}},la=function(t,r,o){switch(r){case"input":if(Dr(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var a=o[r];if(a!==t&&a.form===t.form){var c=go(a);if(!c)throw Error(n(90));Pt(a),Dr(a,c)}}}break;case"textarea":Md(t,o);break;case"select":r=o.value,r!=null&&Mr(t,!!o.multiple,r,!1)}},Bd=Mu,$d=pr;var ey={usingClientEntryPoint:!1,Events:[Zi,$r,go,Hd,Wd,Mu]},fs={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ty={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qd(t),t===null?null:t.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Ys=el.inject(ty),en=el}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ey,St.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(r))throw Error(n(200));return J_(t,r,null,o)},St.createRoot=function(t,r){if(!Bu(t))throw Error(n(299));var o=!1,a="",c=Cp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=Vu(t,1,!1,null,null,o,!1,a,c),t[cn]=r.current,Yi(t.nodeType===8?t.parentNode:t),new Wu(r)},St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Qd(r),t=t===null?null:t.stateNode,t},St.flushSync=function(t){return pr(t)},St.hydrate=function(t,r,o){if(!Jo(r))throw Error(n(200));return Zo(null,t,r,!0,o)},St.hydrateRoot=function(t,r,o){if(!Bu(t))throw Error(n(405));var a=o!=null&&o.hydratedSources||null,c=!1,h="",m=Cp;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),r=Ep(r,null,t,1,o??null,c,!1,h,m),t[cn]=r.current,Yi(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,c]:r.mutableSourceEagerHydrationData.push(o,c);return new Xo(r)},St.render=function(t,r,o){if(!Jo(r))throw Error(n(200));return Zo(null,t,r,!1,o)},St.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(n(40));return t._reactRootContainer?(pr(function(){Zo(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1},St.unstable_batchedUpdates=Mu,St.unstable_renderSubtreeIntoContainer=function(t,r,o,a){if(!Jo(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Zo(t,r,o,!1,a)},St.version="18.3.1-next-f1338f8080-20240426",St}var Op;function uy(){if(Op)return Ku.exports;Op=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ku.exports=ay(),Ku.exports}var Ap;function cy(){if(Ap)return tl;Ap=1;var i=uy();return tl.createRoot=i.createRoot,tl.hydrateRoot=i.hydrateRoot,tl}var dy=cy();const hy="modulepreload",fy=function(i){return"/portfolio_web/"+i},Dp={},Ut=function(e,n,s){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(n.map(p=>{if(p=fy(p),p in Dp)return;Dp[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":hy,g||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((w,N)=>{_.addEventListener("load",w),_.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return e().catch(u)})};var ol={exports:{}},py=ol.exports,Mp;function my(){return Mp||(Mp=1,function(i,e){(function(n,s){i.exports=s()})(py,function(){return function(n){function s(u){if(l[u])return l[u].exports;var d=l[u]={exports:{},id:u,loaded:!1};return n[u].call(d.exports,d,d.exports,s),d.loaded=!0,d.exports}var l={};return s.m=n,s.c=l,s.p="dist/",s(0)}([function(n,s,l){function u(Q){return Q&&Q.__esModule?Q:{default:Q}}var d=Object.assign||function(Q){for(var be=1;be<arguments.length;be++){var Re=arguments[be];for(var Se in Re)Object.prototype.hasOwnProperty.call(Re,Se)&&(Q[Se]=Re[Se])}return Q},f=l(1),p=(u(f),l(6)),g=u(p),y=l(7),_=u(y),w=l(8),N=u(w),R=l(9),F=u(R),V=l(10),_e=u(V),Ie=l(11),ee=u(Ie),ye=l(14),Fe=u(ye),ge=[],oe=!1,K={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},De=function(){var Q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Q&&(oe=!0),oe)return ge=(0,ee.default)(ge,K),(0,_e.default)(ge,K.once),ge},Ve=function(){ge=(0,Fe.default)(),De()},$=function(){ge.forEach(function(Q,be){Q.node.removeAttribute("data-aos"),Q.node.removeAttribute("data-aos-easing"),Q.node.removeAttribute("data-aos-duration"),Q.node.removeAttribute("data-aos-delay")})},j=function(Q){return Q===!0||Q==="mobile"&&F.default.mobile()||Q==="phone"&&F.default.phone()||Q==="tablet"&&F.default.tablet()||typeof Q=="function"&&Q()===!0},se=function(Q){K=d(K,Q),ge=(0,Fe.default)();var be=document.all&&!window.atob;return j(K.disable)||be?$():(K.disableMutationObserver||N.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),K.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",K.easing),document.querySelector("body").setAttribute("data-aos-duration",K.duration),document.querySelector("body").setAttribute("data-aos-delay",K.delay),K.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?De(!0):K.startEvent==="load"?window.addEventListener(K.startEvent,function(){De(!0)}):document.addEventListener(K.startEvent,function(){De(!0)}),window.addEventListener("resize",(0,_.default)(De,K.debounceDelay,!0)),window.addEventListener("orientationchange",(0,_.default)(De,K.debounceDelay,!0)),window.addEventListener("scroll",(0,g.default)(function(){(0,_e.default)(ge,K.once)},K.throttleDelay)),K.disableMutationObserver||N.default.ready("[data-aos]",Ve),ge)};n.exports={init:se,refresh:De,refreshHard:Ve}},function(n,s){},,,,,function(n,s){(function(l){function u(j,se,Q){function be(we){var it=Z,zt=ae;return Z=ae=void 0,He=we,le=j.apply(zt,it)}function Re(we){return He=we,te=setTimeout(q,se),kt?be(we):le}function Se(we){var it=we-de,zt=we-He,Dr=se-it;return Pt?Ve(Dr,ue-zt):Dr}function L(we){var it=we-de,zt=we-He;return de===void 0||it>=se||it<0||Pt&&zt>=ue}function q(){var we=$();return L(we)?U(we):void(te=setTimeout(q,Se(we)))}function U(we){return te=void 0,Te&&Z?be(we):(Z=ae=void 0,le)}function I(){te!==void 0&&clearTimeout(te),He=0,Z=de=ae=te=void 0}function b(){return te===void 0?le:U($())}function J(){var we=$(),it=L(we);if(Z=arguments,ae=this,de=we,it){if(te===void 0)return Re(de);if(Pt)return te=setTimeout(q,se),be(de)}return te===void 0&&(te=setTimeout(q,se)),le}var Z,ae,ue,le,te,de,He=0,kt=!1,Pt=!1,Te=!0;if(typeof j!="function")throw new TypeError(w);return se=y(se)||0,f(Q)&&(kt=!!Q.leading,Pt="maxWait"in Q,ue=Pt?De(y(Q.maxWait)||0,se):ue,Te="trailing"in Q?!!Q.trailing:Te),J.cancel=I,J.flush=b,J}function d(j,se,Q){var be=!0,Re=!0;if(typeof j!="function")throw new TypeError(w);return f(Q)&&(be="leading"in Q?!!Q.leading:be,Re="trailing"in Q?!!Q.trailing:Re),u(j,se,{leading:be,maxWait:se,trailing:Re})}function f(j){var se=typeof j>"u"?"undefined":_(j);return!!j&&(se=="object"||se=="function")}function p(j){return!!j&&(typeof j>"u"?"undefined":_(j))=="object"}function g(j){return(typeof j>"u"?"undefined":_(j))=="symbol"||p(j)&&K.call(j)==R}function y(j){if(typeof j=="number")return j;if(g(j))return N;if(f(j)){var se=typeof j.valueOf=="function"?j.valueOf():j;j=f(se)?se+"":se}if(typeof j!="string")return j===0?j:+j;j=j.replace(F,"");var Q=_e.test(j);return Q||Ie.test(j)?ee(j.slice(2),Q?2:8):V.test(j)?N:+j}var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},w="Expected a function",N=NaN,R="[object Symbol]",F=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,Ie=/^0o[0-7]+$/i,ee=parseInt,ye=(typeof l>"u"?"undefined":_(l))=="object"&&l&&l.Object===Object&&l,Fe=(typeof self>"u"?"undefined":_(self))=="object"&&self&&self.Object===Object&&self,ge=ye||Fe||Function("return this")(),oe=Object.prototype,K=oe.toString,De=Math.max,Ve=Math.min,$=function(){return ge.Date.now()};n.exports=d}).call(s,function(){return this}())},function(n,s){(function(l){function u($,j,se){function Q(Te){var we=J,it=Z;return J=Z=void 0,de=Te,ue=$.apply(it,we)}function be(Te){return de=Te,le=setTimeout(L,j),He?Q(Te):ue}function Re(Te){var we=Te-te,it=Te-de,zt=j-we;return kt?De(zt,ae-it):zt}function Se(Te){var we=Te-te,it=Te-de;return te===void 0||we>=j||we<0||kt&&it>=ae}function L(){var Te=Ve();return Se(Te)?q(Te):void(le=setTimeout(L,Re(Te)))}function q(Te){return le=void 0,Pt&&J?Q(Te):(J=Z=void 0,ue)}function U(){le!==void 0&&clearTimeout(le),de=0,J=te=Z=le=void 0}function I(){return le===void 0?ue:q(Ve())}function b(){var Te=Ve(),we=Se(Te);if(J=arguments,Z=this,te=Te,we){if(le===void 0)return be(te);if(kt)return le=setTimeout(L,j),Q(te)}return le===void 0&&(le=setTimeout(L,j)),ue}var J,Z,ae,ue,le,te,de=0,He=!1,kt=!1,Pt=!0;if(typeof $!="function")throw new TypeError(_);return j=g(j)||0,d(se)&&(He=!!se.leading,kt="maxWait"in se,ae=kt?K(g(se.maxWait)||0,j):ae,Pt="trailing"in se?!!se.trailing:Pt),b.cancel=U,b.flush=I,b}function d($){var j=typeof $>"u"?"undefined":y($);return!!$&&(j=="object"||j=="function")}function f($){return!!$&&(typeof $>"u"?"undefined":y($))=="object"}function p($){return(typeof $>"u"?"undefined":y($))=="symbol"||f($)&&oe.call($)==N}function g($){if(typeof $=="number")return $;if(p($))return w;if(d($)){var j=typeof $.valueOf=="function"?$.valueOf():$;$=d(j)?j+"":j}if(typeof $!="string")return $===0?$:+$;$=$.replace(R,"");var se=V.test($);return se||_e.test($)?Ie($.slice(2),se?2:8):F.test($)?w:+$}var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_="Expected a function",w=NaN,N="[object Symbol]",R=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,V=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,Ie=parseInt,ee=(typeof l>"u"?"undefined":y(l))=="object"&&l&&l.Object===Object&&l,ye=(typeof self>"u"?"undefined":y(self))=="object"&&self&&self.Object===Object&&self,Fe=ee||ye||Function("return this")(),ge=Object.prototype,oe=ge.toString,K=Math.max,De=Math.min,Ve=function(){return Fe.Date.now()};n.exports=u}).call(s,function(){return this}())},function(n,s){function l(y){var _=void 0,w=void 0;for(_=0;_<y.length;_+=1)if(w=y[_],w.dataset&&w.dataset.aos||w.children&&l(w.children))return!0;return!1}function u(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function d(){return!!u()}function f(y,_){var w=window.document,N=u(),R=new N(p);g=_,R.observe(w.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function p(y){y&&y.forEach(function(_){var w=Array.prototype.slice.call(_.addedNodes),N=Array.prototype.slice.call(_.removedNodes),R=w.concat(N);if(l(R))return g()})}Object.defineProperty(s,"__esModule",{value:!0});var g=function(){};s.default={isSupported:d,ready:f}},function(n,s){function l(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function u(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(s,"__esModule",{value:!0});var d=function(){function w(N,R){for(var F=0;F<R.length;F++){var V=R[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}return function(N,R,F){return R&&w(N.prototype,R),F&&w(N,F),N}}(),f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,p=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,y=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,_=function(){function w(){l(this,w)}return d(w,[{key:"phone",value:function(){var N=u();return!(!f.test(N)&&!p.test(N.substr(0,4)))}},{key:"mobile",value:function(){var N=u();return!(!g.test(N)&&!y.test(N.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),w}();s.default=new _},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var l=function(d,f,p){var g=d.node.getAttribute("data-aos-once");f>d.position?d.node.classList.add("aos-animate"):typeof g<"u"&&(g==="false"||!p&&g!=="true")&&d.node.classList.remove("aos-animate")},u=function(d,f){var p=window.pageYOffset,g=window.innerHeight;d.forEach(function(y,_){l(y,g+p,f)})};s.default=u},function(n,s,l){function u(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(s,"__esModule",{value:!0});var d=l(12),f=u(d),p=function(g,y){return g.forEach(function(_,w){_.node.classList.add("aos-init"),_.position=(0,f.default)(_.node,y.offset)}),g};s.default=p},function(n,s,l){function u(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(s,"__esModule",{value:!0});var d=l(13),f=u(d),p=function(g,y){var _=0,w=0,N=window.innerHeight,R={offset:g.getAttribute("data-aos-offset"),anchor:g.getAttribute("data-aos-anchor"),anchorPlacement:g.getAttribute("data-aos-anchor-placement")};switch(R.offset&&!isNaN(R.offset)&&(w=parseInt(R.offset)),R.anchor&&document.querySelectorAll(R.anchor)&&(g=document.querySelectorAll(R.anchor)[0]),_=(0,f.default)(g).top,R.anchorPlacement){case"top-bottom":break;case"center-bottom":_+=g.offsetHeight/2;break;case"bottom-bottom":_+=g.offsetHeight;break;case"top-center":_+=N/2;break;case"bottom-center":_+=N/2+g.offsetHeight;break;case"center-center":_+=N/2+g.offsetHeight/2;break;case"top-top":_+=N;break;case"bottom-top":_+=g.offsetHeight+N;break;case"center-top":_+=g.offsetHeight/2+N}return R.anchorPlacement||R.offset||isNaN(y)||(w=y),_+w};s.default=p},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var l=function(u){for(var d=0,f=0;u&&!isNaN(u.offsetLeft)&&!isNaN(u.offsetTop);)d+=u.offsetLeft-(u.tagName!="BODY"?u.scrollLeft:0),f+=u.offsetTop-(u.tagName!="BODY"?u.scrollTop:0),u=u.offsetParent;return{top:f,left:d}};s.default=l},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var l=function(u){return u=u||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(u,function(d){return{node:d}})};s.default=l}])})}(ol)),ol.exports}var gy=my();const vy=Jm(gy);var Zm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lp=Sr.createContext&&Sr.createContext(Zm),_y=["attr","size","title"];function yy(i,e){if(i==null)return{};var n=wy(i,e),s,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)s=u[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function wy(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function hl(){return hl=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},hl.apply(this,arguments)}function jp(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,s)}return n}function fl(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jp(Object(n),!0).forEach(function(s){Ey(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function Ey(i,e,n){return e=Sy(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function Sy(i){var e=Cy(i,"string");return typeof e=="symbol"?e:e+""}function Cy(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function eg(i){return i&&i.map((e,n)=>Sr.createElement(e.tag,fl({key:n},e.attr),eg(e.child)))}function Pr(i){return e=>Sr.createElement(Iy,hl({attr:fl({},i.attr)},e),eg(i.child))}function Iy(i){var e=n=>{var{attr:s,size:l,title:u}=i,d=yy(i,_y),f=l||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Sr.createElement("svg",hl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:p,style:fl(fl({color:i.color||n.color},n.style),i.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&Sr.createElement("title",null,u),i.children)};return Lp!==void 0?Sr.createElement(Lp.Consumer,null,n=>e(n)):e(Zm)}function Jk(i){return Pr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M232 237.2c31.8-15.2 48.4-38.2 48.4-74 0-70.6-52.6-87.8-113.3-87.8H0v354.4h171.8c64.4 0 124.9-30.9 124.9-102.9 0-44.5-21.1-77.4-64.7-89.7zM77.9 135.9H151c28.1 0 53.4 7.9 53.4 40.5 0 30.1-19.7 42.2-47.5 42.2h-79v-82.7zm83.3 233.7H77.9V272h84.9c34.3 0 56 14.3 56 50.6 0 35.8-25.9 47-57.6 47zm358.5-240.7H376V94h143.7v34.9zM576 305.2c0-75.9-44.4-139.2-124.9-139.2-78.2 0-131.3 58.8-131.3 135.8 0 79.9 50.3 134.7 131.3 134.7 61.3 0 101-27.6 120.1-86.3H509c-6.7 21.9-34.3 33.5-55.7 33.5-41.3 0-63-24.2-63-65.3h185.1c.3-4.2.6-8.7.6-13.2zM390.4 274c2.3-33.7 24.7-54.8 58.5-54.8 35.4 0 53.2 20.8 56.2 54.8H390.4z"},child:[]}]})(i)}function Zk(i){return Pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(i)}function e2(i){return Pr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function t2(i){return Pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function n2(i){return Pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function Fp(i){return Pr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(i)}function r2(i){return Pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(i)}/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tg=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ty={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ce.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...f},p)=>ce.createElement("svg",{ref:p,...Ty,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:tg("lucide",l),...f},[...d.map(([g,y])=>ce.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=(i,e)=>{const n=ce.forwardRef(({className:s,...l},u)=>ce.createElement(xy,{ref:u,iconNode:e,className:tg(`lucide-${ky(i)}`,s),...l}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nl=Ny("ArrowRight",by),Ry=()=>{};var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,e){if(!i)throw Ei(e)},Ei=function(i){return new Error("Firebase Database ("+ng.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Py=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],f=i[n++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Dc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,f=d?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,y=u>>2,_=(u&3)<<4|f>>4;let w=(f&15)<<2|g>>6,N=g&63;p||(N=64,d||(w=64)),s.push(n[y],n[_],n[w],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Py(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],f=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const _=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||f==null||g==null||_==null)throw new Oy;const w=u<<2|f>>4;if(s.push(w),g!==64){const N=f<<4&240|g>>2;if(s.push(N),_!==64){const R=g<<6&192|_;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Oy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ig=function(i){const e=rg(i);return Dc.encodeByteArray(e,!0)},pl=function(i){return ig(i).replace(/\./g,"")},ml=function(i){try{return Dc.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(i){return sg(void 0,i)}function sg(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Dy(n)||(i[n]=sg(i[n],e[n]));return i}function Dy(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=()=>My().__FIREBASE_DEFAULTS__,jy=()=>{if(typeof process>"u"||typeof Up>"u")return;const i=Up.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Fy=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ml(i[1]);return e&&JSON.parse(e)},Mc=()=>{try{return Ry()||Ly()||jy()||Fy()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},og=i=>{var e,n;return(n=(e=Mc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Uy=i=>{const e=og(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lg=()=>{var i;return(i=Mc())===null||i===void 0?void 0:i.config},ag=i=>{var e;return(e=Mc())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(i){return i.endsWith(".cloudworkstations.dev")}async function ug(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[pl(JSON.stringify(n)),pl(JSON.stringify(d)),""].join(".")}const ws={};function Vy(){const i={prod:[],emulator:[]};for(const e of Object.keys(ws))ws[e]?i.emulator.push(e):i.prod.push(e);return i}function Hy(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let zp=!1;function cg(i,e){if(typeof window>"u"||typeof document>"u"||!Si(window.location.host)||ws[i]===e||ws[i]||zp)return;ws[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Vy().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{zp=!0,d()},w}function y(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=Hy(s),N=n("text"),R=document.getElementById(N)||document.createElement("span"),F=n("learnmore"),V=document.getElementById(F)||document.createElement("a"),_e=n("preprendIcon"),Ie=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;f(ee),y(V,F);const ye=g();p(Ie,_e),ee.append(Ie,R,V,ye),document.body.appendChild(ee)}u?(R.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Wy(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function By(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $y(){const i=gt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function hg(){return ng.NODE_ADMIN===!0}function Gy(){try{return typeof indexedDB=="object"}catch{return!1}}function Ky(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="FirebaseError";class rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qy,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Qy(u,s):"Error",f=`${this.serviceName}: ${d} (${l}).`;return new rr(l,f,s)}}function Qy(i,e){return i.replace(Yy,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Yy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(i){return JSON.parse(i)}function rt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=function(i){let e={},n={},s={},l="";try{const u=i.split(".");e=xs(ml(u[0])||""),n=xs(ml(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},Xy=function(i){const e=fg(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Jy=function(i){const e=fg(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function fi(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function cc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function gl(i,e,n){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(n,i[l],l,i));return s}function Ir(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],d=e[l];if(Vp(u)&&Vp(d)){if(!Ir(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Vp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const w=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(w<<1|w>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],f=this.chain_[3],p=this.chain_[4],g,y;for(let _=0;_<80;_++){_<40?_<20?(g=f^u&(d^f),y=1518500249):(g=u^d^f,y=1859775393):_<60?(g=u&d|f&(u|d),y=2400959708):(g=u^d^f,y=3395469782);const w=(l<<5|l>>>27)+g+p+y+s[_]&4294967295;p=f,f=d,d=(u<<30|u>>>2)&4294967295,u=l,l=w}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<n;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<n;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function e1(i,e){const n=new t1(i,e);return n.subscribe.bind(n)}class t1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");n1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Yu),l.error===void 0&&(l.error=Yu),l.complete===void 0&&(l.complete=Yu);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Yu(){}function Fl(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,M(s<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Ul=function(i){let e=0;for(let n=0;n<i.length;n++){const s=i.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i){return i&&i._delegate?i._delegate:i}class kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new js;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o1(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s1(i){return i===_r?void 0:i}function o1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const a1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},u1=xe.INFO,c1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},d1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=c1[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jc{constructor(e){this.name=e,this._logLevel=u1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const h1=(i,e)=>e.some(n=>i instanceof n);let Hp,Wp;function f1(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return Wp||(Wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pg=new WeakMap,dc=new WeakMap,mg=new WeakMap,Xu=new WeakMap,Fc=new WeakMap;function m1(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Xn(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&pg.set(n,i)}).catch(()=>{}),Fc.set(e,i),e}function g1(i){if(dc.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});dc.set(i,e)}let hc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return dc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function v1(i){hc=i(hc)}function _1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Ju(this),e,...n);return mg.set(s,e.sort?e.sort():[e]),Xn(s)}:p1().includes(i)?function(...e){return i.apply(Ju(this),e),Xn(pg.get(this))}:function(...e){return Xn(i.apply(Ju(this),e))}}function y1(i){return typeof i=="function"?_1(i):(i instanceof IDBTransaction&&g1(i),h1(i,f1())?new Proxy(i,hc):i)}function Xn(i){if(i instanceof IDBRequest)return m1(i);if(Xu.has(i))return Xu.get(i);const e=y1(i);return e!==i&&(Xu.set(i,e),Fc.set(e,i)),e}const Ju=i=>Fc.get(i);function w1(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(i,e),f=Xn(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Xn(d.result),p.oldVersion,p.newVersion,Xn(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const E1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],Zu=new Map;function Bp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zu.get(e))return Zu.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=S1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||E1.includes(n)))return;const u=async function(d,...f){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),l&&p.done]))[0]};return Zu.set(e,u),u}v1(i=>({...i,get:(e,n,s)=>Bp(e,n)||i.get(e,n,s),has:(e,n)=>!!Bp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function I1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fc="@firebase/app",$p="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new jc("@firebase/app"),k1="@firebase/app-compat",T1="@firebase/analytics-compat",x1="@firebase/analytics",N1="@firebase/app-check-compat",b1="@firebase/app-check",R1="@firebase/auth",P1="@firebase/auth-compat",O1="@firebase/database",A1="@firebase/data-connect",D1="@firebase/database-compat",M1="@firebase/functions",L1="@firebase/functions-compat",j1="@firebase/installations",F1="@firebase/installations-compat",U1="@firebase/messaging",z1="@firebase/messaging-compat",V1="@firebase/performance",H1="@firebase/performance-compat",W1="@firebase/remote-config",B1="@firebase/remote-config-compat",$1="@firebase/storage",G1="@firebase/storage-compat",K1="@firebase/firestore",q1="@firebase/ai",Q1="@firebase/firestore-compat",Y1="firebase",X1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="[DEFAULT]",J1={[fc]:"fire-core",[k1]:"fire-core-compat",[x1]:"fire-analytics",[T1]:"fire-analytics-compat",[b1]:"fire-app-check",[N1]:"fire-app-check-compat",[R1]:"fire-auth",[P1]:"fire-auth-compat",[O1]:"fire-rtdb",[A1]:"fire-data-connect",[D1]:"fire-rtdb-compat",[M1]:"fire-fn",[L1]:"fire-fn-compat",[j1]:"fire-iid",[F1]:"fire-iid-compat",[U1]:"fire-fcm",[z1]:"fire-fcm-compat",[V1]:"fire-perf",[H1]:"fire-perf-compat",[W1]:"fire-rc",[B1]:"fire-rc-compat",[$1]:"fire-gcs",[G1]:"fire-gcs-compat",[K1]:"fire-fst",[Q1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[Y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,Z1=new Map,mc=new Map;function Gp(i,e){try{i.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function pi(i){const e=i.name;if(mc.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;mc.set(e,i);for(const n of vl.values())Gp(n,i);for(const n of Z1.values())Gp(n,i);return!0}function Uc(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function qt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new Fs("app","Firebase",ew);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=X1;function gg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pc,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw Jn.create("bad-app-name",{appName:String(l)});if(n||(n=lg()),!n)throw Jn.create("no-options");const u=vl.get(l);if(u){if(Ir(n,u.options)&&Ir(s,u.config))return u;throw Jn.create("duplicate-app",{appName:l})}const d=new l1(l);for(const p of mc.values())d.addComponent(p);const f=new tw(n,s,d);return vl.set(l,f),f}function vg(i=pc){const e=vl.get(i);if(!e&&i===pc&&lg())return gg();if(!e)throw Jn.create("no-app",{appName:i});return e}function Zn(i,e,n){var s;let l=(s=J1[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const f=[`Unable to register library "${l}" with version "${e}":`];u&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(f.join(" "));return}pi(new kr(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebase-heartbeat-database",rw=1,Ns="firebase-heartbeat-store";let ec=null;function _g(){return ec||(ec=w1(nw,rw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ns)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jn.create("idb-open",{originalErrorMessage:i.message})})),ec}async function iw(i){try{const n=(await _g()).transaction(Ns),s=await n.objectStore(Ns).get(yg(i));return await n.done,s}catch(e){if(e instanceof rr)In.warn(e.message);else{const n=Jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});In.warn(n.message)}}}async function Kp(i,e){try{const s=(await _g()).transaction(Ns,"readwrite");await s.objectStore(Ns).put(e,yg(i)),await s.done}catch(n){if(n instanceof rr)In.warn(n.message);else{const s=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});In.warn(s.message)}}}function yg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=1024,ow=30;class lw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>ow){const d=cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){In.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qp(),{heartbeatsToSend:s,unsentEntries:l}=aw(this._heartbeatsCache.heartbeats),u=pl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return In.warn(n),""}}}function qp(){return new Date().toISOString().substring(0,10)}function aw(i,e=sw){const n=[];let s=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Qp(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Qp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gy()?Ky().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Qp(i){return pl(JSON.stringify({version:2,heartbeats:i})).length}function cw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i){pi(new kr("platform-logger",e=>new C1(e),"PRIVATE")),pi(new kr("heartbeat",e=>new lw(e),"PRIVATE")),Zn(fc,$p,i),Zn(fc,$p,"esm2017"),Zn("fire-js","")}dw("");var hw="firebase",fw="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(hw,fw,"app");function zc(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(n[s[l]]=i[s[l]]);return n}function wg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pw=wg,Eg=new Fs("auth","Firebase",wg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new jc("@firebase/auth");function mw(i,...e){_l.logLevel<=xe.WARN&&_l.warn(`Auth (${Ii}): ${i}`,...e)}function ll(i,...e){_l.logLevel<=xe.ERROR&&_l.error(`Auth (${Ii}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(i,...e){throw Hc(i,...e)}function Xt(i,...e){return Hc(i,...e)}function Vc(i,e,n){const s=Object.assign(Object.assign({},pw()),{[e]:n});return new Fs("auth","Firebase",s).create(e,{appName:i.name})}function Cr(i){return Vc(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gw(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&an(i,"argument-error"),Vc(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hc(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Eg.create(i,...e)}function ie(i,e,...n){if(!i)throw Hc(e,...n)}function wn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ll(e),new Error(e)}function kn(i,e){i||wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function vw(){return Yp()==="http:"||Yp()==="https:"}function Yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||By()||"connection"in navigator)?navigator.onLine:!0}function yw(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.shortDelay=e,this.longDelay=n,kn(n>e,"Short delay should be less than long delay!"),this.isMobile=Lc()||dg()}get(){return _w()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(i,e){kn(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sw=new Us(3e4,6e4);function Bc(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ki(i,e,n,s,l={}){return Cg(i,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const f=Ci(Object.assign({key:i.config.apiKey},d)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return Wy()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Si(i.emulatorConfig.host)&&(g.credentials="include"),Sg.fetch()(await Ig(i,i.config.apiHost,n,f),g)})}async function Cg(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},ww),e);try{const l=new Iw(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw rl(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const f=u.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rl(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw rl(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw rl(i,"user-disabled",d);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Vc(i,y,g);an(i,y)}}catch(l){if(l instanceof rr)throw l;an(i,"network-request-failed",{message:String(l)})}}async function Cw(i,e,n,s,l={}){const u=await ki(i,e,n,s,l);return"mfaPendingCredential"in u&&an(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ig(i,e,n,s){const l=`${e}${n}?${s}`,u=i,d=u.config.emulator?Wc(i.config,l):`${i.config.apiScheme}://${l}`;return Ew.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class Iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xt(this.auth,"network-request-failed")),Sw.get())})}}function rl(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Xt(i,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(i,e){return ki(i,"POST","/v1/accounts:delete",e)}async function yl(i,e){return ki(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tw(i,e=!1){const n=Rt(i),s=await n.getIdToken(e),l=$c(s);ie(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Es(tc(l.auth_time)),issuedAtTime:Es(tc(l.iat)),expirationTime:Es(tc(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function tc(i){return Number(i)*1e3}function $c(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ll("JWT malformed, contained fewer than 3 sections"),null;try{const l=ml(n);return l?JSON.parse(l):(ll("Failed to decode base64 JWT payload"),null)}catch(l){return ll("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Xp(i){const e=$c(i);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rr&&xw(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function xw({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Es(this.lastLoginAt),this.creationTime=Es(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(i){var e;const n=i.auth,s=await i.getIdToken(),l=await bs(i,yl(n,{idToken:s}));ie(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];i._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?kg(u.providerUserInfo):[],f=Rw(i.providerData,d),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(f!=null&&f.length),y=p?g:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new vc(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function bw(i){const e=Rt(i);await wl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rw(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function kg(i){return i.map(e=>{var{providerId:n}=e,s=zc(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(i,e){const n=await Cg(i,{},async()=>{const s=Ci({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,d=await Ig(i,l,"/v1/token",`key=${u}`),f=await i._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return i.emulatorConfig&&Si(i.emulatorConfig.host)&&(p.credentials="include"),Sg.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ow(i,e){return ki(i,"POST","/v2/accounts:revokeToken",Bc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=Xp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await Pw(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new li;return s&&(ie(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ie(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(ie(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new li,this.toJSON())}_performRefresh(){return wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,e){ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Qt{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=zc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vc(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await bs(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tw(this,e)}reload(){return bw(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await bs(this,kw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,d,f,p,g,y;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,R=(d=n.photoURL)!==null&&d!==void 0?d:void 0,F=(f=n.tenantId)!==null&&f!==void 0?f:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,_e=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Ie=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ee,emailVerified:ye,isAnonymous:Fe,providerData:ge,stsTokenManager:oe}=n;ie(ee&&oe,e,"internal-error");const K=li.fromJSON(this.name,oe);ie(typeof ee=="string",e,"internal-error"),Gn(_,e.name),Gn(w,e.name),ie(typeof ye=="boolean",e,"internal-error"),ie(typeof Fe=="boolean",e,"internal-error"),Gn(N,e.name),Gn(R,e.name),Gn(F,e.name),Gn(V,e.name),Gn(_e,e.name),Gn(Ie,e.name);const De=new Qt({uid:ee,auth:e,email:w,emailVerified:ye,displayName:_,isAnonymous:Fe,photoURL:R,phoneNumber:N,tenantId:F,stsTokenManager:K,createdAt:_e,lastLoginAt:Ie});return ge&&Array.isArray(ge)&&(De.providerData=ge.map(Ve=>Object.assign({},Ve))),V&&(De._redirectEventId=V),De}static async _fromIdTokenResponse(e,n,s=!1){const l=new li;l.updateFromServerResponse(n);const u=new Qt({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await wl(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ie(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?kg(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),f=new li;f.updateFromIdToken(s);const p=new Qt({uid:l.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new vc(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new Map;function En(i){kn(i instanceof Function,"Expected a class definition");let e=Jp.get(i);return e?(kn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Jp.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tg.type="NONE";const Zp=Tg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(i,e,n){return`firebase:${i}:${e}:${n}`}class ai{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=al(this.userKey,l.apiKey,u),this.fullPersistenceKey=al("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yl(this.auth,{idToken:e}).catch(()=>{});return n?Qt._fromGetAccountInfoResponse(this.auth,n,e):null}return Qt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ai(En(Zp),e,s);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||En(Zp);const d=al(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(d);if(y){let _;if(typeof y=="string"){const w=await yl(e,{idToken:y}).catch(()=>{});if(!w)break;_=await Qt._fromGetAccountInfoResponse(e,w,y)}else _=Qt._fromJSON(e,y);g!==u&&(f=_),u=g;break}}catch{}const p=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ai(u,e,s):(u=p[0],f&&await u._set(d,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new ai(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Og(e))return"Blackberry";if(Ag(e))return"Webos";if(Ng(e))return"Safari";if((e.includes("chrome/")||bg(e))&&!e.includes("edge/"))return"Chrome";if(Pg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function xg(i=gt()){return/firefox\//i.test(i)}function Ng(i=gt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bg(i=gt()){return/crios\//i.test(i)}function Rg(i=gt()){return/iemobile/i.test(i)}function Pg(i=gt()){return/android/i.test(i)}function Og(i=gt()){return/blackberry/i.test(i)}function Ag(i=gt()){return/webos/i.test(i)}function Gc(i=gt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Aw(i=gt()){var e;return Gc(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dw(){return $y()&&document.documentMode===10}function Dg(i=gt()){return Gc(i)||Pg(i)||Ag(i)||Og(i)||/windows phone/i.test(i)||Rg(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i,e=[]){let n;switch(i){case"Browser":n=em(gt());break;case"Worker":n=`${em(gt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ii}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,f)=>{try{const p=e(u);d(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(i,e={}){return ki(i,"GET","/v2/passwordPolicy",Bc(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=6;class Fw{constructor(e){var n,s,l,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:jw,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tm(this),this.idTokenSubscription=new tm(this),this.beforeStateQueue=new Mw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await ai.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yl(this,{idToken:e}),s=await Qt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(Cr(this));const n=e?Rt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(En(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lw(this),n=new Fw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ow(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&En(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await ai.create(this,[En(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(f,this,"internal-error"),f.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zl(i){return Rt(i)}class tm{constructor(e){this.auth=e,this.observer=null,this.addObserver=e1(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zw(i){Kc=i}function Vw(i){return Kc.loadJS(i)}function Hw(){return Kc.gapiScript}function Ww(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i,e){const n=Uc(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ir(u,e??{}))return l;an(l,"already-initialized")}return n.initialize({options:e})}function $w(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(En);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Gw(i,e,n){const s=zl(i);ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=Lg(e),{host:d,port:f}=Kw(e),p=f===null?"":`:${f}`,g={url:`${u}//${d}${p}/`},y=Object.freeze({host:d,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ie(Ir(g,s.config.emulator)&&Ir(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Si(d)?(ug(`${u}//${d}${p}`),cg("Auth",!0)):qw()}function Lg(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Kw(i){const e=Lg(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:nm(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:nm(d)}}}function nm(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function qw(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,n){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(i,e){return Cw(i,"POST","/v1/accounts:signInWithIdp",Bc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="http://localhost";class Tr extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=zc(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Tr(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ui(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ui(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ui(e,n)}buildRequest(){const e={requestUri:Qw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ci(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends qc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends zs{constructor(){super("facebook.com")}static credential(e){return Tr._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends zs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tr._fromParams({providerId:yn.PROVIDER_ID,signInMethod:yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yn.credentialFromTaggedObject(e)}static credentialFromError(e){return yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return yn.credential(n,s)}catch{return null}}}yn.GOOGLE_SIGN_IN_METHOD="google.com";yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends zs{constructor(){super("github.com")}static credential(e){return Tr._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qn.credential(e.oauthAccessToken)}catch{return null}}}qn.GITHUB_SIGN_IN_METHOD="github.com";qn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends zs{constructor(){super("twitter.com")}static credential(e,n){return Tr._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qn.credential(n,s)}catch{return null}}}Qn.TWITTER_SIGN_IN_METHOD="twitter.com";Qn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Qt._fromIdTokenResponse(e,s,l),d=rm(s);return new mi({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=rm(s);return new mi({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function rm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends rr{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,El.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new El(e,n,s,l)}}function Fg(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?El._fromErrorAndOperation(i,u,e,s):u})}async function Yw(i,e,n=!1){const s=await bs(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return mi._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(i,e,n=!1){const{auth:s}=i;if(qt(s.app))return Promise.reject(Cr(s));const l="reauthenticate";try{const u=await bs(i,Fg(s,l,e,i),n);ie(u.idToken,s,"internal-error");const d=$c(u.idToken);ie(d,s,"internal-error");const{sub:f}=d;return ie(i.uid===f,s,"user-mismatch"),mi._forOperation(i,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&an(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(i,e,n=!1){if(qt(i.app))return Promise.reject(Cr(i));const s="signIn",l=await Fg(i,s,e),u=await mi._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(u.user),u}function Zw(i,e,n,s){return Rt(i).onIdTokenChanged(e,n,s)}function eE(i,e,n){return Rt(i).beforeAuthStateChanged(e,n)}function i2(i){return Rt(i).signOut()}const Sl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=1e3,nE=10;class zg extends Ug{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Dw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,nE):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zg.type="LOCAL";const rE=zg;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ug{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vg.type="SESSION";const Hg=Vg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Vl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const f=Array.from(d).map(async g=>g(n.origin,u)),p=await iE(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((f,p)=>{const g=Qc("",20);l.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(w.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function oE(i){ln().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function lE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aE(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function uE(){return Wg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="firebaseLocalStorageDb",cE=1,Cl="firebaseLocalStorage",$g="fbase_key";class Vs{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hl(i,e){return i.transaction([Cl],e?"readwrite":"readonly").objectStore(Cl)}function dE(){const i=indexedDB.deleteDatabase(Bg);return new Vs(i).toPromise()}function _c(){const i=indexedDB.open(Bg,cE);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Cl,{keyPath:$g})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Cl)?e(s):(s.close(),await dE(),e(await _c()))})})}async function im(i,e,n){const s=Hl(i,!0).put({[$g]:e,value:n});return new Vs(s).toPromise()}async function hE(i,e){const n=Hl(i,!1).get(e),s=await new Vs(n).toPromise();return s===void 0?null:s.value}function sm(i,e){const n=Hl(i,!0).delete(e);return new Vs(n).toPromise()}const fE=800,pE=3;class Gg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _c(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pE)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vl._getInstance(uE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lE(),!this.activeServiceWorker)return;this.sender=new sE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _c();return await im(e,Sl,"1"),await sm(e,Sl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>im(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hE(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Hl(l,!1).getAll();return new Vs(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gg.type="LOCAL";const mE=Gg;new Us(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(i,e){return e?En(e):(ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gE(i){return Jw(i.auth,new Yc(i),i.bypassAuthState)}function vE(i){const{auth:e,user:n}=i;return ie(n,e,"internal-error"),Xw(n,new Yc(i),i.bypassAuthState)}async function _E(i){const{auth:e,user:n}=i;return ie(n,e,"internal-error"),Yw(n,new Yc(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gE;case"linkViaPopup":case"linkViaRedirect":return _E;case"reauthViaPopup":case"reauthViaRedirect":return vE;default:an(this.auth,"internal-error")}}resolve(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Us(2e3,1e4);async function s2(i,e,n){if(qt(i.app))return Promise.reject(Xt(i,"operation-not-supported-in-this-environment"));const s=zl(i);gw(i,e,qc);const l=Kg(s,n);return new wr(s,"signInViaPopup",e,l).executeNotNull()}class wr extends qg{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,wr.currentPopupAction&&wr.currentPopupAction.cancel(),wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){kn(this.filter.length===1,"Popup operations only handle one event");const e=Qc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yE.get())};e()}}wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="pendingRedirect",ul=new Map;class EE extends qg{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ul.get(this.auth._key());if(!e){try{const s=await SE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ul.set(this.auth._key(),e)}return this.bypassAuthState||ul.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SE(i,e){const n=kE(e),s=IE(i);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function CE(i,e){ul.set(i._key(),e)}function IE(i){return En(i._redirectPersistence)}function kE(i){return al(wE,i.config.apiKey,i.name)}async function TE(i,e,n=!1){if(qt(i.app))return Promise.reject(Cr(i));const s=zl(i),l=Kg(s,e),d=await new EE(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=10*60*1e3;class NE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bE(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Qg(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xE&&this.cachedEventUids.clear(),this.cachedEventUids.has(om(e))}saveEventToCache(e){this.cachedEventUids.add(om(e)),this.lastProcessedEventTime=Date.now()}}function om(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Qg({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bE(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qg(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(i,e={}){return ki(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OE=/^https?/;async function AE(i){if(i.config.emulator)return;const{authorizedDomains:e}=await RE(i);for(const n of e)try{if(DE(n))return}catch{}an(i,"unauthorized-domain")}function DE(i){const e=gc(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!OE.test(n))return!1;if(PE.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Us(3e4,6e4);function lm(){const i=ln().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function LE(i){return new Promise((e,n)=>{var s,l,u;function d(){lm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lm(),n(Xt(i,"network-request-failed"))},timeout:ME.get()})}if(!((l=(s=ln().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=ln().gapi)===null||u===void 0)&&u.load)d();else{const f=Ww("iframefcb");return ln()[f]=()=>{gapi.load?d():n(Xt(i,"network-request-failed"))},Vw(`${Hw()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw cl=null,e})}let cl=null;function jE(i){return cl=cl||LE(i),cl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Us(5e3,15e3),UE="__/auth/iframe",zE="emulator/auth/iframe",VE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WE(i){const e=i.config;ie(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Wc(e,zE):`https://${i.config.authDomain}/${UE}`,s={apiKey:e.apiKey,appName:i.name,v:Ii},l=HE.get(i.config.apiHost);l&&(s.eid=l);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ci(s).slice(1)}`}async function BE(i){const e=await jE(i),n=ln().gapi;return ie(n,i,"internal-error"),e.open({where:document.body,url:WE(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VE,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Xt(i,"network-request-failed"),f=ln().setTimeout(()=>{u(d)},FE.get());function p(){ln().clearTimeout(f),l(s)}s.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GE=500,KE=600,qE="_blank",QE="http://localhost";class am{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YE(i,e,n,s=GE,l=KE){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},$E),{width:s.toString(),height:l.toString(),top:u,left:d}),g=gt().toLowerCase();n&&(f=bg(g)?qE:n),xg(g)&&(e=e||QE,p.scrollbars="yes");const y=Object.entries(p).reduce((w,[N,R])=>`${w}${N}=${R},`,"");if(Aw(g)&&f!=="_self")return XE(e||"",f),new am(null);const _=window.open(e||"",f,y);ie(_,i,"popup-blocked");try{_.focus()}catch{}return new am(_)}function XE(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__/auth/handler",ZE="emulator/auth/handler",eS=encodeURIComponent("fac");async function um(i,e,n,s,l,u){ie(i.config.authDomain,i,"auth-domain-config-required"),ie(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ii,eventId:l};if(e instanceof qc){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",cc(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))d[y]=_}if(e instanceof zs){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(d.scopes=y.join(","))}i.tenantId&&(d.tid=i.tenantId);const f=d;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await i._getAppCheckToken(),g=p?`#${eS}=${encodeURIComponent(p)}`:"";return`${tS(i)}?${Ci(f).slice(1)}${g}`}function tS({config:i}){return i.emulator?Wc(i,ZE):`https://${i.authDomain}/${JE}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="webStorageSupport";class nS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hg,this._completeRedirectFn=TE,this._overrideRedirectResult=CE}async _openPopup(e,n,s,l){var u;kn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await um(e,n,s,gc(),l);return YE(e,d,Qc())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await um(e,n,s,gc(),l);return oE(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(kn(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BE(e),s=new NE(e);return n.register("authEvent",l=>(ie(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nc,{type:nc},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[nc];d!==void 0&&n(!!d),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AE(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dg()||Ng()||Gc()}}const rS=nS;var cm="@firebase/auth",dm="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oS(i){pi(new kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;ie(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mg(i)},g=new Uw(s,l,u,p);return $w(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pi(new kr("auth-internal",e=>{const n=zl(e.getProvider("auth").getImmediate());return(s=>new iS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(cm,dm,sS(i)),Zn(cm,dm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=5*60,aS=ag("authIdTokenMaxAge")||lS;let hm=null;const uS=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aS)return;const l=n==null?void 0:n.token;hm!==l&&(hm=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cS(i=vg()){const e=Uc(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Bw(i,{popupRedirectResolver:rS,persistence:[mE,rE,Hg]}),s=ag("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=uS(u.toString());eE(n,d,()=>d(n.currentUser)),Zw(n,f=>d(f))}}const l=og("auth");return l&&Gw(n,`http://${l}`),n}function dS(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}zw({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const u=Xt("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",dS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oS("Browser");var fm={};const pm="@firebase/database",mm="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg="";function hS(i){Yg=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fS(e)}}catch{}return new pS},Er=Xg("localStorage"),mS=Xg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new jc("@firebase/database"),gS=function(){let i=1;return function(){return i++}}(),Jg=function(i){const e=r1(i),n=new Zy;n.update(e);const s=n.digest();return Dc.encodeByteArray(s)},Hs=function(...i){let e="";for(let n=0;n<i.length;n++){const s=i[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Hs.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let Ss=null,gm=!0;const vS=function(i,e){M(!e,"Can't turn on custom loggers persistently."),ci.logLevel=xe.VERBOSE,Ss=ci.log.bind(ci)},lt=function(...i){if(gm===!0&&(gm=!1,Ss===null&&mS.get("logging_enabled")===!0&&vS()),Ss){const e=Hs.apply(null,i);Ss(e)}},Ws=function(i){return function(...e){lt(i,...e)}},yc=function(...i){const e="FIREBASE INTERNAL ERROR: "+Hs(...i);ci.error(e)},Tn=function(...i){const e=`FIREBASE FATAL ERROR: ${Hs(...i)}`;throw ci.error(e),new Error(e)},mt=function(...i){const e="FIREBASE WARNING: "+Hs(...i);ci.warn(e)},_S=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xc=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},yS=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gi="[MIN_NAME]",xr="[MAX_NAME]",Or=function(i,e){if(i===e)return 0;if(i===gi||e===xr)return-1;if(e===gi||i===xr)return 1;{const n=vm(i),s=vm(e);return n!==null?s!==null?n-s===0?i.length-e.length:n-s:-1:s!==null?1:i<e?-1:1}},wS=function(i,e){return i===e?0:i<e?-1:1},ms=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+rt(e))},Jc=function(i){if(typeof i!="object"||i===null)return rt(i);const e=[];for(const s in i)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=rt(e[s]),n+=":",n+=Jc(i[e[s]]);return n+="}",n},Zg=function(i,e){const n=i.length;if(n<=e)return[i];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(i.substring(l,n)):s.push(i.substring(l,l+e));return s};function at(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const e0=function(i){M(!Xc(i),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,d,f,p;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=f+s,d=Math.round(i*Math.pow(2,n-f)-Math.pow(2,n))):(u=0,d=Math.round(i/Math.pow(2,1-s-n))));const g=[];for(p=n;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const y=g.join("");let _="";for(p=0;p<64;p+=8){let w=parseInt(y.substr(p,8),2).toString(16);w.length===1&&(w="0"+w),_=_+w}return _.toLowerCase()},ES=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function CS(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+n);return s.code=i.toUpperCase(),s}const IS=new RegExp("^-?(0*)\\d{1,10}$"),kS=-2147483648,TS=2147483647,vm=function(i){if(IS.test(i)){const e=Number(i);if(e>=kS&&e<=TS)return e}return null},Ti=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},xS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cs=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}class dl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}dl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="5",t0="v",n0="s",r0="r",i0="f",s0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,o0="ls",l0="p",wc="ac",a0="websocket",u0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,s,l,u=!1,d="",f=!1,p=!1,g=null){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Er.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Er.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function RS(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function d0(i,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let s;if(e===a0)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===u0)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RS(i)&&(n.ns=i.namespace);const l=[];return at(n,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ay(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc={},ic={};function ed(i){const e=i.toString();return rc[e]||(rc[e]=new PS),rc[e]}function OS(i,e){const n=i.toString();return ic[n]||(ic[n]=e()),ic[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ti(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="start",DS="close",MS="pLPCommand",LS="pRTLPCB",h0="id",f0="pw",p0="ser",jS="cb",FS="seg",US="ts",zS="d",VS="dframe",m0=1870,g0=30,HS=m0-g0,WS=25e3,BS=3e4;class oi{constructor(e,n,s,l,u,d,f){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ws(e),this.stats_=ed(n),this.urlFn=p=>(this.appCheckToken&&(p[wc]=this.appCheckToken),d0(n,u0,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BS)),yS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new td((...u)=>{const[d,f,p,g,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===_m)this.id=f,this.password=p;else if(d===DS)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,f]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[_m]="t",s[p0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[jS]=this.scriptTagHolder.uniqueCallbackIdentifier),s[t0]=Zc,this.transportSessionId&&(s[n0]=this.transportSessionId),this.lastSessionId&&(s[o0]=this.lastSessionId),this.applicationId&&(s[l0]=this.applicationId),this.appCheckToken&&(s[wc]=this.appCheckToken),typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(s[r0]=i0);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oi.forceAllow_=!0}static forceDisallow(){oi.forceDisallow_=!0}static isAvailable(){return oi.forceAllow_?!0:!oi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ES()&&!SS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=ig(n),l=Zg(s,HS);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[VS]="t",s[h0]=e,s[f0]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class td{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gS(),window[MS+this.uniqueCallbackIdentifier]=e,window[LS+this.uniqueCallbackIdentifier]=n,this.myIFrame=td.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){lt("frame writing exception"),f.stack&&lt(f.stack),lt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[h0]=this.myID,e[f0]=this.myPW,e[p0]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+g0+s.length<=m0;){const d=this.pendingSegs.shift();s=s+"&"+FS+l+"="+d.seg+"&"+US+l+"="+d.ts+"&"+zS+l+"="+d.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(WS)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=16384,GS=45e3;let Il=null;typeof MozWebSocket<"u"?Il=MozWebSocket:typeof WebSocket<"u"&&(Il=WebSocket);class on{constructor(e,n,s,l,u,d,f){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ws(this.connId),this.stats_=ed(n),this.connURL=on.connectionURL_(n,d,f,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const d={};return d[t0]=Zc,typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(d[r0]=i0),n&&(d[n0]=n),s&&(d[o0]=s),l&&(d[wc]=l),u&&(d[l0]=u),d0(e,a0,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Er.set("previous_websocket_failure",!0);try{let s;hg(),this.mySock=new Il(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Il!==null&&!on.forceDisallow_}static previouslyFailed(){return Er.isInMemoryStorage||Er.get("previous_websocket_failure")===!0}markConnectionHealthy(){Er.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=xs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Zg(n,$S);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{static get ALL_TRANSPORTS(){return[oi,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=on.isAvailable();let s=n&&!on.previouslyFailed();if(e.webSocketOnly&&(n||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[on];else{const l=this.transports_=[];for(const u of Rs.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Rs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=6e4,qS=5e3,QS=10*1024,YS=100*1024,sc="t",ym="d",XS="s",wm="r",JS="e",Em="o",Sm="a",Cm="n",Im="p",ZS="h";class eC{constructor(e,n,s,l,u,d,f,p,g,y){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ws("c:"+this.id+":"),this.transportManager_=new Rs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Cs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sc in e){const n=e[sc];n===Sm?this.upgradeIfSecondaryHealthy_():n===wm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Em&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ms("t",e),s=ms("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Im,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Cm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ms("t",e),s=ms("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ms(sc,e);if(ym in e){const s=e[ym];if(n===ZS){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Cm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XS?this.onConnectionShutdown_(s):n===wm?this.onReset_(s):n===JS?yc("Server Error: "+s):n===Em?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zc!==s&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Cs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Im,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends _0{static getInstance(){return new kl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=32,Tm=768;class Ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Ne("")}function fe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function tr(i){return i.pieces_.length-i.pieceNum_}function Ae(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Ne(i.pieces_,e)}function nd(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function tC(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function Ps(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function y0(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Ne(e,0)}function Be(i,e){const n=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)n.push(i.pieces_[s]);if(e instanceof Ne)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new Ne(n,0)}function me(i){return i.pieceNum_>=i.pieces_.length}function Ct(i,e){const n=fe(i),s=fe(e);if(n===null)return e;if(n===s)return Ct(Ae(i),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function nC(i,e){const n=Ps(i,0),s=Ps(e,0);for(let l=0;l<n.length&&l<s.length;l++){const u=Or(n[l],s[l]);if(u!==0)return u}return n.length===s.length?0:n.length<s.length?-1:1}function rd(i,e){if(tr(i)!==tr(e))return!1;for(let n=i.pieceNum_,s=e.pieceNum_;n<=i.pieces_.length;n++,s++)if(i.pieces_[n]!==e.pieces_[s])return!1;return!0}function Ft(i,e){let n=i.pieceNum_,s=e.pieceNum_;if(tr(i)>tr(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class rC{constructor(e,n){this.errorPrefix_=n,this.parts_=Ps(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ul(this.parts_[s]);w0(this)}}function iC(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Ul(e),w0(i)}function sC(i){const e=i.parts_.pop();i.byteLength_-=Ul(e),i.parts_.length>0&&(i.byteLength_-=1)}function w0(i){if(i.byteLength_>Tm)throw new Error(i.errorPrefix_+"has a key path longer than "+Tm+" bytes ("+i.byteLength_+").");if(i.parts_.length>km)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+km+") or object contains a cycle "+yr(i))}function yr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends _0{static getInstance(){return new id}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=1e3,oC=60*5*1e3,xm=30*1e3,lC=1.3,aC=3e4,uC="server_kill",Nm=3;class Cn extends v0{constructor(e,n,s,l,u,d,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=Cn.nextPersistentConnectionId_++,this.log_=Ws("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gs,this.maxReconnectDelay_=oC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!hg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");id.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(rt(u)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new js,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const f=d.d;d.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const f={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(d).set(u,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,f=>{const p=f.d,g=f.s;Cn.warnOnListenWarnings_(p,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",f),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const s=fi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Xy(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const d={p:n,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):yc("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aC&&(this.reconnectDelay_=gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Cn.nextConnectionId_++,u=this.lastSessionId;let d=!1,f=null;const p=function(){f?f.close():(d=!0,s())},g=function(_){M(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(_)};this.realtime_={close:p,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,w]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=w&&w.token,f=new eC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,N=>{mt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(uC)},u))}catch(_){this.log_("Failed to get token: "+_),d||(this.repoInfo_.nodeAdmin&&mt(_),p())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],cc(this.interruptReasons_)&&(this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>Jc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new Ne(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nm&&(this.reconnectDelay_=xm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Yg.replace(/\./g,"-")]=1,Lc()?e["framework.cordova"]=1:dg()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kl.getInstance().currentlyOnline();return cc(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(gi,e),l=new pe(gi,n);return this.compare(s,l)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;class E0 extends Wl{static get __EMPTY_NODE(){return il}static set __EMPTY_NODE(e){il=e}compare(e,n){return Or(e.name,n.name)}isDefinedOn(e){throw Ei("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(xr,il)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,il)}toString(){return".key"}}const di=new E0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?s(e.key,n):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??tt.RED,this.left=l??It.EMPTY_NODE,this.right=u??It.EMPTY_NODE}copy(e,n,s,l,u){return new tt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class cC{copy(e,n,s,l,u){return this}insert(e,n,s){return new tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sl(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new cC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i,e){return Or(i.name,e.name)}function sd(i,e){return Or(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;function hC(i){Ec=i}const S0=function(i){return typeof i=="number"?"number:"+e0(i):"string:"+i},C0=function(i){if(i.isLeafNode()){const e=i.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else M(i===Ec||i.isEmpty(),"priority of unexpected type.");M(i===Ec||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm;class et{static set __childrenNodeConstructor(e){bm=e}static get __childrenNodeConstructor(){return bm}constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),C0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:fe(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=fe(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(M(s!==".priority"||tr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+S0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=e0(this.value_):e+=this.value_,this.lazyHash_=Jg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=et.VALUE_TYPE_ORDER.indexOf(n),u=et.VALUE_TYPE_ORDER.indexOf(s);return M(l>=0,"Unknown leaf type: "+n),M(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I0,k0;function fC(i){I0=i}function pC(i){k0=i}class mC extends Wl{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?Or(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(xr,new et("[PRIORITY-POST]",k0))}makePost(e,n){const s=I0(e);return new pe(n,new et("[PRIORITY-POST]",s))}toString(){return".priority"}}const $e=new mC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=Math.log(2);class vC{constructor(e){const n=u=>parseInt(Math.log(u)/gC,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tl=function(i,e,n,s){i.sort(e);const l=function(p,g){const y=g-p;let _,w;if(y===0)return null;if(y===1)return _=i[p],w=n?n(_):_,new tt(w,_.node,tt.BLACK,null,null);{const N=parseInt(y/2,10)+p,R=l(p,N),F=l(N+1,g);return _=i[N],w=n?n(_):_,new tt(w,_.node,tt.BLACK,R,F)}},u=function(p){let g=null,y=null,_=i.length;const w=function(R,F){const V=_-R,_e=_;_-=R;const Ie=l(V+1,_e),ee=i[V],ye=n?n(ee):ee;N(new tt(ye,ee.node,F,null,Ie))},N=function(R){g?(g.left=R,g=R):(y=R,g=R)};for(let R=0;R<p.count;++R){const F=p.nextBitIsOne(),V=Math.pow(2,p.count-(R+1));F?w(V,tt.BLACK):(w(V,tt.BLACK),w(V,tt.RED))}return y},d=new vC(i.length),f=u(d);return new It(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;const vs={};class Sn{static get Default(){return M($e,"ChildrenNode.ts has not been loaded"),oc=oc||new Sn({".priority":vs},{".priority":$e}),oc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){M(e!==di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(pe.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let f;l?f=Tl(s,e.getCompare()):f=vs;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const y=Object.assign({},this.indexes_);return y[p]=f,new Sn(y,g)}addToIndexes(e,n){const s=gl(this.indexes_,(l,u)=>{const d=fi(this.indexSet_,u);if(M(d,"Missing index implementation for "+u),l===vs)if(d.isDefinedOn(e.node)){const f=[],p=n.getIterator(pe.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&f.push(g),g=p.getNext();return f.push(e),Tl(f,d.getCompare())}else return vs;else{const f=n.get(e.name);let p=l;return f&&(p=p.remove(new pe(e.name,f))),p.insert(e,e.node)}});return new Sn(s,this.indexSet_)}removeFromIndexes(e,n){const s=gl(this.indexes_,l=>{if(l===vs)return l;{const u=n.get(e.name);return u?l.remove(new pe(e.name,u)):l}});return new Sn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s;class ne{static get EMPTY_NODE(){return _s||(_s=new ne(new It(sd),null,Sn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&C0(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_s}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_s:n}}getChild(e){const n=fe(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(M(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?_s:this.priorityNode_;return new ne(l,d,u)}}updateChild(e,n){const s=fe(e);if(s===null)return n;{M(fe(e)!==".priority"||tr(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ae(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild($e,(d,f)=>{n[d]=f.val(e),s++,u&&ne.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const f in n)d[f]=n[f];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+S0(this.getPriority().val())+":"),this.forEachChild($e,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":Jg(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new pe(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bs?-1:0}withIndex(e){if(e===di||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===di||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator($e),l=n.getIterator($e);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===di?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _C extends ne{constructor(){super(new It(sd),ne.EMPTY_NODE,Sn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Bs=new _C;Object.defineProperties(pe,{MIN:{value:new pe(gi,ne.EMPTY_NODE)},MAX:{value:new pe(xr,Bs)}});E0.__EMPTY_NODE=ne.EMPTY_NODE;et.__childrenNodeConstructor=ne;hC(Bs);pC(Bs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=!0;function nt(i,e=null){if(i===null)return ne.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new et(n,nt(e))}if(!(i instanceof Array)&&yC){const n=[];let s=!1;if(at(i,(d,f)=>{if(d.substring(0,1)!=="."){const p=nt(f);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),n.push(new pe(d,p)))}}),n.length===0)return ne.EMPTY_NODE;const u=Tl(n,dC,d=>d.name,sd);if(s){const d=Tl(n,$e.getCompare());return new ne(u,nt(e),new Sn({".priority":d},{".priority":$e}))}else return new ne(u,nt(e),Sn.Default)}else{let n=ne.EMPTY_NODE;return at(i,(s,l)=>{if(un(i,s)&&s.substring(0,1)!=="."){const u=nt(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(nt(e))}}fC(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends Wl{constructor(e){super(),this.indexPath_=e,M(!me(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?Or(e.name,n.name):u}makePost(e,n){const s=nt(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Bs);return new pe(xr,e)}toString(){return Ps(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends Wl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Or(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=nt(e);return new pe(n,s)}toString(){return".value"}}const SC=new EC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(i){return{type:"value",snapshotNode:i}}function vi(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function Os(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function As(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function CC(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.index_=e}updateChild(e,n,s,l,u,d){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(l).equals(s.getChild(l))&&f.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(n)?d.trackChildChange(Os(n,f)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(vi(n,s)):d.trackChildChange(As(n,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild($e,(l,u)=>{n.hasChild(l)||s.trackChildChange(Os(l,u))}),n.isLeafNode()||n.forEachChild($e,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(As(l,u,d))}else s.trackChildChange(vi(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.indexedFilter_=new od(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ds.getStartPost_(e),this.endPost_=Ds.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,d){return this.matches(new pe(n,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,d)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ne.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return n.forEachChild($e,(d,f)=>{u.matches(new pe(d,f))||(l=l.updateImmediateChild(d,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ds(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,d){return this.rangedFilter_.matches(new pe(n,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,d):this.fullLimitUpdateChild_(e,n,s,u,d)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const f=u.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))l=l.updateImmediateChild(f.name,f.node),d++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const f=u.getNext();d<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?d++:l=l.updateImmediateChild(f.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let d;if(this.reverse_){const _=this.index_.getCompare();d=(w,N)=>_(N,w)}else d=this.index_.getCompare();const f=e;M(f.numChildren()===this.limit_,"");const p=new pe(n,s),g=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(f.hasChild(n)){const _=f.getImmediateChild(n);let w=l.getChildAfterChild(this.index_,g,this.reverse_);for(;w!=null&&(w.name===n||f.hasChild(w.name));)w=l.getChildAfterChild(this.index_,w,this.reverse_);const N=w==null?1:d(w,p);if(y&&!s.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(As(n,s,_)),f.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(Os(n,_));const F=f.updateImmediateChild(n,ne.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(u!=null&&u.trackChildChange(vi(w.name,w.node)),F.updateImmediateChild(w.name,w.node)):F}}else return s.isEmpty()?e:y&&d(g,p)>=0?(u!=null&&(u.trackChildChange(Os(g.name,g.node)),u.trackChildChange(vi(n,s))),f.updateImmediateChild(n,s).updateImmediateChild(g.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gi}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const e=new ld;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kC(i){return i.loadsAllData()?new od(i.getIndex()):i.hasLimit()?new IC(i):new Ds(i)}function Rm(i){const e={};if(i.isDefault())return e;let n;if(i.index_===$e?n="$priority":i.index_===SC?n="$value":i.index_===di?n="$key":(M(i.index_ instanceof wC,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=rt(n),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=rt(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+rt(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=rt(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+rt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Pm(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==$e&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends v0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ws("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=xl.getListenId_(e,s),f={};this.listens_[d]=f;const p=Rm(e._queryParams);this.restRequest_(u+".json",p,(g,y)=>{let _=y;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(u,_,!1,s),fi(this.listens_,d)===f){let w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",l(w,null)}})}unlisten(e,n){const s=xl.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Rm(e._queryParams),s=e._path.toString(),l=new js;return this.restRequest_(s+".json",n,(u,d)=>{let f=d;u===404&&(f=null,u=null),u===null?(this.onDataUpdate_(s,f,!1,null),l.resolve(f)):l.reject(new Error(f))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ci(n);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=xs(f.responseText)}catch{mt("Failed to parse JSON response for "+d+": "+f.responseText)}s(null,p)}else f.status!==401&&f.status!==404&&mt("Got unsuccessful REST response for "+d+" Status: "+f.status),s(f.status);s=null}},f.open("GET",d,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return{value:null,children:new Map}}function x0(i,e,n){if(me(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const s=fe(e);i.children.has(s)||i.children.set(s,Nl());const l=i.children.get(s);e=Ae(e),x0(l,e,n)}}function Sc(i,e,n){i.value!==null?n(e,i.value):xC(i,(s,l)=>{const u=new Ne(e.toString()+"/"+s);Sc(l,u,n)})}function xC(i,e){i.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=10*1e3,bC=30*1e3,RC=5*60*1e3;class PC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NC(e);const s=Om+(bC-Om)*Math.random();Cs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;at(e,(l,u)=>{u>0&&un(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),Cs(this.reportStats_.bind(this),Math.floor(Math.random()*2*RC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yt||(Yt={}));function ad(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ud(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cd(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Yt.ACK_USER_WRITE,this.source=ad()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ne(e));return new bl(Ce(),n,this.revert)}}else return M(fe(this.path)===e,"operationForChild called for unrelated child."),new bl(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.source=e,this.path=n,this.type=Yt.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new Ms(this.source,Ce()):new Ms(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Yt.OVERWRITE}operationForChild(e){return me(this.path)?new Nr(this.source,Ce(),this.snap.getImmediateChild(e)):new Nr(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Yt.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Ne(e));return n.isEmpty()?null:n.value?new Nr(this.source,Ce(),n.value):new _i(this.source,Ce(),n)}else return M(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _i(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=fe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function AC(i,e,n,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(CC(d.childName,d.snapshotNode))}),ys(i,l,"child_removed",e,s,n),ys(i,l,"child_added",e,s,n),ys(i,l,"child_moved",u,s,n),ys(i,l,"child_changed",e,s,n),ys(i,l,"value",e,s,n),l}function ys(i,e,n,s,l,u){const d=s.filter(f=>f.type===n);d.sort((f,p)=>MC(i,f,p)),d.forEach(f=>{const p=DC(i,f,u);l.forEach(g=>{g.respondsTo(f.type)&&e.push(g.createEvent(p,i.query_))})})}function DC(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function MC(i,e,n){if(e.childName==null||n.childName==null)throw Ei("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),l=new pe(n.childName,n.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(i,e){return{eventCache:i,serverCache:e}}function Is(i,e,n,s){return Bl(new br(e,n,s),i.serverCache)}function N0(i,e,n,s){return Bl(i.eventCache,new br(e,n,s))}function Cc(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Rr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;const LC=()=>(lc||(lc=new It(wS)),lc);class Oe{static fromObject(e){let n=new Oe(null);return at(e,(s,l)=>{n=n.set(new Ne(s),l)}),n}constructor(e,n=LC()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(me(e))return null;{const s=fe(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ae(e),n);return u!=null?{path:Be(new Ne(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=fe(e),s=this.children.get(n);return s!==null?s.subtree(Ae(e)):new Oe(null)}}set(e,n){if(me(e))return new Oe(n,this.children);{const s=fe(e),u=(this.children.get(s)||new Oe(null)).set(Ae(e),n),d=this.children.insert(s,u);return new Oe(this.value,d)}}remove(e){if(me(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const n=fe(e),s=this.children.get(n);if(s){const l=s.remove(Ae(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new Oe(null):new Oe(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const n=fe(e),s=this.children.get(n);return s?s.get(Ae(e)):null}}setTree(e,n){if(me(e))return n;{const s=fe(e),u=(this.children.get(s)||new Oe(null)).setTree(Ae(e),n);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new Oe(this.value,d)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Be(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(me(e))return null;{const u=fe(e),d=this.children.get(u);return d?d.findOnPath_(Ae(e),Be(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,s){if(me(e))return this;{this.value&&s(n,this.value);const l=fe(e),u=this.children.get(l);return u?u.foreachOnPath_(Ae(e),Be(n,l),s):new Oe(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(Be(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new Oe(null))}}function ks(i,e,n){if(me(e))return new Jt(new Oe(n));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=Ct(l,e);return u=u.updateChild(d,n),new Jt(i.writeTree_.set(l,u))}else{const l=new Oe(n),u=i.writeTree_.setTree(e,l);return new Jt(u)}}}function Ic(i,e,n){let s=i;return at(n,(l,u)=>{s=ks(s,Be(e,l),u)}),s}function Am(i,e){if(me(e))return Jt.empty();{const n=i.writeTree_.setTree(e,new Oe(null));return new Jt(n)}}function kc(i,e){return Ar(i,e)!=null}function Ar(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Dm(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($e,(s,l)=>{e.push(new pe(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new pe(s,l.value))}),e}function er(i,e){if(me(e))return i;{const n=Ar(i,e);return n!=null?new Jt(new Oe(n)):new Jt(i.writeTree_.subtree(e))}}function Tc(i){return i.writeTree_.isEmpty()}function yi(i,e){return b0(Ce(),i.writeTree_,e)}function b0(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(M(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=b0(Be(i,l),u,n)}),!n.getChild(i).isEmpty()&&s!==null&&(n=n.updateChild(Be(i,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(i,e){return A0(e,i)}function jC(i,e,n,s,l){M(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(i.visibleWrites=ks(i.visibleWrites,e,n)),i.lastWriteId=s}function FC(i,e,n,s){M(s>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:e,children:n,writeId:s,visible:!0}),i.visibleWrites=Ic(i.visibleWrites,e,n),i.lastWriteId=s}function UC(i,e){for(let n=0;n<i.allWrites.length;n++){const s=i.allWrites[n];if(s.writeId===e)return s}return null}function zC(i,e){const n=i.allWrites.findIndex(f=>f.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[n];i.allWrites.splice(n,1);let l=s.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const f=i.allWrites[d];f.visible&&(d>=n&&VC(f,s.path)?l=!1:Ft(s.path,f.path)&&(u=!0)),d--}if(l){if(u)return HC(i),!0;if(s.snap)i.visibleWrites=Am(i.visibleWrites,s.path);else{const f=s.children;at(f,p=>{i.visibleWrites=Am(i.visibleWrites,Be(s.path,p))})}return!0}else return!1}function VC(i,e){if(i.snap)return Ft(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Ft(Be(i.path,n),e))return!0;return!1}function HC(i){i.visibleWrites=R0(i.allWrites,WC,Ce()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function WC(i){return i.visible}function R0(i,e,n){let s=Jt.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const d=u.path;let f;if(u.snap)Ft(n,d)?(f=Ct(n,d),s=ks(s,f,u.snap)):Ft(d,n)&&(f=Ct(d,n),s=ks(s,Ce(),u.snap.getChild(f)));else if(u.children){if(Ft(n,d))f=Ct(n,d),s=Ic(s,f,u.children);else if(Ft(d,n))if(f=Ct(d,n),me(f))s=Ic(s,Ce(),u.children);else{const p=fi(u.children,fe(f));if(p){const g=p.getChild(Ae(f));s=ks(s,Ce(),g)}}}else throw Ei("WriteRecord should have .snap or .children")}}return s}function P0(i,e,n,s,l){if(!s&&!l){const u=Ar(i.visibleWrites,e);if(u!=null)return u;{const d=er(i.visibleWrites,e);if(Tc(d))return n;if(n==null&&!kc(d,Ce()))return null;{const f=n||ne.EMPTY_NODE;return yi(d,f)}}}else{const u=er(i.visibleWrites,e);if(!l&&Tc(u))return n;if(!l&&n==null&&!kc(u,Ce()))return null;{const d=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Ft(g.path,e)||Ft(e,g.path))},f=R0(i.allWrites,d,e),p=n||ne.EMPTY_NODE;return yi(f,p)}}}function BC(i,e,n){let s=ne.EMPTY_NODE;const l=Ar(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild($e,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(n){const u=er(i.visibleWrites,e);return n.forEachChild($e,(d,f)=>{const p=yi(er(u,new Ne(d)),f);s=s.updateImmediateChild(d,p)}),Dm(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=er(i.visibleWrites,e);return Dm(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function $C(i,e,n,s,l){M(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Be(e,n);if(kc(i.visibleWrites,u))return null;{const d=er(i.visibleWrites,u);return Tc(d)?l.getChild(n):yi(d,l.getChild(n))}}function GC(i,e,n,s){const l=Be(e,n),u=Ar(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const d=er(i.visibleWrites,l);return yi(d,s.getNode().getImmediateChild(n))}else return null}function KC(i,e){return Ar(i.visibleWrites,e)}function qC(i,e,n,s,l,u,d){let f;const p=er(i.visibleWrites,e),g=Ar(p,Ce());if(g!=null)f=g;else if(n!=null)f=yi(p,n);else return[];if(f=f.withIndex(d),!f.isEmpty()&&!f.isLeafNode()){const y=[],_=d.getCompare(),w=u?f.getReverseIteratorFrom(s,d):f.getIteratorFrom(s,d);let N=w.getNext();for(;N&&y.length<l;)_(N,s)!==0&&y.push(N),N=w.getNext();return y}else return[]}function QC(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Rl(i,e,n,s){return P0(i.writeTree,i.treePath,e,n,s)}function hd(i,e){return BC(i.writeTree,i.treePath,e)}function Mm(i,e,n,s){return $C(i.writeTree,i.treePath,e,n,s)}function Pl(i,e){return KC(i.writeTree,Be(i.treePath,e))}function YC(i,e,n,s,l,u){return qC(i.writeTree,i.treePath,e,n,s,l,u)}function fd(i,e,n){return GC(i.writeTree,i.treePath,e,n)}function O0(i,e){return A0(Be(i.treePath,e),i.writeTree)}function A0(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,As(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,Os(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,vi(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,As(s,e.snapshotNode,l.oldSnap));else throw Ei("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const D0=new JC;class pd{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fd(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Rr(this.viewCache_),u=YC(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(i){return{filter:i}}function eI(i,e){M(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function tI(i,e,n,s,l){const u=new XC;let d,f;if(n.type===Yt.OVERWRITE){const g=n;g.source.fromUser?d=xc(i,e,g.path,g.snap,s,l,u):(M(g.source.fromServer,"Unknown source."),f=g.source.tagged||e.serverCache.isFiltered()&&!me(g.path),d=Ol(i,e,g.path,g.snap,s,l,f,u))}else if(n.type===Yt.MERGE){const g=n;g.source.fromUser?d=rI(i,e,g.path,g.children,s,l,u):(M(g.source.fromServer,"Unknown source."),f=g.source.tagged||e.serverCache.isFiltered(),d=Nc(i,e,g.path,g.children,s,l,f,u))}else if(n.type===Yt.ACK_USER_WRITE){const g=n;g.revert?d=oI(i,e,g.path,s,l,u):d=iI(i,e,g.path,g.affectedTree,s,l,u)}else if(n.type===Yt.LISTEN_COMPLETE)d=sI(i,e,n.path,s,u);else throw Ei("Unknown operation type: "+n.type);const p=u.getChanges();return nI(e,d,p),{viewCache:d,changes:p}}function nI(i,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Cc(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(T0(Cc(e)))}}function M0(i,e,n,s,l,u){const d=e.eventCache;if(Pl(s,n)!=null)return e;{let f,p;if(me(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Rr(e),y=g instanceof ne?g:ne.EMPTY_NODE,_=hd(s,y);f=i.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const g=Rl(s,Rr(e));f=i.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=fe(n);if(g===".priority"){M(tr(n)===1,"Can't have a priority with additional path components");const y=d.getNode();p=e.serverCache.getNode();const _=Mm(s,n,y,p);_!=null?f=i.filter.updatePriority(y,_):f=d.getNode()}else{const y=Ae(n);let _;if(d.isCompleteForChild(g)){p=e.serverCache.getNode();const w=Mm(s,n,d.getNode(),p);w!=null?_=d.getNode().getImmediateChild(g).updateChild(y,w):_=d.getNode().getImmediateChild(g)}else _=fd(s,g,e.serverCache);_!=null?f=i.filter.updateChild(d.getNode(),g,_,y,l,u):f=d.getNode()}}return Is(e,f,d.isFullyInitialized()||me(n),i.filter.filtersNodes())}}function Ol(i,e,n,s,l,u,d,f){const p=e.serverCache;let g;const y=d?i.filter:i.filter.getIndexedFilter();if(me(n))g=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(n,s);g=y.updateFullNode(p.getNode(),N,null)}else{const N=fe(n);if(!p.isCompleteForPath(n)&&tr(n)>1)return e;const R=Ae(n),V=p.getNode().getImmediateChild(N).updateChild(R,s);N===".priority"?g=y.updatePriority(p.getNode(),V):g=y.updateChild(p.getNode(),N,V,R,D0,null)}const _=N0(e,g,p.isFullyInitialized()||me(n),y.filtersNodes()),w=new pd(l,_,u);return M0(i,_,n,l,w,f)}function xc(i,e,n,s,l,u,d){const f=e.eventCache;let p,g;const y=new pd(l,e,u);if(me(n))g=i.filter.updateFullNode(e.eventCache.getNode(),s,d),p=Is(e,g,!0,i.filter.filtersNodes());else{const _=fe(n);if(_===".priority")g=i.filter.updatePriority(e.eventCache.getNode(),s),p=Is(e,g,f.isFullyInitialized(),f.isFiltered());else{const w=Ae(n),N=f.getNode().getImmediateChild(_);let R;if(me(w))R=s;else{const F=y.getCompleteChild(_);F!=null?nd(w)===".priority"&&F.getChild(y0(w)).isEmpty()?R=F:R=F.updateChild(w,s):R=ne.EMPTY_NODE}if(N.equals(R))p=e;else{const F=i.filter.updateChild(f.getNode(),_,R,w,y,d);p=Is(e,F,f.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function Lm(i,e){return i.eventCache.isCompleteForChild(e)}function rI(i,e,n,s,l,u,d){let f=e;return s.foreach((p,g)=>{const y=Be(n,p);Lm(e,fe(y))&&(f=xc(i,f,y,g,l,u,d))}),s.foreach((p,g)=>{const y=Be(n,p);Lm(e,fe(y))||(f=xc(i,f,y,g,l,u,d))}),f}function jm(i,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Nc(i,e,n,s,l,u,d,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;me(n)?g=s:g=new Oe(null).setTree(n,s);const y=e.serverCache.getNode();return g.children.inorderTraversal((_,w)=>{if(y.hasChild(_)){const N=e.serverCache.getNode().getImmediateChild(_),R=jm(i,N,w);p=Ol(i,p,new Ne(_),R,l,u,d,f)}}),g.children.inorderTraversal((_,w)=>{const N=!e.serverCache.isCompleteForChild(_)&&w.value===null;if(!y.hasChild(_)&&!N){const R=e.serverCache.getNode().getImmediateChild(_),F=jm(i,R,w);p=Ol(i,p,new Ne(_),F,l,u,d,f)}}),p}function iI(i,e,n,s,l,u,d){if(Pl(l,n)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(me(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return Ol(i,e,n,p.getNode().getChild(n),l,u,f,d);if(me(n)){let g=new Oe(null);return p.getNode().forEachChild(di,(y,_)=>{g=g.set(new Ne(y),_)}),Nc(i,e,n,g,l,u,f,d)}else return e}else{let g=new Oe(null);return s.foreach((y,_)=>{const w=Be(n,y);p.isCompleteForPath(w)&&(g=g.set(y,p.getNode().getChild(w)))}),Nc(i,e,n,g,l,u,f,d)}}function sI(i,e,n,s,l){const u=e.serverCache,d=N0(e,u.getNode(),u.isFullyInitialized()||me(n),u.isFiltered());return M0(i,d,n,s,D0,l)}function oI(i,e,n,s,l,u){let d;if(Pl(s,n)!=null)return e;{const f=new pd(s,e,l),p=e.eventCache.getNode();let g;if(me(n)||fe(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Rl(s,Rr(e));else{const _=e.serverCache.getNode();M(_ instanceof ne,"serverChildren would be complete if leaf node"),y=hd(s,_)}y=y,g=i.filter.updateFullNode(p,y,u)}else{const y=fe(n);let _=fd(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?g=i.filter.updateChild(p,y,_,Ae(n),f,u):e.eventCache.getNode().hasChild(y)?g=i.filter.updateChild(p,y,ne.EMPTY_NODE,Ae(n),f,u):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=Rl(s,Rr(e)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=e.serverCache.isFullyInitialized()||Pl(s,Ce())!=null,Is(e,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new od(s.getIndex()),u=kC(s);this.processor_=ZC(u);const d=n.serverCache,f=n.eventCache,p=l.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(ne.EMPTY_NODE,f.getNode(),null),y=new br(p,d.isFullyInitialized(),l.filtersNodes()),_=new br(g,f.isFullyInitialized(),u.filtersNodes());this.viewCache_=Bl(_,y),this.eventGenerator_=new OC(this.query_)}get query(){return this.query_}}function aI(i){return i.viewCache_.serverCache.getNode()}function uI(i,e){const n=Rr(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(fe(e)).isEmpty())?n.getChild(e):null}function Fm(i){return i.eventRegistrations_.length===0}function cI(i,e){i.eventRegistrations_.push(e)}function Um(i,e,n){const s=[];if(n){M(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(n,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function zm(i,e,n,s){e.type===Yt.MERGE&&e.source.queryId!==null&&(M(Rr(i.viewCache_),"We should always have a full cache before handling merges"),M(Cc(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=tI(i.processor_,l,e,n,s);return eI(i.processor_,u.viewCache),M(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,L0(i,u.changes,u.viewCache.eventCache.getNode(),null)}function dI(i,e){const n=i.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($e,(u,d)=>{s.push(vi(u,d))}),n.isFullyInitialized()&&s.push(T0(n.getNode())),L0(i,s,n.getNode(),e)}function L0(i,e,n,s){const l=s?[s]:i.eventRegistrations_;return AC(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al;class hI{constructor(){this.views=new Map}}function fI(i){M(!Al,"__referenceConstructor has already been defined"),Al=i}function pI(){return M(Al,"Reference.ts has not been loaded"),Al}function mI(i){return i.views.size===0}function md(i,e,n,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return M(u!=null,"SyncTree gave us an op for an invalid query."),zm(u,e,n,s)}else{let u=[];for(const d of i.views.values())u=u.concat(zm(d,e,n,s));return u}}function gI(i,e,n,s,l){const u=e._queryIdentifier,d=i.views.get(u);if(!d){let f=Rl(n,l?s:null),p=!1;f?p=!0:s instanceof ne?(f=hd(n,s),p=!1):(f=ne.EMPTY_NODE,p=!1);const g=Bl(new br(f,p,!1),new br(s,l,!1));return new lI(e,g)}return d}function vI(i,e,n,s,l,u){const d=gI(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),cI(d,n),dI(d,n)}function _I(i,e,n,s){const l=e._queryIdentifier,u=[];let d=[];const f=nr(i);if(l==="default")for(const[p,g]of i.views.entries())d=d.concat(Um(g,n,s)),Fm(g)&&(i.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=i.views.get(l);p&&(d=d.concat(Um(p,n,s)),Fm(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return f&&!nr(i)&&u.push(new(pI())(e._repo,e._path)),{removed:u,events:d}}function j0(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function hi(i,e){let n=null;for(const s of i.views.values())n=n||uI(s,e);return n}function F0(i,e){if(e._queryParams.loadsAllData())return $l(i);{const s=e._queryIdentifier;return i.views.get(s)}}function U0(i,e){return F0(i,e)!=null}function nr(i){return $l(i)!=null}function $l(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl;function yI(i){M(!Dl,"__referenceConstructor has already been defined"),Dl=i}function wI(){return M(Dl,"Reference.ts has not been loaded"),Dl}let EI=1;class Vm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=QC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function z0(i,e,n,s,l){return jC(i.pendingWriteTree_,e,n,s,l),l?xi(i,new Nr(ad(),e,n)):[]}function SI(i,e,n,s){FC(i.pendingWriteTree_,e,n,s);const l=Oe.fromObject(n);return xi(i,new _i(ad(),e,l))}function Yn(i,e,n=!1){const s=UC(i.pendingWriteTree_,e);if(zC(i.pendingWriteTree_,e)){let u=new Oe(null);return s.snap!=null?u=u.set(Ce(),!0):at(s.children,d=>{u=u.set(new Ne(d),!0)}),xi(i,new bl(s.path,u,n))}else return[]}function Gl(i,e,n){return xi(i,new Nr(ud(),e,n))}function CI(i,e,n){const s=Oe.fromObject(n);return xi(i,new _i(ud(),e,s))}function II(i,e){return xi(i,new Ms(ud(),e))}function kI(i,e,n){const s=vd(i,n);if(s){const l=_d(s),u=l.path,d=l.queryId,f=Ct(u,e),p=new Ms(cd(d),f);return yd(i,u,p)}else return[]}function bc(i,e,n,s,l=!1){const u=e._path,d=i.syncPointTree_.get(u);let f=[];if(d&&(e._queryIdentifier==="default"||U0(d,e))){const p=_I(d,e,n,s);mI(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=p.removed;if(f=p.events,!l){const y=g.findIndex(w=>w._queryParams.loadsAllData())!==-1,_=i.syncPointTree_.findOnPath(u,(w,N)=>nr(N));if(y&&!_){const w=i.syncPointTree_.subtree(u);if(!w.isEmpty()){const N=NI(w);for(let R=0;R<N.length;++R){const F=N[R],V=F.query,_e=W0(i,F);i.listenProvider_.startListening(Ts(V),Ml(i,V),_e.hashFn,_e.onComplete)}}}!_&&g.length>0&&!s&&(y?i.listenProvider_.stopListening(Ts(e),null):g.forEach(w=>{const N=i.queryToTagMap.get(Kl(w));i.listenProvider_.stopListening(Ts(w),N)}))}bI(i,g)}return f}function TI(i,e,n,s){const l=vd(i,s);if(l!=null){const u=_d(l),d=u.path,f=u.queryId,p=Ct(d,e),g=new Nr(cd(f),p,n);return yd(i,d,g)}else return[]}function xI(i,e,n,s){const l=vd(i,s);if(l){const u=_d(l),d=u.path,f=u.queryId,p=Ct(d,e),g=Oe.fromObject(n),y=new _i(cd(f),p,g);return yd(i,d,y)}else return[]}function Hm(i,e,n,s=!1){const l=e._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(w,N)=>{const R=Ct(w,l);u=u||hi(N,R),d=d||nr(N)});let f=i.syncPointTree_.get(l);f?(d=d||nr(f),u=u||hi(f,Ce())):(f=new hI,i.syncPointTree_=i.syncPointTree_.set(l,f));let p;u!=null?p=!0:(p=!1,u=ne.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((N,R)=>{const F=hi(R,Ce());F&&(u=u.updateImmediateChild(N,F))}));const g=U0(f,e);if(!g&&!e._queryParams.loadsAllData()){const w=Kl(e);M(!i.queryToTagMap.has(w),"View does not exist, but we have a tag");const N=RI();i.queryToTagMap.set(w,N),i.tagToQueryMap.set(N,w)}const y=dd(i.pendingWriteTree_,l);let _=vI(f,e,n,y,u,p);if(!g&&!d&&!s){const w=F0(f,e);_=_.concat(PI(i,e,w))}return _}function gd(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(d,f)=>{const p=Ct(d,e),g=hi(f,p);if(g)return g});return P0(l,e,u,n,!0)}function xi(i,e){return V0(e,i.syncPointTree_,null,dd(i.pendingWriteTree_,Ce()))}function V0(i,e,n,s){if(me(i.path))return H0(i,e,n,s);{const l=e.get(Ce());n==null&&l!=null&&(n=hi(l,Ce()));let u=[];const d=fe(i.path),f=i.operationForChild(d),p=e.children.get(d);if(p&&f){const g=n?n.getImmediateChild(d):null,y=O0(s,d);u=u.concat(V0(f,p,g,y))}return l&&(u=u.concat(md(l,i,s,n))),u}}function H0(i,e,n,s){const l=e.get(Ce());n==null&&l!=null&&(n=hi(l,Ce()));let u=[];return e.children.inorderTraversal((d,f)=>{const p=n?n.getImmediateChild(d):null,g=O0(s,d),y=i.operationForChild(d);y&&(u=u.concat(H0(y,f,p,g)))}),l&&(u=u.concat(md(l,i,s,n))),u}function W0(i,e){const n=e.query,s=Ml(i,n);return{hashFn:()=>(aI(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?kI(i,n._path,s):II(i,n._path);{const u=CS(l,n);return bc(i,n,null,u)}}}}function Ml(i,e){const n=Kl(e);return i.queryToTagMap.get(n)}function Kl(i){return i._path.toString()+"$"+i._queryIdentifier}function vd(i,e){return i.tagToQueryMap.get(e)}function _d(i){const e=i.indexOf("$");return M(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Ne(i.substr(0,e))}}function yd(i,e,n){const s=i.syncPointTree_.get(e);M(s,"Missing sync point for query tag that we're tracking");const l=dd(i.pendingWriteTree_,e);return md(s,n,l,null)}function NI(i){return i.fold((e,n,s)=>{if(n&&nr(n))return[$l(n)];{let l=[];return n&&(l=j0(n)),at(s,(u,d)=>{l=l.concat(d)}),l}})}function Ts(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(wI())(i._repo,i._path):i}function bI(i,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=Kl(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function RI(){return EI++}function PI(i,e,n){const s=e._path,l=Ml(i,e),u=W0(i,n),d=i.listenProvider_.startListening(Ts(e),l,u.hashFn,u.onComplete),f=i.syncPointTree_.subtree(s);if(l)M(!nr(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((g,y,_)=>{if(!me(g)&&y&&nr(y))return[$l(y).query];{let w=[];return y&&(w=w.concat(j0(y).map(N=>N.query))),at(_,(N,R)=>{w=w.concat(R)}),w}});for(let g=0;g<p.length;++g){const y=p[g];i.listenProvider_.stopListening(Ts(y),Ml(i,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wd(n)}node(){return this.node_}}class Ed{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Be(this.path_,e);return new Ed(this.syncTree_,n)}node(){return gd(this.syncTree_,this.path_)}}const OI=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Wm=function(i,e,n){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return AI(i[".sv"],e,n);if(typeof i[".sv"]=="object")return DI(i[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},AI=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+i)}},DI=function(i,e,n){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&M(!1,"Unexpected increment value: "+s);const l=e.node();if(M(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},B0=function(i,e,n,s){return Sd(e,new Ed(n,i),s)},$0=function(i,e,n){return Sd(i,new wd(e),n)};function Sd(i,e,n){const s=i.getPriority().val(),l=Wm(s,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const d=i,f=Wm(d.getValue(),e,n);return f!==d.getValue()||l!==d.getPriority().val()?new et(f,nt(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new et(l))),d.forEachChild($e,(f,p)=>{const g=Sd(p,e.getImmediateChild(f),n);g!==p&&(u=u.updateImmediateChild(f,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Id(i,e){let n=e instanceof Ne?e:new Ne(e),s=i,l=fe(n);for(;l!==null;){const u=fi(s.node.children,l)||{children:{},childCount:0};s=new Cd(l,s,u),n=Ae(n),l=fe(n)}return s}function Ni(i){return i.node.value}function G0(i,e){i.node.value=e,Rc(i)}function K0(i){return i.node.childCount>0}function MI(i){return Ni(i)===void 0&&!K0(i)}function ql(i,e){at(i.node.children,(n,s)=>{e(new Cd(n,i,s))})}function q0(i,e,n,s){n&&!s&&e(i),ql(i,l=>{q0(l,e,!0,s)})}function LI(i,e,n){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function $s(i){return new Ne(i.parent===null?i.name:$s(i.parent)+"/"+i.name)}function Rc(i){i.parent!==null&&jI(i.parent,i.name,i)}function jI(i,e,n){const s=MI(n),l=un(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,Rc(i)):!s&&!l&&(i.node.children[e]=n.node,i.node.childCount++,Rc(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/[\[\].#$\/\u0000-\u001F\u007F]/,UI=/[\[\].#$\u0000-\u001F\u007F]/,ac=10*1024*1024,kd=function(i){return typeof i=="string"&&i.length!==0&&!FI.test(i)},Q0=function(i){return typeof i=="string"&&i.length!==0&&!UI.test(i)},zI=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Q0(i)},VI=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Xc(i)||i&&typeof i=="object"&&un(i,".sv")},Y0=function(i,e,n,s){s&&e===void 0||Ql(Fl(i,"value"),e,n)},Ql=function(i,e,n){const s=n instanceof Ne?new rC(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+yr(s));if(typeof e=="function")throw new Error(i+"contains a function "+yr(s)+" with contents = "+e.toString());if(Xc(e))throw new Error(i+"contains "+e.toString()+" "+yr(s));if(typeof e=="string"&&e.length>ac/3&&Ul(e)>ac)throw new Error(i+"contains a string greater than "+ac+" utf8 bytes "+yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(at(e,(d,f)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!kd(d)))throw new Error(i+" contains an invalid key ("+d+") "+yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iC(s,d),Ql(i,f,s),sC(s)}),l&&u)throw new Error(i+' contains ".value" child '+yr(s)+" in addition to actual children.")}},HI=function(i,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const u=Ps(s);for(let d=0;d<u.length;d++)if(!(u[d]===".priority"&&d===u.length-1)){if(!kd(u[d]))throw new Error(i+"contains an invalid key ("+u[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nC);let l=null;for(n=0;n<e.length;n++){if(s=e[n],l!==null&&Ft(l,s))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},WI=function(i,e,n,s){const l=Fl(i,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];at(e,(d,f)=>{const p=new Ne(d);if(Ql(l,f,Be(n,p)),nd(p)===".priority"&&!VI(f))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),HI(l,u)},X0=function(i,e,n,s){if(!Q0(n))throw new Error(Fl(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BI=function(i,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),X0(i,e,n)},Td=function(i,e){if(fe(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},$I=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!zI(n))throw new Error(Fl(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yl(i,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!rd(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function J0(i,e,n){Yl(i,n),Z0(i,s=>rd(s,e))}function Zt(i,e,n){Yl(i,n),Z0(i,s=>Ft(s,e)||Ft(e,s))}function Z0(i,e){i.recursionDepth_++;let n=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?(KI(i.eventLists_[s]),i.eventLists_[s]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function KI(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const s=n.getEventRunner();Ss&&lt("event: "+n.toString()),Ti(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="repo_interrupt",QI=25;class YI{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nl(),this.transactionQueueTree_=new Cd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XI(i,e,n){if(i.stats_=ed(i.repoInfo_),i.forceRestClient_||xS())i.server_=new xl(i.repoInfo_,(s,l,u,d)=>{Bm(i,s,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>$m(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Cn(i.repoInfo_,e,(s,l,u,d)=>{Bm(i,s,l,u,d)},s=>{$m(i,s)},s=>{JI(i,s)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=OS(i.repoInfo_,()=>new PC(i.stats_,i.server_)),i.infoData_=new TC,i.infoSyncTree_=new Vm({startListening:(s,l,u,d)=>{let f=[];const p=i.infoData_.getNode(s._path);return p.isEmpty()||(f=Gl(i.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),xd(i,"connected",!1),i.serverSyncTree_=new Vm({startListening:(s,l,u,d)=>(i.server_.listen(s,u,l,(f,p)=>{const g=d(f,p);Zt(i.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function ev(i){const n=i.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Xl(i){return OI({timestamp:ev(i)})}function Bm(i,e,n,s,l){i.dataUpdateCount++;const u=new Ne(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let d=[];if(l)if(s){const p=gl(n,g=>nt(g));d=xI(i.serverSyncTree_,u,p,l)}else{const p=nt(n);d=TI(i.serverSyncTree_,u,p,l)}else if(s){const p=gl(n,g=>nt(g));d=CI(i.serverSyncTree_,u,p)}else{const p=nt(n);d=Gl(i.serverSyncTree_,u,p)}let f=u;d.length>0&&(f=wi(i,u)),Zt(i.eventQueue_,f,d)}function $m(i,e){xd(i,"connected",e),e===!1&&tk(i)}function JI(i,e){at(e,(n,s)=>{xd(i,n,s)})}function xd(i,e,n){const s=new Ne("/.info/"+e),l=nt(n);i.infoData_.updateSnapshot(s,l);const u=Gl(i.infoSyncTree_,s,l);Zt(i.eventQueue_,s,u)}function Nd(i){return i.nextWriteId_++}function ZI(i,e,n,s,l){Jl(i,"set",{path:e.toString(),value:n,priority:s});const u=Xl(i),d=nt(n,s),f=gd(i.serverSyncTree_,e),p=$0(d,f,u),g=Nd(i),y=z0(i.serverSyncTree_,e,p,g,!0);Yl(i.eventQueue_,y),i.server_.put(e.toString(),d.val(!0),(w,N)=>{const R=w==="ok";R||mt("set at "+e+" failed: "+w);const F=Yn(i.serverSyncTree_,g,!R);Zt(i.eventQueue_,e,F),Pc(i,l,w,N)});const _=Rd(i,e);wi(i,_),Zt(i.eventQueue_,_,[])}function ek(i,e,n,s){Jl(i,"update",{path:e.toString(),value:n});let l=!0;const u=Xl(i),d={};if(at(n,(f,p)=>{l=!1,d[f]=B0(Be(e,f),nt(p),i.serverSyncTree_,u)}),l)lt("update() called with empty data.  Don't do anything."),Pc(i,s,"ok",void 0);else{const f=Nd(i),p=SI(i.serverSyncTree_,e,d,f);Yl(i.eventQueue_,p),i.server_.merge(e.toString(),n,(g,y)=>{const _=g==="ok";_||mt("update at "+e+" failed: "+g);const w=Yn(i.serverSyncTree_,f,!_),N=w.length>0?wi(i,e):e;Zt(i.eventQueue_,N,w),Pc(i,s,g,y)}),at(n,g=>{const y=Rd(i,Be(e,g));wi(i,y)}),Zt(i.eventQueue_,e,[])}}function tk(i){Jl(i,"onDisconnectEvents");const e=Xl(i),n=Nl();Sc(i.onDisconnect_,Ce(),(l,u)=>{const d=B0(l,u,i.serverSyncTree_,e);x0(n,l,d)});let s=[];Sc(n,Ce(),(l,u)=>{s=s.concat(Gl(i.serverSyncTree_,l,u));const d=Rd(i,l);wi(i,d)}),i.onDisconnect_=Nl(),Zt(i.eventQueue_,Ce(),s)}function nk(i,e,n){let s;fe(e._path)===".info"?s=Hm(i.infoSyncTree_,e,n):s=Hm(i.serverSyncTree_,e,n),J0(i.eventQueue_,e._path,s)}function rk(i,e,n){let s;fe(e._path)===".info"?s=bc(i.infoSyncTree_,e,n):s=bc(i.serverSyncTree_,e,n),J0(i.eventQueue_,e._path,s)}function ik(i){i.persistentConnection_&&i.persistentConnection_.interrupt(qI)}function Jl(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),lt(n,...e)}function Pc(i,e,n,s){e&&Ti(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function tv(i,e,n){return gd(i.serverSyncTree_,e,n)||ne.EMPTY_NODE}function bd(i,e=i.transactionQueueTree_){if(e||Zl(i,e),Ni(e)){const n=rv(i,e);M(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&sk(i,$s(e),n)}else K0(e)&&ql(e,n=>{bd(i,n)})}function sk(i,e,n){const s=n.map(g=>g.currentWriteId),l=tv(i,e,s);let u=l;const d=l.hash();for(let g=0;g<n.length;g++){const y=n[g];M(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=Ct(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const f=u.val(!0),p=e;i.server_.put(p.toString(),f,g=>{Jl(i,"transaction put response",{path:p.toString(),status:g});let y=[];if(g==="ok"){const _=[];for(let w=0;w<n.length;w++)n[w].status=2,y=y.concat(Yn(i.serverSyncTree_,n[w].currentWriteId)),n[w].onComplete&&_.push(()=>n[w].onComplete(null,!0,n[w].currentOutputSnapshotResolved)),n[w].unwatcher();Zl(i,Id(i.transactionQueueTree_,e)),bd(i,i.transactionQueueTree_),Zt(i.eventQueue_,e,y);for(let w=0;w<_.length;w++)Ti(_[w])}else{if(g==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{mt("transaction at "+p.toString()+" failed: "+g);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=g}wi(i,e)}},d)}function wi(i,e){const n=nv(i,e),s=$s(n),l=rv(i,n);return ok(i,l,s),s}function ok(i,e,n){if(e.length===0)return;const s=[];let l=[];const d=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],g=Ct(n,p.path);let y=!1,_;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,l=l.concat(Yn(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=QI)y=!0,_="maxretry",l=l.concat(Yn(i.serverSyncTree_,p.currentWriteId,!0));else{const w=tv(i,p.path,d);p.currentInputSnapshot=w;const N=e[f].update(w.val());if(N!==void 0){Ql("transaction failed: Data returned ",N,p.path);let R=nt(N);typeof N=="object"&&N!=null&&un(N,".priority")||(R=R.updatePriority(w.getPriority()));const V=p.currentWriteId,_e=Xl(i),Ie=$0(R,w,_e);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=Ie,p.currentWriteId=Nd(i),d.splice(d.indexOf(V),1),l=l.concat(z0(i.serverSyncTree_,p.path,Ie,p.currentWriteId,p.applyLocally)),l=l.concat(Yn(i.serverSyncTree_,V,!0))}else y=!0,_="nodata",l=l.concat(Yn(i.serverSyncTree_,p.currentWriteId,!0))}Zt(i.eventQueue_,n,l),l=[],y&&(e[f].status=2,function(w){setTimeout(w,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(_==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(_),!1,null))))}Zl(i,i.transactionQueueTree_);for(let f=0;f<s.length;f++)Ti(s[f]);bd(i,i.transactionQueueTree_)}function nv(i,e){let n,s=i.transactionQueueTree_;for(n=fe(e);n!==null&&Ni(s)===void 0;)s=Id(s,n),e=Ae(e),n=fe(e);return s}function rv(i,e){const n=[];return iv(i,e,n),n.sort((s,l)=>s.order-l.order),n}function iv(i,e,n){const s=Ni(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);ql(e,l=>{iv(i,l,n)})}function Zl(i,e){const n=Ni(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,G0(e,n.length>0?n:void 0)}ql(e,s=>{Zl(i,s)})}function Rd(i,e){const n=$s(nv(i,e)),s=Id(i.transactionQueueTree_,e);return LI(s,l=>{uc(i,l)}),uc(i,s),q0(s,l=>{uc(i,l)}),n}function uc(i,e){const n=Ni(e);if(n){const s=[];let l=[],u=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(M(u===d-1,"All SENT items should be at beginning of queue."),u=d,n[d].status=3,n[d].abortReason="set"):(M(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),l=l.concat(Yn(i.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&s.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?G0(e,void 0):n.length=u+1,Zt(i.eventQueue_,$s(e),l);for(let d=0;d<s.length;d++)Ti(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(i){let e="";const n=i.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function ak(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):mt(`Invalid query segment '${n}' in query '${i}'`)}return e}const Gm=function(i,e){const n=uk(i),s=n.namespace;n.domain==="firebase.com"&&Tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_S();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new c0(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new Ne(n.pathString)}},uk=function(i){let e="",n="",s="",l="",u="",d=!0,f="https",p=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(f=i.substring(0,g-1),i=i.substring(g+2));let y=i.indexOf("/");y===-1&&(y=i.length);let _=i.indexOf("?");_===-1&&(_=i.length),e=i.substring(0,Math.min(y,_)),y<_&&(l=lk(i.substring(y,_)));const w=ak(i.substring(Math.min(i.length,_)));g=e.indexOf(":"),g>=0?(d=f==="https"||f==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const N=e.slice(0,g);if(N.toLowerCase()==="localhost")n="localhost";else if(N.split(".").length<=2)n=N;else{const R=e.indexOf(".");s=e.substring(0,R).toLowerCase(),n=e.substring(R+1),u=s}"ns"in w&&(u=w.ns)}return{host:e,port:p,domain:n,subdomain:s,secure:d,scheme:f,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ck=function(){let i=0;const e=[];return function(n){const s=n===i;i=n;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Km.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let d=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=Km.charAt(e[l]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class hk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return me(this._path)?null:nd(this._path)}get ref(){return new ir(this._repo,this._path)}get _queryIdentifier(){const e=Pm(this._queryParams),n=Jc(e);return n==="{}"?"default":n}get _queryObject(){return Pm(this._queryParams)}isEqual(e){if(e=Rt(e),!(e instanceof Pd))return!1;const n=this._repo===e._repo,s=rd(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+tC(this._path)}}class ir extends Pd{constructor(e,n){super(e,n,new ld,!1)}get parent(){const e=y0(this._path);return e===null?null:new ir(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ll{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ne(e),s=Ls(this.ref,e);return new Ll(this._node.getChild(n),s,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Ll(l,Ls(this.ref,s),$e)))}hasChild(e){const n=new Ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function o2(i,e){return i=Rt(i),i._checkNotDeleted("ref"),e!==void 0?Ls(i._root,e):i._root}function Ls(i,e){return i=Rt(i),fe(i._path)===null?BI("child","path",e):X0("child","path",e),new ir(i._repo,Be(i._path,e))}function l2(i,e){i=Rt(i),Td("push",i._path),Y0("push",e,i._path,!0);const n=ev(i._repo),s=ck(n),l=Ls(i,s),u=Ls(i,s);let d;return e!=null?d=sv(u,e).then(()=>u):d=Promise.resolve(u),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function a2(i){return Td("remove",i._path),sv(i,null)}function sv(i,e){i=Rt(i),Td("set",i._path),Y0("set",e,i._path,!1);const n=new js;return ZI(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function u2(i,e){WI("update",e,i._path);const n=new js;return ek(i._repo,i._path,e,n.wrapCallback(()=>{})),n.promise}class Od{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new dk("value",this,new Ll(e.snapshotNode,new ir(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hk(this,e,n):null}matches(e){return e instanceof Od?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function pk(i,e,n,s,l){const u=new fk(n,void 0),d=new Od(u);return nk(i._repo,i,d),()=>rk(i._repo,i,d)}function c2(i,e,n,s){return pk(i,"value",e)}fI(ir);yI(ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="FIREBASE_DATABASE_EMULATOR_HOST",Oc={};let gk=!1;function vk(i,e,n,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),d=Si(u);i.repoInfo_=new c0(e,d,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(i.authTokenProvider_=s)}function _k(i,e,n,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Gm(u,l),f=d.repoInfo,p;typeof process<"u"&&fm&&(p=fm[mk]),p?(u=`http://${p}?ns=${f.namespace}`,d=Gm(u,l),f=d.repoInfo):d.repoInfo.secure;const g=new bS(i.name,i.options,e);$I("Invalid Firebase Database URL",d),me(d.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=wk(f,i,g,new NS(i,n));return new Ek(y,i)}function yk(i,e){const n=Oc[e];(!n||n[i.key]!==i)&&Tn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),ik(i),delete n[i.key]}function wk(i,e,n,s){let l=Oc[e.name];l||(l={},Oc[e.name]=l);let u=l[i.toURLString()];return u&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new YI(i,gk,n,s),l[i.toURLString()]=u,u}class Ek{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ir(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function Sk(i=vg(),e){const n=Uc(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Uy("database");s&&Ck(n,...s)}return n}function Ck(i,e,n,s={}){i=Rt(i),i._checkNotDeleted("useEmulator");const l=`${e}:${n}`,u=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&Ir(s,u.repoInfo_.emulatorOptions))return;Tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new dl(dl.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:zy(s.mockUserToken,i.app.options.projectId);d=new dl(f)}Si(e)&&(ug(e),cg("Database",!0)),vk(u,l,s,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(i){hS(Ii),pi(new kr("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return _k(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),Zn(pm,mm,i),Zn(pm,mm,"esm2017")}Cn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Cn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};Ik();const kk={apiKey:"AIzaSyAMDp5WhCZy0tDz-_VcN3bz8HUW2Yp0lw0",authDomain:"personal-portfolio-37a0a.firebaseapp.com",databaseURL:"https://personal-portfolio-37a0a-default-rtdb.firebaseio.com",projectId:"personal-portfolio-37a0a",storageBucket:"personal-portfolio-37a0a.appspot.com",messagingSenderId:"695560029777",appId:"1:695560029777:web:2f666fd6fe7aa39b0c1a70",measurementId:"G-64P0PSRQN5"},ov=gg(kk),Tk=cS(ov),d2=Sk(ov),h2=new yn,lv=ce.createContext();function xk({children:i}){const[e,n]=ce.useState(null),[s,l]=ce.useState(!0);ce.useEffect(()=>Tk.onAuthStateChanged(f=>{n(f),l(!1)}),[]);const u={currentUser:e,isAdmin:(e==null?void 0:e.email)==="e2340065@bit.uom.lk"};return C.jsx(lv.Provider,{value:u,children:!s&&i})}function f2(){return ce.useContext(lv)}const Nk="/portfolio_web/assets/bg2-ZfyVyyz0.jpg",qm="/portfolio_web/assets/my2-u5NpehRh.png",bk="/portfolio_web/assets/ChatGPT%20Image%20Aug%209_%202025_%2001_07_11%20PM-DwprKBJo.png",Rk="/portfolio_web/assets/ChatGPT%20Image%20Aug%209_%202025_%2001_24_56%20PM-Bx8OaugV.png",Qm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0BAMAAAA5+MK5AAAAAXNSR0IArs4c6QAAADBQTFRFR3BM////8vn24fDrw9ztwOa+otqfnr/dgc19T8zyaMNkZJjITbhIArbtLnS0AValA0TB9AAAAAF0Uk5TAEDm2GYAAA2lSURBVHja7Ni/ahRRGIZxb+GcmcJthBURRRT8V0RJEbGxWEFsLOwEK+/AQrCy3XQW01inEewtBAnhNCY2W3yN2KUNpAjkhA8Svl0mF5Cc93mqbX/sGd6Zc4WIiIiIiIguSUko6NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06BeL/uj5A1H6ZLDFVJM+M7O5JL0bzGxPkj4xM1tI0td16YMs/YZ5fxXpa+btKtIH8zYE6Z15kq80k3jU1ejr5m0K0vNg3lSQ3sd5V6LHtG3K0WPaBOk5pk2LHtMmSJ+ZN5ejx7TJ0eOrTY0e0yZHj2mTo8e0CdJvx6MuRY9pE6R3Q5x3KXp8tanRY9rk6DFtavS4kExi9Ji2PTl6TJscPaZNjh5fbWr0uICXo8e0CdL7mDYlekzbriJ9ZnHe88M0Kl9vjz6etu7j/o+R/M2Xd83RxxfwT2s93kir3Spl51Wb9LsxbflnrfVfWil/KKV8a4w+nra+1loP00rdVinld2P08bRdc/pxWulqKaVsN0mfmPcneZ/Oob91+k6b9DjvXfWO0nJ5q/F/fXHff96p3kFa7mbxfjVJ72PaXlbve1ruSfE+N0nPTp+fTVvsekxbu7u+dnbe++odTVPKj9+/Pp224m1P26R3L74+S9696v1PKZ1wa/4sDQNhHP4MdzEqCEIKKohLBCdFENxFJB3ERaTFwUUUHARFBAfpl1ARRDqJ4ODgVAnlvoR/NsGODoLRl+b6I/RtoYPL7yFL05b24Zo+l0sm6y5dzadywhXr6UupZAR7nAm7edBOkTa3SakOgsxX3db8BC6oo+rE6kibFd8UaWswqyNtd/6/ramkjVG9mDaMeg1pY1VH2ow/1htImyFXX8yENyOs57/yaaSNWf0pT5swUXepzHJ2nLBKrj7U8mkTwmqspI1Qvf9ZW4Nc3SJtAGmjHvWWTxtA2qjVR5QFmtAJz4ZaHWkDPm2X3OpIG0DaeNWRtm8DfNrSiFpdT9uwE64NufpK77RRq+tpszUnxHzq/GnT1fVVilfl935Jrm7baVvS0sasjrRFWtqI1ZG2dzVt1Op62haQNmJ1q6WtjrQRq09lwpeaNmJ1pO1FSdsFpTp/2nT1AdJGrT6mpG0UaWNWX1FuI9lwwgm5etBOW9ydtmZMrj7SM20NQ64+pqRtWJ/KWVsqMamPKwvwo1ra7PLh4+fjw/5sfqAc/OHXMQ+KyH4QJpVyUsFjO1eunlWTWewJ5BXtLVnr7J/725GYwD+Dzb8eW2zMRDkpJwOOOtKGUVfSFhy2MuHnYw8XpV+xyuPp7sVM8Up1sH3rhJtKhM8DzZstg7nFc+c5kEahA36UNuS9g6kPdafNhModkkcQu++vjgUfKEA9OHee64I65E/xvvQf1MET0oZv23Xb1HyWgftIVwdLhenRb3t39Nq2EccB/G842VsGgcLJaxsoFJR0a6Fhw60hD4EMd2SM0JdmbJSxF2+BPARiWlgRYf/EOlpM8UubQB4KNutICab/RNeCHwwSYwE/GKTpTnf5+aLMUts4keH7Jaa2Yhd98rs7XU5SO0QvREt+ZOeabubW6VSdXfLDLmdmPm6+emxO+dqGbDuN/szoPUS3Voxd/u54+kv+7lWfz06nLKzpGlE+W3aSRad00+gHxm9CRJ95RaFzmQne6tirnj1tU/ZmJN0cN29rOi0DUPaOp/9FVT9reiE0UxtJp6MlafepBSTKnuTtv3vV58dEn449vede/MQ5Qm95MvJ7nkyNjhYaQ2Ncx3W39EhHB9O7D9y7ejs/rPpH7pbb2HKb8njoNlzXfRDT913KmKpO56DX5uy5BV9New16aU7kquzlczKcTlUT/YJ6/rVtlz6PW0OHa/oLblu2VVpRZdRVt0qzJXu2JNvL6lypNFeaZZL+yKaw8dHrNM8vtMLwH5OuMyXpieOkolO3d9jQz+Gepv85fMLrnq66MVhWR8w75sdJ32axfTOsZaBTVye6fN5ZZXGuqYHOpLOVYfrLbPTxVp2chY1ydroekfaTa/tWPM3j6hu/EzJT1f84FbpVNy43sVl2+oym627fcY58r0pVp613qOp5aPB9zlTS6OeXo+hiEF0+3zOmuFJJdELmoepED7Yz0XXhHBq0hEE/v390Hewh0Wkjz0Vfp4Nb8EsmuqLcO9zJhqDLIlN7p3WBPerrxj20qVU/nQZ/KYyzyzPRraasiu7ed4VB7jBZ6H6ql0bVrZ8UKwdVJ6dIb42n0nXBuN6ha4pudnU9u+tEdJqdNdXQl171lz8chrHT+PUl2L2RQtc72qnqmwpmhEHNYV4kbyDkgm7kMU+rupnxNHhq8Tq9cjpdWu6rfbyn6DPJtX1Jdwy6mu6lVN3MWKteaJN94KTSmezsahyr/j/9doKuejpV/czp7LpP9i4fTafdnhdoPky/k6RXFZ3yK6eqn1mDpyySffQcnvbUYfG9ghmrTums5qnqzLpK9n4KXR/Z1fE3K53yKBd9nezFFi24jqDTxGTvk7iJD4/wv///CN/siK841VyM8BRrQeOfpdBVyVbkWoSmf5yYiFjDx/W9ZZFvtiTmYUrVzVWasVWdYn+6EdPfptBVEdScVNL1RCRxBcP+kYnsj+ptqbM5fhqzOYp1XXX2FDp134eSTnN42mFdbT2RNUrK8zKHt7h55c2Ap9Bp2fmOoovmrV6bt5i8IHoc2QucvMzhp+l3tsupdBrBlEHRpYWKRb/FUoMnRDUvv68vDRzypdFpX2XZiD6vmrLO+eQqDdHzskrTpnOxxSx05RW1IboQGkf2FTVhJzpN7PNS9aIvz67KTGekF14pKNGtprbqm4ZVXQ261cxY9THTyRQo+5Kks9F0Wprimk4Ldb8ymYKgya5u9vUL8RCRgxGe1qe6juD58mk6nc3rmhJ9Zui0uvVj/MKhqtPyRX5G+Lpeplh/bk5pBs9VdpN06fmD6GoKI9JYnvvmNzrVaszm6Oxk2irNMuWWalGujnNCdMsPj+RpTKcMknTpXCW6HtjMrGq6mUdZ5vCUF3Ejo5wYvR6aCZyRdDqyd6om/aNm4vqJ4+n3qeoZ6bdPmE4jPEXyUui6xPuc6EpAIUyC3uFU9TOkJ68nCWqZ6Oe///47RnQaxIx2naAbi9H7Z9XgKRvDzi5PpVNMOrvQHG7uTpJOh/58VJ0VFo1lyfens8+bJJxlx9I7txj7wL5ePQk6rUuS/H3pVHeqbZK+X2UsP1WX1g0vSm/XUS+94XTlplb07A3TIazbcB/Qy8LdrSdPngxdJxpfL+M2tsSXe7j920aj8Zj+juhbml6I33sY9yFj16It9HUydEqpUqnMMh3bCItilaInnCVixW+glD5b/to23kChrfSSXtD7jfDE7pwE3USM4YNjTZJ++gEddNBBBx100EEHHfT80q9UotxkhQpnyVhXbs6yd4t1Y2Lo8VlYNhWUj2FsyOvOsubqz+JMT8Anhd7y/MDrHU+/FAZe2GVZU38jPjM5dNv+qm/bx9Pbgxv25kHmpi7phbUJGua+jHARvbIhF3M+bXn6LOWUvP6mHKEWvZ74o7Xd8rbFObw3m94OU9vVZ6K3twfrTvz/jBU3vV3OWMG72OqV809vyXNT1mbgBTUmc063hOthINu978XLfPVBfFfcxdDzxWfaoR/U5AUMZTbVk/cR++F2RA/bYXiQe3oYPPf7nBX9nSvtv/XFCbolDypLgcMsP1iT9w/Vw93F8GkkHNxcDHj02Z1Kq8yK7X6Fs+kgIvvdSnvAI/pgrR3kn/6aXQ7iPb98oOh9FkVInrJi9GB+nxUFuT5grP2aWdGj4NfY9YAzWw9z04F4lKOHE9Ffs+kw93TRViPCuUFlbaNvVD3iOpJp+ZFN0v+NHoK9s7Dg1/SPiOjnZMXL8jEV8rzTA0F34n8LQlG+GHBF54yJXiArL+h/K3p8Bnfp4Aj9sviZSTpnxQmg66qvr6+v6etQambVE/Td6M3OqKrziak6l5MxizFFfsvZxWcR8Znq6ybdEi2BMzlGlAT9rdnXJ6rqjhjhK5txseVIvt7ui2Gtshk4iaqL7QtdMU7sLrRq4uU6M0b4yaq6VQ+8UNL1RTjb4rgez2dNenxc7+vjurxaqSzp1lLoic9NStUdQRczM3HdlcpVX76wFsOew6jqX0m62O7LyVqxHeyIP/yeI+jy1ukuzzM9e/gHfBRLFaCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDDjrooIMOOuiggw466KCDfrp0BEEQBEEQBEEQZDLyH9wYMNdu2VOuAAAAAElFTkSuQmCC",Ym="/portfolio_web/assets/ChatGPT%20Image%20Aug%208_%202025_%2005_29_32%20PM-CBdGGeRS.png",Pk="/portfolio_web/assets/billgenx-ClBls9Cg.png",Ok="/portfolio_web/assets/boticon-DBHuKJFO.png",Ak="/portfolio_web/assets/ChatGPT%20Image%20Aug%204_%202025_%2002_29_18%20PM-BoNgf4As.png",Dk="/portfolio_web/assets/icon-BnOptfgh.png",Mk="/portfolio_web/assets/Lucid_Origin_I_need_a_logo_for_my_car_parts_website_with_the_n_1-CL7otamC.jpg",Xm="/portfolio_web/assets/cv-DNwIthtI.pdf",Lk=()=>{const[i,e]=ce.useState(!1),[n,s]=ce.useState(0),[l,u]=ce.useState("home"),[d,f]=ce.useState(!0),[p,g]=ce.useState(0),[y,_]=ce.useState(0),[w,N]=ce.useState(!1),[R,F]=ce.useState(!1),V=[bk,Rk],_e=[Pk,Ok,Ak,Dk,Mk],ee=[{primaryGradient:"from-purple-600 to-blue-600",primaryHoverGradient:"from-purple-500 to-blue-500",secondaryGradient:"from-orange-600 to-red-600",secondaryHoverGradient:"from-orange-500 to-red-500",cardGradient:"from-black/70 via-purple-900/20 to-blue-900/10",cardHoverShadow:"hover:shadow-purple-500/40",cardBorder:"hover:border-purple-400/50",glowEffect:"from-purple-500/20 to-blue-500/15",robotGlow:"from-orange-500/25 via-purple-500/15 to-cyan-500/20",accentColor:"text-cyan-400",badgeGradient:"from-purple-500/30 to-purple-600/20",badgeText:"text-purple-200",badgeBorder:"border-purple-400/40"},{primaryGradient:"from-emerald-600 to-teal-600",primaryHoverGradient:"from-emerald-500 to-teal-500",secondaryGradient:"from-amber-600 to-orange-600",secondaryHoverGradient:"from-amber-500 to-orange-500",cardGradient:"from-black/70 via-emerald-900/20 to-teal-900/10",cardHoverShadow:"hover:shadow-emerald-500/40",cardBorder:"hover:border-emerald-400/50",glowEffect:"from-emerald-500/20 to-teal-500/15",robotGlow:"from-amber-500/25 via-emerald-500/15 to-teal-500/20",accentColor:"text-emerald-400",badgeGradient:"from-emerald-500/30 to-emerald-600/20",badgeText:"text-emerald-200",badgeBorder:"border-emerald-400/40"}][y];ce.useEffect(()=>{const oe=()=>{F(window.innerWidth<768)};return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]),ce.useEffect(()=>{if(!R){const oe=setInterval(()=>{ye()},5e3);return()=>clearInterval(oe)}},[y,R]);const ye=()=>{R||(N(!0),setTimeout(()=>{_(oe=>(oe+1)%V.length),setTimeout(()=>{N(!1)},300)},300))},Fe=["Home","About","Education","Skills","Licenses & Certifications","Work Experience","Projects","Contact"];ce.useEffect(()=>{const oe=()=>{const K=window.scrollY;f(K<p),g(K),s(K);const Ve=Fe.map($=>document.getElementById($.toLowerCase().replace(/ & /g,"-").replace(" ","-"))).reduce(($,j)=>j&&j.getBoundingClientRect().top>=100?j.id:$,l);u(Ve)};return window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)},[l,p]);const ge=oe=>{const K=document.getElementById(oe);K?(K.scrollIntoView({behavior:"smooth"}),e(!1),u(oe)):console.error(`Section with id "${oe}" not found.`)};return C.jsxs("div",{className:"h-auto relative min-h-auto w-full bg-black overflow-hidden transition-all duration-1000",children:[C.jsxs("div",{className:"absolute inset-0",children:[C.jsx("img",{src:Nk,alt:"background",className:"w-full h-full object-cover opacity-100"}),C.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black via-purple-900/10 to-cyan-900/5 transition-all duration-1000 ${y===1?"via-emerald-900/10 to-teal-900/5":""}`}),C.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-transparent via-blue-900/5 to-purple-900/15 transition-all duration-1000 ${y===1?"via-emerald-900/5 to-teal-900/15":""}`})]}),!R&&C.jsxs("div",{className:"absolute top-6 right-6 z-50 flex items-center gap-3",children:[C.jsx("div",{className:"flex gap-2",children:V.map((oe,K)=>C.jsx("button",{onClick:()=>{K!==y&&(_(K),N(!0),setTimeout(()=>N(!1),600))},className:`w-3 h-3 rounded-full transition-all duration-500 border-2 ${K===y?`bg-gradient-to-r ${ee.primaryGradient} border-white/60 shadow-lg`:"bg-white/20 border-white/30 hover:border-white/50"}`},K))}),C.jsx("button",{onClick:ye,className:`px-3 py-1 rounded-full bg-gradient-to-r ${ee.primaryGradient} text-white text-xs font-medium hover:scale-105 transition-all duration-300 shadow-lg`,children:"Switch"})]}),C.jsx("div",{className:"relative min-h-screen flex flex-col justify-between items-center px-6 mt-4 mb-4 z-10",children:C.jsxs("div",{className:"rounded-[70px] w-full h-full p-2 border border-white/20 bg-gradient-to-br from-white/5 to-transparent shadow-2xl shadow-purple-500/10",children:[C.jsx("div",{className:"w-full text-center",children:C.jsx("h3",{className:"mt-2 font-italiana text-white text-[12px] md:text-base font-extralight tracking-wider bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Electronics Engineer | Software Developer | Designer"})}),C.jsxs("div",{className:"h-full flex-1 flex flex-col items-center justify-center w-full max-w-7xl mx-auto",children:[C.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-[70px] w-full px-4 flex justify-center",children:[C.jsx("div",{className:"group relative w-60 md:w-80 mt-[300px] z-30",children:C.jsxs("div",{className:`flex flex-col items-center justify-center relative border border-white/20 bg-gradient-to-br from-black/60 via-black/40 to-purple-900/20 backdrop-blur-xl rounded-[2rem] p-1 transition-all duration-700 shadow-2xl shadow-purple-500/20 group-hover:shadow-orange-500/30 ${y===1?"to-emerald-900/20 shadow-emerald-500/20 group-hover:shadow-amber-500/30":""}`,children:[C.jsx(Fp,{className:`absolute top-4 left-4 ${ee.accentColor} text-2xl animate-spin-slow transition-colors duration-1000`}),C.jsxs("p",{className:"mb-3 font-italiana text-gray-300 text-[13px] md:text-sm text-center leading-relaxed relative z-10",children:[C.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-4 group/img",children:[C.jsx("img",{src:qm,alt:"profile",className:"w-full rounded-2xl transition-all duration-700 group-hover:scale-[1.1] group/img:brightness-110"}),C.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${y===1?"from-emerald-500/10":""}`})]}),C.jsx("div",{className:"flex justify-center items-center gap-3 mb-4",children:_e.map((oe,K)=>C.jsx("div",{className:`w-8 h-8 rounded-full overflow-hidden border-2 border-orange-500/40 shadow-lg transition-all duration-500 hover:scale-110 hover:border-white/60 hover:shadow-xl ${y===1?"hover:shadow-emerald-400/40":"hover:shadow-purple-400/40"}`,style:{animationDelay:`${K*.1}s`},children:C.jsx("img",{src:oe,alt:`App logo ${K+1}`,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})},K))}),C.jsx("span",{className:"bg-gradient-to-r from-gray-300 via-white to-gray-300 bg-clip-text text-transparent",children:"I craft the Future one Innovative solution at a time"})]}),C.jsxs("div",{className:"flex flex-col gap-3 relative z-10",children:[C.jsxs("button",{className:`button relative overflow-hidden group/btn bg-gradient-to-r ${ee.primaryGradient} hover:${ee.primaryHoverGradient.replace("hover:","")} transition-all duration-500 shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40`,onClick:()=>ge("contact"),children:[C.jsx("span",{className:"relative z-10",children:"Connect with me"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"})]}),C.jsxs("button",{className:`button relative overflow-hidden group/btn bg-gradient-to-r ${ee.secondaryGradient} hover:${ee.secondaryHoverGradient.replace("hover:","")} transition-all duration-500 shadow-lg shadow-orange-500/25 hover:shadow-orange-500/40`,onClick:()=>window.open(Xm,"_blank"),children:[C.jsx("span",{className:"relative z-10",children:"Download resume"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"})]})]})]})}),C.jsxs("div",{className:"relative flex flex-col items-center justify-center z-20",children:[C.jsxs("div",{className:"mb-[600px] relative text-center mt-3 z-10",children:[C.jsxs("div",{className:"flex items-center justify-center gap-2",children:[C.jsx("span",{className:"absolute top-6 left-12 font-italiana text-white/90 text-[20px] bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"At the"}),C.jsx("h1",{className:"font-italiana text-5xl md:text-[200px] text-white tracking-wide bg-gradient-to-br from-white via-blue-100 to-purple-200 bg-clip-text text-transparent drop-shadow-2xl",children:"intersection"})]}),C.jsx("p",{className:"absolute top-30 right-0 text-right font-italiana text-white text-sm md:text-lg tracking-wider bg-gradient-to-l from-cyan-200 via-white to-purple-200 bg-clip-text text-transparent",children:"of electronics and code"})]}),C.jsx("div",{className:"absolute top-0 flex justify-center items-center z-20 mt-[100px]",children:C.jsx("div",{className:"relative group h-[80vh] w-[100vw] object-cover"})})]}),C.jsxs("div",{className:"absolute bottom-0 mt-[300px] group relative z-30",children:[C.jsx("div",{className:"mb-3 relative absolute top-40 left-24 group/card",children:C.jsxs("div",{className:`border border-white/30 bg-gradient-to-br ${ee.cardGradient} backdrop-blur-2xl rounded-3xl p-4 transition-all duration-700 hover:scale-[1.12] hover:rotate-2 hover:shadow-2xl ${ee.cardHoverShadow} ${ee.cardBorder} relative overflow-hidden`,children:[C.jsx("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${ee.glowEffect} opacity-0 group-hover/card:opacity-100 transition-opacity duration-700`}),C.jsx("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-br ${ee.glowEffect} opacity-0 group-hover/card:opacity-100 transition-opacity duration-700 blur-lg`}),C.jsxs("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover/card:opacity-100 transition-opacity duration-1000",children:[C.jsx("div",{className:`absolute top-4 right-4 w-1 h-1 bg-blue-400 rounded-full animate-pulse ${y===1?"bg-emerald-400":""}`}),C.jsx("div",{className:`absolute bottom-6 left-6 w-1 h-1 bg-purple-400 rounded-full animate-pulse delay-300 ${y===1?"bg-teal-400":""}`}),C.jsx("div",{className:`absolute top-1/2 right-8 w-0.5 h-0.5 bg-cyan-400 rounded-full animate-pulse delay-700 ${y===1?"bg-emerald-400":""}`})]}),C.jsx("div",{className:"relative z-10",children:C.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:`w-16 h-16 rounded-2xl overflow-hidden transition-all duration-700 group-hover/card:scale-[1.2] group-hover/card:rotate-12 shadow-xl shadow-purple-500/30 border border-white/20 ${y===1?"shadow-emerald-500/30":""}`,children:[C.jsx("img",{src:Qm,alt:"Masked Image",className:"w-full h-full object-cover transition-transform duration-700 group-hover/card:scale-110 group-hover/card:brightness-110"}),C.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${ee.glowEffect} opacity-0 group-hover/card:opacity-100 transition-opacity duration-500`})]}),C.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-green-400 via-emerald-400 to-cyan-400 rounded-full animate-pulse shadow-xl shadow-green-400/60 border-2 border-white/30"}),C.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-green-400/50 to-emerald-400/50 rounded-full animate-ping"})]}),C.jsxs("div",{className:"flex flex-col flex-1",children:[C.jsx("div",{className:"flex items-center justify-between mb-2"}),C.jsx("h3",{className:"font-italiana text-white text-xs font-light tracking-wide bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"MOBITEL Market Edge Sales Management System"}),C.jsx(nl,{className:`w-5 h-5 text-white/60 transition-all duration-500 group-hover/card:${ee.accentColor} group-hover/card:translate-x-2 group-hover/card:scale-110 drop-shadow-lg`}),C.jsx("p",{className:"text-gray-400 text-xs leading-relaxed bg-gradient-to-r from-gray-400 to-gray-300 bg-clip-text text-transparent",children:"AI-Powered Sales System"}),C.jsxs("div",{className:"mt-3 flex gap-2",children:[C.jsx("span",{className:`px-3 py-1 bg-gradient-to-r ${ee.badgeGradient} ${ee.badgeText} text-xs rounded-full ${ee.badgeBorder} shadow-lg shadow-purple-500/20 backdrop-blur-sm transition-all duration-1000`,children:"Enterprise"}),C.jsx("span",{className:`px-3 py-1 bg-gradient-to-r from-blue-500/30 to-blue-600/20 text-blue-200 text-xs rounded-full border border-blue-400/40 shadow-lg shadow-blue-500/20 backdrop-blur-sm transition-all duration-1000 ${y===1?"from-teal-500/30 to-teal-600/20 text-teal-200 border-teal-400/40 shadow-teal-500/20":""}`,children:"Sales"})]})]})]})})]})}),C.jsx("div",{className:"relative absolute left-12 top-40 group/card",children:C.jsxs("div",{className:`border border-white/25 bg-gradient-to-br from-black/60 via-cyan-900/10 to-teal-900/5 backdrop-blur-xl rounded-2xl p-6 transition-all duration-600 hover:scale-[1.08] hover:-rotate-2 hover:shadow-xl hover:shadow-cyan-500/30 hover:border-cyan-400/40 relative overflow-hidden ${y===1?"via-emerald-900/10 to-emerald-900/5 hover:shadow-emerald-500/30 hover:border-emerald-400/40":""}`,children:[C.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-r from-cyan-500/15 to-teal-500/10 opacity-0 group-hover/card:opacity-100 transition-opacity duration-600 ${y===1?"from-emerald-500/15 to-emerald-500/10":""}`}),C.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-tr from-orange-400/5 to-yellow-400/10 opacity-0 group-hover/card:opacity-100 transition-opacity duration-600 blur-sm ${y===1?"from-amber-400/5 to-amber-400/10":""}`}),C.jsx("div",{className:"relative z-10",children:C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:`w-12 h-12 rounded-xl overflow-hidden transition-all duration-600 group-hover/card:scale-[1.15] group-hover/card:-rotate-6 shadow-lg shadow-cyan-500/20 border border-white/20 ${y===1?"shadow-emerald-500/20":""}`,children:[C.jsx("img",{src:Ym,alt:"Masked Image",className:"w-full h-full object-cover transition-transform duration-600 group-hover/card:scale-105 group-hover/card:brightness-110"}),C.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-orange-500/10 opacity-0 group-hover/card:opacity-100 transition-opacity duration-500 ${y===1?"from-emerald-500/10 to-amber-500/10":""}`})]}),C.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 bg-gradient-to-r from-orange-400 via-yellow-400 to-amber-400 rounded-full shadow-lg shadow-orange-400/50 border border-white/30 transition-all duration-1000 ${y===1?"from-amber-400 via-amber-400 to-yellow-400 shadow-amber-400/50":""}`})]}),C.jsxs("div",{className:"flex flex-col flex-1",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[C.jsx("h3",{className:`font-italiana text-white text-sm font-light tracking-wide bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent transition-all duration-1000 ${y===1?"to-emerald-200":""}`,children:"ChayaSmart+"}),C.jsx(nl,{className:`w-4 h-4 text-white/60 transition-all duration-400 group-hover/card:text-cyan-400 group-hover/card:translate-x-1 group-hover/card:scale-110 ${y===1?"group-hover/card:text-emerald-400":""}`})]}),C.jsx("p",{className:"text-gray-400 text-xs leading-relaxed bg-gradient-to-r from-gray-400 to-gray-300 bg-clip-text text-transparent",children:"Tea Estate Management System"}),C.jsx("div",{className:"mt-2",children:C.jsx("span",{className:`px-2 py-0.5 bg-gradient-to-r from-cyan-500/25 to-teal-500/20 text-cyan-200 text-xs rounded-md border border-cyan-400/30 shadow-md shadow-cyan-500/20 backdrop-blur-sm transition-all duration-1000 ${y===1?"from-emerald-500/25 to-emerald-500/20 text-emerald-200 border-emerald-400/30 shadow-emerald-500/20":""}`,children:"Platform"})})]})]})})]})})]}),C.jsxs("div",{className:"absolute top-[600px] left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center z-20 group",children:[C.jsx("div",{className:`absolute w-[100%] h-[100%] bg-gradient-to-r ${ee.robotGlow} rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-all duration-1000`}),C.jsx("div",{className:`absolute w-[100%] h-[100%] bg-gradient-to-r ${ee.glowEffect} rounded-full blur-2xl opacity-0 group-hover:opacity-80 transition-all duration-700 delay-200`}),C.jsx("div",{className:`relative transition-all duration-700 group-hover:scale-[1.05] group-hover:brightness-110 drop-shadow-2xl ${w?"scale-95 opacity-70":"scale-100 opacity-100"}`,children:C.jsx("img",{src:V[y],alt:"robot",loading:"lazy",className:`h-[1000px] filter drop-shadow-2xl transition-all duration-600 ${w?"blur-sm":"blur-0"}`})})]})]}),C.jsxs("div",{className:"md:hidden h-full flex flex-col items-center justify-center w-full px-4 py-8",children:[C.jsxs("div",{className:"w-full text-center mb-12",children:[C.jsx("h1",{className:"font-italiana text-4xl text-white tracking-wide bg-gradient-to-br from-white via-blue-100 to-purple-200 bg-clip-text text-transparent drop-shadow-lg mb-1",children:"At the intersection"}),C.jsx("p",{className:"font-italiana text-white text-lg tracking-wider bg-gradient-to-r from-cyan-200 via-white to-purple-200 bg-clip-text text-transparent",children:"of electronics and code"})]}),C.jsx("div",{className:"group relative w-full max-w-sm mx-auto mb-10",children:C.jsxs("div",{className:"flex flex-col items-center justify-center relative border border-white/20 bg-gradient-to-br from-black/70 via-black/50 to-purple-900/20 backdrop-blur-xl rounded-3xl p-6 transition-all duration-500 shadow-xl shadow-purple-500/20",children:[C.jsx(Fp,{className:"absolute top-4 left-4 text-cyan-400 text-2xl animate-spin-slow"}),C.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-6 w-full",children:[C.jsx("img",{src:qm,alt:"profile",loading:"lazy",className:"w-full rounded-2xl transition-all duration-500 group-hover:scale-[1.02] group-hover:brightness-110"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),C.jsx("div",{className:"flex justify-center items-center gap-3 mb-6",children:_e.map((oe,K)=>C.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-orange-500/40 shadow-lg transition-all duration-500 hover:scale-110 hover:border-white/60 hover:shadow-xl hover:shadow-purple-400/40",style:{animationDelay:`${K*.1}s`},children:C.jsx("img",{src:oe,alt:`App logo ${K+1}`,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})},K))}),C.jsx("p",{className:"mb-6 font-italiana text-gray-300 text-sm text-center leading-relaxed",children:C.jsx("span",{className:"bg-gradient-to-r from-gray-300 via-white to-gray-300 bg-clip-text text-transparent",children:"I craft the Future one Innovative solution at a time"})}),C.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[C.jsx("button",{className:"button w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 transition-all duration-500 shadow-lg shadow-purple-500/25",onClick:()=>ge("contact"),children:"Connect with me"}),C.jsx("button",{className:"button w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 transition-all duration-500 shadow-lg shadow-orange-500/25",onClick:()=>window.open(Xm,"_blank"),children:"Download resume"})]})]})}),C.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6 mb-8",children:[C.jsx("div",{className:"group/card",children:C.jsxs("div",{className:"border border-white/25 bg-gradient-to-br from-black/70 via-purple-900/15 to-blue-900/10 backdrop-blur-xl rounded-2xl p-5 transition-all duration-500 hover:scale-[1.02] hover:shadow-lg hover:shadow-purple-500/20 relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-purple-500/10 to-blue-500/8 opacity-0 group-hover/card:opacity-100 transition-opacity duration-500"}),C.jsx("div",{className:"relative z-10",children:C.jsxs("div",{className:"flex items-start gap-4",children:[C.jsxs("div",{className:"relative flex-shrink-0",children:[C.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden shadow-lg shadow-purple-500/20 border border-white/20",children:C.jsx("img",{src:Qm,alt:"MOBITEL Market Edge",className:"w-full h-full object-cover transition-transform duration-500 group-hover/card:scale-105"})}),C.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-pulse shadow-lg shadow-green-400/50 border-2 border-white/30"})]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-start justify-between mb-2",children:[C.jsx("h3",{className:"font-italiana text-white text-sm font-light tracking-wide bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"MOBITEL Market Edge"}),C.jsx(nl,{className:"w-4 h-4 text-white/60 transition-all duration-400 group-hover/card:text-cyan-400 group-hover/card:translate-x-1 flex-shrink-0 ml-2"})]}),C.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-3",children:"AI-Powered Sales Management System"}),C.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-500/25 to-purple-600/20 text-purple-200 text-xs rounded-full border border-purple-400/40 shadow-sm",children:"Enterprise"}),C.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/25 to-blue-600/20 text-blue-200 text-xs rounded-full border border-blue-400/40 shadow-sm",children:"Sales"})]})]})]})})]})}),C.jsx("div",{className:"group/card",children:C.jsxs("div",{className:"border border-white/20 bg-gradient-to-br from-black/70 via-cyan-900/10 to-teal-900/8 backdrop-blur-xl rounded-2xl p-5 transition-all duration-500 hover:scale-[1.02] hover:shadow-lg hover:shadow-cyan-500/20 relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-cyan-500/10 to-teal-500/8 opacity-0 group-hover/card:opacity-100 transition-opacity duration-500"}),C.jsx("div",{className:"relative z-10",children:C.jsxs("div",{className:"flex items-start gap-4",children:[C.jsxs("div",{className:"relative flex-shrink-0",children:[C.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden shadow-lg shadow-cyan-500/15 border border-white/20",children:C.jsx("img",{src:Ym,alt:"ChayaSmart+",className:"w-full h-full object-cover transition-transform duration-500 group-hover/card:scale-105"})}),C.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-gradient-to-r from-orange-400 to-yellow-500 rounded-full shadow-lg shadow-orange-400/40 border border-white/20"})]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-start justify-between mb-2",children:[C.jsx("h3",{className:"font-italiana text-white text-sm font-light tracking-wide bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"ChayaSmart+"}),C.jsx(nl,{className:"w-4 h-4 text-white/60 transition-all duration-400 group-hover/card:text-cyan-400 group-hover/card:translate-x-1 flex-shrink-0 ml-2"})]}),C.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-3",children:"Tea Estate Management System"}),C.jsx("div",{className:"flex flex-wrap gap-2",children:C.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-cyan-500/20 to-teal-500/15 text-cyan-200 text-xs rounded-full border border-cyan-400/25 shadow-sm",children:"Platform"})})]})]})})]})})]})]})]})]})}),!R&&C.jsx("div",{className:`absolute inset-0 pointer-events-none transition-all duration-1000 ${w?"bg-black/20":"bg-transparent"}`})]})},jk=ce.lazy(()=>Ut(()=>import("./HeaderBar-rIrgWXYz.js"),__vite__mapDeps([0,1,2,3]))),Fk=ce.lazy(()=>Ut(()=>import("./videos-B08BC-FZ.js"),[])),Uk=ce.lazy(()=>Ut(()=>import("./AboutUs-321yWhgy.js"),__vite__mapDeps([4,5]))),zk=ce.lazy(()=>Ut(()=>import("./Education-PmpkKpjG.js"),__vite__mapDeps([6,7]))),Vk=ce.lazy(()=>Ut(()=>import("./SkillsData-C7DTK5zS.js"),__vite__mapDeps([8,9,10,11,3]))),Hk=ce.lazy(()=>Ut(()=>import("./LicensesCertifications-CPt8QmwI.js"),[])),Wk=ce.lazy(()=>Ut(()=>import("./WorkExperience-BYjNmavb.js"),[])),Bk=ce.lazy(()=>Ut(()=>import("./ProjectsData-B3GeYrVG.js"),__vite__mapDeps([12,5,9,11,7,13]))),$k=ce.lazy(()=>Ut(()=>import("./designpage-BxGwgHob.js"),__vite__mapDeps([14,9,7,10]))),Gk=ce.lazy(()=>Ut(()=>import("./Testimonials-CuuASNNX.js"),__vite__mapDeps([15,2]))),Kk=ce.lazy(()=>Ut(()=>import("./Contact-LMQEOMiw.js"),[])),qk=ce.lazy(()=>Ut(()=>import("./Copyright-OO81IRax.js"),__vite__mapDeps([16,1,9,7])));function Qk(){return ce.useEffect(()=>{vy.init({duration:600,once:!0})},[]),C.jsx(xk,{children:C.jsxs("div",{children:[C.jsx(ce.Suspense,{fallback:C.jsx(jl,{}),children:C.jsx(jk,{})}),C.jsxs("main",{children:[C.jsx("section",{id:"home",children:C.jsx(Lk,{})}),C.jsx(Yk,{id:"videosection",Component:Fk}),C.jsx(_n,{id:"about",Component:Uk}),C.jsx(_n,{id:"education-journey",Component:zk}),C.jsx(_n,{id:"dexterity",Component:Vk}),C.jsx(_n,{id:"professional-designations",Component:Hk}),C.jsx(_n,{id:"professional-journey",Component:Wk}),C.jsx(_n,{id:"creative-ventures",Component:Bk}),C.jsx(_n,{id:"design-scape",Component:$k}),C.jsx(_n,{id:"testimonials",Component:Gk}),C.jsx(_n,{id:"contact",Component:Kk})]}),C.jsx(ce.Suspense,{fallback:C.jsx(jl,{}),children:C.jsx(qk,{})})]})})}function _n({id:i,Component:e}){const[n,s]=ce.useState(!1);return ce.useEffect(()=>{const l=document.getElementById(i);if(!l)return;const u=new IntersectionObserver(([d])=>{d.isIntersecting&&(s(!0),u.disconnect())});return u.observe(l),()=>u.disconnect()},[i]),C.jsx("section",{id:i,children:n?C.jsx(ce.Suspense,{fallback:C.jsx(jl,{}),children:C.jsx(e,{})}):C.jsx("div",{style:{height:"50vh"}})})}function Yk({id:i,Component:e}){return C.jsx("section",{id:i,children:C.jsx(ce.Suspense,{fallback:C.jsx(jl,{}),children:C.jsx(e,{})})})}function jl(){return C.jsx("div",{className:"text-center py-10 text-gray-400 animate-pulse text-sm",children:"Loading..."})}dy.createRoot(document.getElementById("root")).render(C.jsx(ce.StrictMode,{children:C.jsx(Qk,{})}));export{nl as A,n2 as F,Pr as G,Sr as R,Xk as a,bk as b,Ny as c,o2 as d,d2 as e,Tk as f,Jm as g,i2 as h,u2 as i,C as j,l2 as k,a2 as l,vy as m,Zk as n,c2 as o,h2 as p,t2 as q,ce as r,s2 as s,r2 as t,f2 as u,e2 as v,Jk as w};
